[2021-05-14T16:41:40.3454381+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2021-05-14T16:41:40.6588895+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2021-05-14T16:41:40.7412048+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] Creating key {2ceb67ab-409e-4568-8943-ba2294758fab} with creation date 2021-05-14 16:41:40Z, activation date 2021-05-14 16:41:40Z, and expiration date 2021-08-12 16:41:40Z.
[2021-05-14T16:41:40.7521943+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] No XML encryptor configured. Key {2ceb67ab-409e-4568-8943-ba2294758fab} may be persisted to storage in unencrypted form.
[2021-05-14T16:41:40.7597595+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Writing data to file '"/root/.aspnet/DataProtection-Keys/key-2ceb67ab-409e-4568-8943-ba2294758fab.xml"'.
[2021-05-14T16:41:40.9038840+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2021-05-14T16:41:40.9521344+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2021-05-14T16:41:40.9523103+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2021-05-14T16:41:40.9524061+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2021-05-14T16:41:40.9524858+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2021-05-14T16:41:40.9525649+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2021-05-14T16:41:40.9526436+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2021-05-14T16:41:41.6407292+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2021-05-14T16:41:41.6435666+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2021-05-14T16:41:41.6469875+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2021-05-14T16:41:41.6474486+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2021-05-14T16:45:55.5634202+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost/.well-known/openid-configuration  
[2021-05-14T16:45:55.6055687+00:00][DBUG][15][IdentityServer4.Startup] Login Url: "/Account/Login"
[2021-05-14T16:45:55.6057017+00:00][DBUG][15][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2021-05-14T16:45:55.6057456+00:00][DBUG][15][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2021-05-14T16:45:55.6057724+00:00][DBUG][15][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2021-05-14T16:45:55.6058057+00:00][DBUG][15][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2021-05-14T16:45:55.6060282+00:00][DBUG][15][IdentityServer4.Startup] Error Url: "/home/error"
[2021-05-14T16:45:55.6067172+00:00][DBUG][15][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2021-05-14T16:45:55.6294001+00:00][DBUG][15][IdentityServer4.Hosting.EndpointRouter] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
[2021-05-14T16:45:55.6378156+00:00][DBUG][15][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
[2021-05-14T16:45:55.6381583+00:00][INFO][15][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2021-05-14T16:45:55.6398970+00:00][DBUG][15][IdentityServer4.Endpoints.DiscoveryEndpoint] Start discovery request
[2021-05-14T16:45:55.6737895+00:00][INFO][15][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T16:45:56.5626616+00:00][EROR][15][Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type '"MyProject.Admin.EntityFramework.Shared.DbContexts.IdentityServerConfigurationDbContext"'."
""System.ArgumentException: Keyword not supported: multipleactiveresultsets (Parameter 'keyword')
   at Npgsql.NpgsqlConnectionStringBuilder.GetProperty(String keyword)
   at Npgsql.NpgsqlConnectionStringBuilder.set_Item(String keyword, Object value)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnectionStringBuilder..ctor(String connectionString)
   at Npgsql.NpgsqlConnection.GetPoolAndSettings()
   at Npgsql.NpgsqlConnection.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnection..ctor(String connectionString)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()"
System.ArgumentException: Keyword not supported: multipleactiveresultsets (Parameter 'keyword')
   at Npgsql.NpgsqlConnectionStringBuilder.GetProperty(String keyword)
   at Npgsql.NpgsqlConnectionStringBuilder.set_Item(String keyword, Object value)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnectionStringBuilder..ctor(String connectionString)
   at Npgsql.NpgsqlConnection.GetPoolAndSettings()
   at Npgsql.NpgsqlConnection.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnection..ctor(String connectionString)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2021-05-14T16:45:56.9758166+00:00][INFO][15][IdentityServer4.Events.DefaultEventService] UnhandledExceptionEvent { Details: "System.ArgumentException: Keyword not supported: multipleactiveresultsets (Parameter 'keyword')
   at Npgsql.NpgsqlConnectionStringBuilder.GetProperty(String keyword)
   at Npgsql.NpgsqlConnectionStringBuilder.set_Item(String keyword, Object value)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnectionStringBuilder..ctor(String connectionString)
   at Npgsql.NpgsqlConnection.GetPoolAndSettings()
   at Npgsql.NpgsqlConnection.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnection..ctor(String connectionString)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToArrayAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at IdentityServer4.EntityFramework.Stores.ResourceStore.GetAllResourcesAsync()
   at IdentityServer4.Stores.IResourceStoreExtensions.GetAllEnabledResourcesAsync(IResourceStore store)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.CreateDiscoveryDocumentAsync(String baseUrl, String issuerUri)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)", Category: "Error", Name: "Unhandled Exception", EventType: Error, Id: 3000, Message: "Keyword not supported: multipleactiveresultsets (Parameter 'keyword')", ActivityId: "0HM8MUUV4Q0AR:00000001", TimeStamp: 05/14/2021 16:45:56, ProcessId: 27, LocalIpAddress: "::ffff:172.18.0.7:80", RemoteIpAddress: "::ffff:172.18.0.8" }
[2021-05-14T16:45:56.9802071+00:00][FATL][15][IdentityServer4.Hosting.IdentityServerMiddleware] Unhandled exception: "Keyword not supported: multipleactiveresultsets (Parameter 'keyword')"
System.ArgumentException: Keyword not supported: multipleactiveresultsets (Parameter 'keyword')
   at Npgsql.NpgsqlConnectionStringBuilder.GetProperty(String keyword)
   at Npgsql.NpgsqlConnectionStringBuilder.set_Item(String keyword, Object value)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnectionStringBuilder..ctor(String connectionString)
   at Npgsql.NpgsqlConnection.GetPoolAndSettings()
   at Npgsql.NpgsqlConnection.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnection..ctor(String connectionString)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToArrayAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at IdentityServer4.EntityFramework.Stores.ResourceStore.GetAllResourcesAsync()
   at IdentityServer4.Stores.IResourceStoreExtensions.GetAllEnabledResourcesAsync(IResourceStore store)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.CreateDiscoveryDocumentAsync(String baseUrl, String issuerUri)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
[2021-05-14T16:45:57.1756611+00:00][EROR][15][Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ArgumentException: Keyword not supported: multipleactiveresultsets (Parameter 'keyword')
   at Npgsql.NpgsqlConnectionStringBuilder.GetProperty(String keyword)
   at Npgsql.NpgsqlConnectionStringBuilder.set_Item(String keyword, Object value)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnectionStringBuilder..ctor(String connectionString)
   at Npgsql.NpgsqlConnection.GetPoolAndSettings()
   at Npgsql.NpgsqlConnection.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnection..ctor(String connectionString)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToArrayAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at IdentityServer4.EntityFramework.Stores.ResourceStore.GetAllResourcesAsync()
   at IdentityServer4.Stores.IResourceStoreExtensions.GetAllEnabledResourcesAsync(IResourceStore store)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.CreateDiscoveryDocumentAsync(String baseUrl, String issuerUri)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at NWebsec.AspNetCore.Middleware.Middleware.MiddlewareBase.Invoke(HttpContext context)
   at NWebsec.AspNetCore.Middleware.Middleware.MiddlewareBase.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
[2021-05-14T16:45:57.2592184+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1698.4455ms 500 text/plain
[2021-05-14T16:46:20.4646868+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:9003/  
[2021-05-14T16:46:20.6238154+00:00][INFO][17][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T16:46:20.6650196+00:00][INFO][17][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "MyProject.STS.Identity.Controllers.HomeController" ("MyProject.STS.Identity").
[2021-05-14T16:46:20.7560509+00:00][INFO][17][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2021-05-14T16:46:21.4647837+00:00][INFO][17][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 716.7763ms.
[2021-05-14T16:46:21.4663864+00:00][INFO][17][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)" in 791.7586ms
[2021-05-14T16:46:21.4666982+00:00][INFO][17][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T16:46:21.4708299+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1006.4177ms 200 text/html; charset=utf-8
[2021-05-14T16:46:21.5541905+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:9003/dist/css/bundle.min.css?v=oT_78HNbw1icHDGc5AceMykUYmOGOJKGRMVmkJ7XyTk  
[2021-05-14T16:46:21.5609006+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:9003/dist/css/web.css?v=xyATVK1qJOMwc5iqad_yMVmZ1bPSh2NrIU-LFUH1QnQ  
[2021-05-14T16:46:21.5935505+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:9003/dist/js/bundle.min.js?v=sdrg65r3tKxiGM6AqyQdPavHwyJbTSiP89tDmHuV7DE  
[2021-05-14T16:46:21.5940302+00:00][INFO][17][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"/app/wwwroot/dist/css/web.css"'
[2021-05-14T16:46:21.6026044+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 41.6329ms 200 text/css
[2021-05-14T16:46:21.6038191+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:9003/images/skoruba-icon.png  
[2021-05-14T16:46:21.6398190+00:00][INFO][11][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/images/skoruba-icon.png"'. Physical path: '"/app/wwwroot/images/skoruba-icon.png"'
[2021-05-14T16:46:21.6401230+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 36.3706ms 200 image/png
[2021-05-14T16:46:21.6667016+00:00][INFO][11][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"/app/wwwroot/dist/js/bundle.min.js"'
[2021-05-14T16:46:21.6681674+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 73.904ms 200 application/javascript
[2021-05-14T16:46:21.6696416+00:00][INFO][11][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"/app/wwwroot/dist/css/bundle.min.css"'
[2021-05-14T16:46:21.6702763+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 116.0074ms 200 text/css
[2021-05-14T16:46:21.9389796+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:9003/dist/fonts/open-iconic.woff  
[2021-05-14T16:46:21.9622012+00:00][INFO][11][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"/app/wwwroot/dist/fonts/open-iconic.woff"'
[2021-05-14T16:46:21.9651688+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 27.0545ms 200 application/font-woff
[2021-05-14T16:46:22.0975827+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:9003/favicon.ico  
[2021-05-14T16:46:22.1063833+00:00][INFO][17][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2021-05-14T16:46:22.1075566+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 10.1201ms 200 image/x-icon
[2021-05-14T16:48:06.1547415+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/  
[2021-05-14T16:48:06.1708114+00:00][INFO][11][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T16:48:06.1717568+00:00][INFO][11][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "MyProject.STS.Identity.Controllers.HomeController" ("MyProject.STS.Identity").
[2021-05-14T16:48:06.1825433+00:00][INFO][11][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2021-05-14T16:48:06.2027171+00:00][INFO][11][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 21.695ms.
[2021-05-14T16:48:06.2038142+00:00][INFO][11][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)" in 31.2334ms
[2021-05-14T16:48:06.2041749+00:00][INFO][11][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T16:48:06.2064576+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 51.7252ms 200 text/html; charset=utf-8
[2021-05-14T16:48:06.2550335+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/css/bundle.min.css?v=oT_78HNbw1icHDGc5AceMykUYmOGOJKGRMVmkJ7XyTk  
[2021-05-14T16:48:06.2699921+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/css/web.css?v=xyATVK1qJOMwc5iqad_yMVmZ1bPSh2NrIU-LFUH1QnQ  
[2021-05-14T16:48:06.2731492+00:00][INFO][22][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"/app/wwwroot/dist/css/web.css"'
[2021-05-14T16:48:06.3155165+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 3.675ms 200 text/css
[2021-05-14T16:48:06.3156421+00:00][INFO][20][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/images/skoruba-icon.png  
[2021-05-14T16:48:06.4057299+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/js/bundle.min.js?v=sdrg65r3tKxiGM6AqyQdPavHwyJbTSiP89tDmHuV7DE  
[2021-05-14T16:48:06.4790263+00:00][INFO][21][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"/app/wwwroot/dist/css/bundle.min.css"'
[2021-05-14T16:48:06.4798128+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 224.8693ms 200 text/css
[2021-05-14T16:48:06.5038075+00:00][INFO][11][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/images/skoruba-icon.png"'. Physical path: '"/app/wwwroot/images/skoruba-icon.png"'
[2021-05-14T16:48:06.5049188+00:00][INFO][21][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"/app/wwwroot/dist/js/bundle.min.js"'
[2021-05-14T16:48:06.5063232+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 190.7115ms 200 image/png
[2021-05-14T16:48:06.5063232+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 100.7764ms 200 application/javascript
[2021-05-14T16:48:06.5230403+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/fonts/open-iconic.woff  
[2021-05-14T16:48:06.5644481+00:00][INFO][11][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"/app/wwwroot/dist/fonts/open-iconic.woff"'
[2021-05-14T16:48:06.5671994+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 44.1291ms 200 application/font-woff
[2021-05-14T16:48:06.6204613+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/favicon.ico  
[2021-05-14T16:48:06.6326569+00:00][INFO][11][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2021-05-14T16:48:06.6336898+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 12.802ms 200 image/x-icon
[2021-05-14T16:48:20.0896536+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost/.well-known/openid-configuration  
[2021-05-14T16:48:20.0947598+00:00][DBUG][21][IdentityServer4.Hosting.EndpointRouter] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
[2021-05-14T16:48:20.0989568+00:00][DBUG][21][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
[2021-05-14T16:48:20.1007663+00:00][INFO][21][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2021-05-14T16:48:20.1009867+00:00][DBUG][21][IdentityServer4.Endpoints.DiscoveryEndpoint] Start discovery request
[2021-05-14T16:48:20.1073027+00:00][INFO][21][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T16:48:20.3130303+00:00][EROR][21][Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type '"MyProject.Admin.EntityFramework.Shared.DbContexts.IdentityServerConfigurationDbContext"'."
""System.ArgumentException: Keyword not supported: multipleactiveresultsets (Parameter 'keyword')
   at Npgsql.NpgsqlConnectionStringBuilder.GetProperty(String keyword)
   at Npgsql.NpgsqlConnectionStringBuilder.set_Item(String keyword, Object value)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnectionStringBuilder..ctor(String connectionString)
   at Npgsql.NpgsqlConnection.GetPoolAndSettings()
   at Npgsql.NpgsqlConnection.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnection..ctor(String connectionString)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()"
System.ArgumentException: Keyword not supported: multipleactiveresultsets (Parameter 'keyword')
   at Npgsql.NpgsqlConnectionStringBuilder.GetProperty(String keyword)
   at Npgsql.NpgsqlConnectionStringBuilder.set_Item(String keyword, Object value)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnectionStringBuilder..ctor(String connectionString)
   at Npgsql.NpgsqlConnection.GetPoolAndSettings()
   at Npgsql.NpgsqlConnection.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnection..ctor(String connectionString)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2021-05-14T16:48:20.5527850+00:00][INFO][21][IdentityServer4.Events.DefaultEventService] UnhandledExceptionEvent { Details: "System.ArgumentException: Keyword not supported: multipleactiveresultsets (Parameter 'keyword')
   at Npgsql.NpgsqlConnectionStringBuilder.GetProperty(String keyword)
   at Npgsql.NpgsqlConnectionStringBuilder.set_Item(String keyword, Object value)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnectionStringBuilder..ctor(String connectionString)
   at Npgsql.NpgsqlConnection.GetPoolAndSettings()
   at Npgsql.NpgsqlConnection.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnection..ctor(String connectionString)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToArrayAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at IdentityServer4.EntityFramework.Stores.ResourceStore.GetAllResourcesAsync()
   at IdentityServer4.Stores.IResourceStoreExtensions.GetAllEnabledResourcesAsync(IResourceStore store)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.CreateDiscoveryDocumentAsync(String baseUrl, String issuerUri)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)", Category: "Error", Name: "Unhandled Exception", EventType: Error, Id: 3000, Message: "Keyword not supported: multipleactiveresultsets (Parameter 'keyword')", ActivityId: "0HM8MUUV4Q0AR:00000002", TimeStamp: 05/14/2021 16:48:20, ProcessId: 27, LocalIpAddress: "::ffff:172.18.0.7:80", RemoteIpAddress: "::ffff:172.18.0.8" }
[2021-05-14T16:48:20.5549086+00:00][FATL][21][IdentityServer4.Hosting.IdentityServerMiddleware] Unhandled exception: "Keyword not supported: multipleactiveresultsets (Parameter 'keyword')"
System.ArgumentException: Keyword not supported: multipleactiveresultsets (Parameter 'keyword')
   at Npgsql.NpgsqlConnectionStringBuilder.GetProperty(String keyword)
   at Npgsql.NpgsqlConnectionStringBuilder.set_Item(String keyword, Object value)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnectionStringBuilder..ctor(String connectionString)
   at Npgsql.NpgsqlConnection.GetPoolAndSettings()
   at Npgsql.NpgsqlConnection.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnection..ctor(String connectionString)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToArrayAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at IdentityServer4.EntityFramework.Stores.ResourceStore.GetAllResourcesAsync()
   at IdentityServer4.Stores.IResourceStoreExtensions.GetAllEnabledResourcesAsync(IResourceStore store)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.CreateDiscoveryDocumentAsync(String baseUrl, String issuerUri)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
[2021-05-14T16:48:20.7012325+00:00][EROR][21][Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ArgumentException: Keyword not supported: multipleactiveresultsets (Parameter 'keyword')
   at Npgsql.NpgsqlConnectionStringBuilder.GetProperty(String keyword)
   at Npgsql.NpgsqlConnectionStringBuilder.set_Item(String keyword, Object value)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnectionStringBuilder..ctor(String connectionString)
   at Npgsql.NpgsqlConnection.GetPoolAndSettings()
   at Npgsql.NpgsqlConnection.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnection..ctor(String connectionString)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToArrayAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at IdentityServer4.EntityFramework.Stores.ResourceStore.GetAllResourcesAsync()
   at IdentityServer4.Stores.IResourceStoreExtensions.GetAllEnabledResourcesAsync(IResourceStore store)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.CreateDiscoveryDocumentAsync(String baseUrl, String issuerUri)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at NWebsec.AspNetCore.Middleware.Middleware.MiddlewareBase.Invoke(HttpContext context)
   at NWebsec.AspNetCore.Middleware.Middleware.MiddlewareBase.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
[2021-05-14T16:48:20.7105600+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 621.2044ms 500 text/plain
[2021-05-14T16:53:48.5574814+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/  
[2021-05-14T16:53:48.5637179+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T16:53:48.5656928+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "MyProject.STS.Identity.Controllers.HomeController" ("MyProject.STS.Identity").
[2021-05-14T16:53:48.5864400+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2021-05-14T16:53:48.6061487+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 20.0655ms.
[2021-05-14T16:53:48.6067364+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)" in 38.8903ms
[2021-05-14T16:53:48.6072844+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T16:53:48.6096826+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 54.3152ms 200 text/html; charset=utf-8
[2021-05-14T16:54:19.1467489+00:00][INFO][38][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/  
[2021-05-14T16:54:19.1717948+00:00][INFO][38][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T16:54:19.1726076+00:00][INFO][38][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "MyProject.STS.Identity.Controllers.HomeController" ("MyProject.STS.Identity").
[2021-05-14T16:54:19.1756536+00:00][INFO][38][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2021-05-14T16:54:19.2096297+00:00][INFO][38][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 34.3756ms.
[2021-05-14T16:54:19.2108040+00:00][INFO][38][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)" in 37.6384ms
[2021-05-14T16:54:19.2112285+00:00][INFO][38][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T16:54:19.2120514+00:00][INFO][38][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 65.4478ms 200 text/html; charset=utf-8
[2021-05-14T16:54:19.4045445+00:00][INFO][38][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/favicon.ico  
[2021-05-14T16:54:19.4227392+00:00][INFO][38][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2021-05-14T16:54:19.4233804+00:00][INFO][38][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 18.8665ms 200 image/x-icon
[2021-05-14T16:54:27.7118702+00:00][INFO][42][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost/.well-known/openid-configuration  
[2021-05-14T16:54:27.7129154+00:00][DBUG][42][IdentityServer4.Hosting.EndpointRouter] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
[2021-05-14T16:54:27.7157360+00:00][DBUG][42][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
[2021-05-14T16:54:27.7158790+00:00][INFO][42][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2021-05-14T16:54:27.7159750+00:00][DBUG][42][IdentityServer4.Endpoints.DiscoveryEndpoint] Start discovery request
[2021-05-14T16:54:27.7183852+00:00][INFO][42][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T16:54:27.9113449+00:00][EROR][42][Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type '"MyProject.Admin.EntityFramework.Shared.DbContexts.IdentityServerConfigurationDbContext"'."
""System.ArgumentException: Keyword not supported: multipleactiveresultsets (Parameter 'keyword')
   at Npgsql.NpgsqlConnectionStringBuilder.GetProperty(String keyword)
   at Npgsql.NpgsqlConnectionStringBuilder.set_Item(String keyword, Object value)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnectionStringBuilder..ctor(String connectionString)
   at Npgsql.NpgsqlConnection.GetPoolAndSettings()
   at Npgsql.NpgsqlConnection.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnection..ctor(String connectionString)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()"
System.ArgumentException: Keyword not supported: multipleactiveresultsets (Parameter 'keyword')
   at Npgsql.NpgsqlConnectionStringBuilder.GetProperty(String keyword)
   at Npgsql.NpgsqlConnectionStringBuilder.set_Item(String keyword, Object value)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnectionStringBuilder..ctor(String connectionString)
   at Npgsql.NpgsqlConnection.GetPoolAndSettings()
   at Npgsql.NpgsqlConnection.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnection..ctor(String connectionString)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
[2021-05-14T16:54:28.1347414+00:00][INFO][42][IdentityServer4.Events.DefaultEventService] UnhandledExceptionEvent { Details: "System.ArgumentException: Keyword not supported: multipleactiveresultsets (Parameter 'keyword')
   at Npgsql.NpgsqlConnectionStringBuilder.GetProperty(String keyword)
   at Npgsql.NpgsqlConnectionStringBuilder.set_Item(String keyword, Object value)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnectionStringBuilder..ctor(String connectionString)
   at Npgsql.NpgsqlConnection.GetPoolAndSettings()
   at Npgsql.NpgsqlConnection.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnection..ctor(String connectionString)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToArrayAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at IdentityServer4.EntityFramework.Stores.ResourceStore.GetAllResourcesAsync()
   at IdentityServer4.Stores.IResourceStoreExtensions.GetAllEnabledResourcesAsync(IResourceStore store)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.CreateDiscoveryDocumentAsync(String baseUrl, String issuerUri)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)", Category: "Error", Name: "Unhandled Exception", EventType: Error, Id: 3000, Message: "Keyword not supported: multipleactiveresultsets (Parameter 'keyword')", ActivityId: "0HM8MUUV4Q0B6:00000001", TimeStamp: 05/14/2021 16:54:28, ProcessId: 27, LocalIpAddress: "::ffff:172.18.0.7:80", RemoteIpAddress: "::ffff:172.18.0.8" }
[2021-05-14T16:54:28.1363112+00:00][FATL][42][IdentityServer4.Hosting.IdentityServerMiddleware] Unhandled exception: "Keyword not supported: multipleactiveresultsets (Parameter 'keyword')"
System.ArgumentException: Keyword not supported: multipleactiveresultsets (Parameter 'keyword')
   at Npgsql.NpgsqlConnectionStringBuilder.GetProperty(String keyword)
   at Npgsql.NpgsqlConnectionStringBuilder.set_Item(String keyword, Object value)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnectionStringBuilder..ctor(String connectionString)
   at Npgsql.NpgsqlConnection.GetPoolAndSettings()
   at Npgsql.NpgsqlConnection.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnection..ctor(String connectionString)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToArrayAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at IdentityServer4.EntityFramework.Stores.ResourceStore.GetAllResourcesAsync()
   at IdentityServer4.Stores.IResourceStoreExtensions.GetAllEnabledResourcesAsync(IResourceStore store)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.CreateDiscoveryDocumentAsync(String baseUrl, String issuerUri)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
[2021-05-14T16:54:28.3145974+00:00][EROR][42][Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.ArgumentException: Keyword not supported: multipleactiveresultsets (Parameter 'keyword')
   at Npgsql.NpgsqlConnectionStringBuilder.GetProperty(String keyword)
   at Npgsql.NpgsqlConnectionStringBuilder.set_Item(String keyword, Object value)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnectionStringBuilder..ctor(String connectionString)
   at Npgsql.NpgsqlConnection.GetPoolAndSettings()
   at Npgsql.NpgsqlConnection.set_ConnectionString(String value)
   at Npgsql.NpgsqlConnection..ctor(String connectionString)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1[2021-05-14T17:01:37.4704480+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2021-05-14T17:01:37.5551427+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2021-05-14T17:01:37.6023109+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] Creating key {71138064-d5dd-4b98-a275-779f64a71187} with creation date 2021-05-14 17:01:37Z, activation date 2021-05-14 17:01:37Z, and expiration date 2021-08-12 17:01:37Z.
[2021-05-14T17:01:37.6152554+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] No XML encryptor configured. Key {71138064-d5dd-4b98-a275-779f64a71187} may be persisted to storage in unencrypted form.
[2021-05-14T17:01:37.6220536+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Writing data to file '"/root/.aspnet/DataProtection-Keys/key-71138064-d5dd-4b98-a275-779f64a71187.xml"'.
[2021-05-14T17:01:37.7421255+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2021-05-14T17:01:37.7801052+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2021-05-14T17:01:37.7803862+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2021-05-14T17:01:37.7811440+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2021-05-14T17:01:37.7813909+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2021-05-14T17:01:37.7815709+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2021-05-14T17:01:37.7817210+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2021-05-14T17:01:38.1584641+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2021-05-14T17:01:38.1670852+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2021-05-14T17:01:38.1672098+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2021-05-14T17:01:38.1672653+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2021-05-14T17:01:52.1832950+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:9003/  
[2021-05-14T17:01:52.3644510+00:00][DBUG][6][IdentityServer4.Startup] Login Url: "/Account/Login"
[2021-05-14T17:01:52.3768676+00:00][DBUG][6][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2021-05-14T17:01:52.3773755+00:00][DBUG][6][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2021-05-14T17:01:52.3780944+00:00][DBUG][6][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2021-05-14T17:01:52.3784855+00:00][DBUG][6][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2021-05-14T17:01:52.3787430+00:00][DBUG][6][IdentityServer4.Startup] Error Url: "/home/error"
[2021-05-14T17:01:52.3788210+00:00][DBUG][6][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2021-05-14T17:01:52.8413791+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T17:01:52.9791192+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "MyProject.STS.Identity.Controllers.HomeController" ("MyProject.STS.Ident[2021-05-14T17:30:54.7658116+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2021-05-14T17:30:54.9277653+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2021-05-14T17:30:55.0530291+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] Creating key {58522e42-a16e-44b3-9251-af5dc31fec79} with creation date 2021-05-14 17:30:55Z, activation date 2021-05-14 17:30:55Z, and expiration date 2021-08-12 17:30:55Z.
[2021-05-14T17:30:55.0976397+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] No XML encryptor configured. Key {58522e42-a16e-44b3-9251-af5dc31fec79} may be persisted to storage in unencrypted form.
[2021-05-14T17:30:55.1034588+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Writing data to file '"/root/.aspnet/DataProtection-Keys/key-58522e42-a16e-44b3-9251-af5dc31fec79.xml"'.
[2021-05-14T17:30:55.3455176+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2021-05-14T17:30:55.4313453+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2021-05-14T17:30:55.4314645+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2021-05-14T17:30:55.4315347+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2021-05-14T17:30:55.4370888+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2021-05-14T17:30:55.4374191+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2021-05-14T17:30:55.4375395+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2021-05-14T17:30:55.7169501+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2021-05-14T17:30:55.7216699+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2021-05-14T17:30:55.7219046+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2021-05-14T17:30:55.7223217+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2021-05-14T17:31:01.3811184+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4003/  
[2021-05-14T17:31:01.4151405+00:00][DBUG][4][IdentityServer4.Startup] Login Url: "/Account/Login"
[2021-05-14T17:31:01.4152595+00:00][DBUG][4][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2021-05-14T17:31:01.4152875+00:00][DBUG][4][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2021-05-14T17:31:01.4153335+00:00][DBUG][4][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2021-05-14T17:31:01.4153796+00:00][DBUG][4][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2021-05-14T17:31:01.4154193+00:00][DBUG][4][IdentityServer4.Startup] Error Url: "/home/error"
[2021-05-14T17:31:01.4154435+00:00][DBUG][4][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2021-05-14T17:31:01.4825323+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T17:31:01.5076143+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "MyProject.STS.Identity.Controllers.HomeController" ("MyProject.STS.Identity").
[2021-05-14T17:31:01.5488887+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2021-05-14T17:31:01.9938943+00:00][EROR][4][Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery] An exception was thrown while deserializing the token.
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The antiforgery token could not be decrypted.
 ---> System.Security.Cryptography.CryptographicException: The key {9a6cd8ff-5809-4099-b75d-24c93108cd4e} was not found in the key ring.
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.GetCookieTokenDoesNotThrow(HttpContext httpContext)
[2021-05-14T17:31:02.1419554+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 596.8428ms.
[2021-05-14T17:31:02.1464556+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)" in 637.3172ms
[2021-05-14T17:31:02.1480724+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T17:31:02.1544298+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 776.5875ms 200 text/html; charset=utf-8
[2021-05-14T17:31:03.7522499+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4003/Account/Login  
[2021-05-14T17:31:03.7678546+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T17:31:03.8056381+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("MyProject.STS.Identity").
[2021-05-14T17:31:08.2149481+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2021-05-14T17:31:08.2915209+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 78.0558ms.
[2021-05-14T17:31:08.2925611+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)" in 4485.585ms
[2021-05-14T17:31:08.2929419+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T17:31:08.3034035+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 4551.1608ms 200 text/html; charset=utf-8
[2021-05-14T17:31:36.6617751+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:4003/Account/Login application/x-www-form-urlencoded 264
[2021-05-14T17:31:36.6736710+00:00][DBUG][4][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2021-05-14T17:31:36.6767394+00:00][INFO][4][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2021-05-14T17:31:36.7115013+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T17:31:36.7456486+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyProject.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("MyProject.STS.Identity").
[2021-05-14T17:31:39.8499745+00:00][INFO][4][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T17:31:41.4253619+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("17"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2021-05-14T17:31:51.5180597+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("44"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2021-05-14T17:31:51.6805287+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"ClaimType\", u.\"ClaimValue\", u.\"UserId\"
FROM \"UserClaims\" AS u
WHERE u.\"UserId\" = @__user_Id_0"
[2021-05-14T17:31:51.8718372+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Name\"
FROM \"UserRoles\" AS u
INNER JOIN \"Roles\" AS r ON u.\"RoleId\" = r.\"Id\"
WHERE u.\"UserId\" = @__userId_0"
[2021-05-14T17:31:51.9142447+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"ConcurrencyStamp\", r.\"Name\", r.\"NormalizedName\"
FROM \"Roles\" AS r
WHERE r.\"NormalizedName\" = @__normalizedName_0
LIMIT 1"
[2021-05-14T17:31:51.9636621+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"ClaimType\", r.\"ClaimValue\"
FROM \"RoleClaims\" AS r
WHERE r.\"RoleId\" = @__role_Id_0"
[2021-05-14T17:31:51.9860958+00:00][DBUG][18][IdentityServer4.Hosting.IdentityServerAuthenticationService] Augmenting SignInContext
[2021-05-14T17:31:51.9889566+00:00][DBUG][18][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding idp claim with value: "local"
[2021-05-14T17:31:51.9896440+00:00][DBUG][18][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding auth_time claim with value: "1621013511"
[2021-05-14T17:31:52.0479700+00:00][INFO][18][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2021-05-14T17:31:52.0843903+00:00][INFO][18][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "a1d879e4-6a94-4d05-a7b1-f7cadcbe9cdc", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM8MVO5HJID5:00000003", TimeStamp: 05/14/2021 17:31:52, ProcessId: 27, LocalIpAddress: "::ffff:172.18.0.7:80", RemoteIpAddress: "::ffff:172.18.0.1" }
[2021-05-14T17:31:52.0952374+00:00][INFO][18][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/".
[2021-05-14T17:31:52.0979901+00:00][INFO][18][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)" in 15350.2308ms
[2021-05-14T17:31:52.0994217+00:00][INFO][18][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T17:31:52.1077602+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 15446.4254ms 302 
[2021-05-14T17:31:52.1125871+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4003/  
[2021-05-14T17:31:52.1197132+00:00][INFO][18][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T17:31:52.1203681+00:00][INFO][18][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "MyProject.STS.Identity.Controllers.HomeController" ("MyProject.STS.Identity").
[2021-05-14T17:31:52.1236889+00:00][INFO][18][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2021-05-14T17:31:52.1530274+00:00][INFO][18][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2021-05-14T17:31:52.1618511+00:00][INFO][18][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 38.8115ms.
[2021-05-14T17:31:52.1621776+00:00][INFO][18][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)" in 41.5152ms
[2021-05-14T17:31:52.1624416+00:00][INFO][18][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T17:31:52.1630783+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 50.3811ms 200 text/html; charset=utf-8
[2021-05-14T17:34:11.7311205+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4003/  
[2021-05-14T17:34:11.7681713+00:00][INFO][[2021-05-14T17:47:43.8214493+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2021-05-14T17:47:43.9289313+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2021-05-14T17:47:43.9797085+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] Creating key {dd40b3c9-18df-48c7-95ee-67130224b48f} with creation date 2021-05-14 17:47:43Z, activation date 2021-05-14 17:47:43Z, and expiration date 2021-08-12 17:47:43Z.
[2021-05-14T17:47:43.9938557+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] No XML encryptor configured. Key {dd40b3c9-18df-48c7-95ee-67130224b48f} may be persisted to storage in unencrypted form.
[2021-05-14T17:47:44.0022485+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Writing data to file '"/root/.aspnet/DataProtection-Keys/key-dd40b3c9-18df-48c7-95ee-67130224b48f.xml"'.
[2021-05-14T17:47:44.1452868+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2021-05-14T17:47:44.1734512+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2021-05-14T17:47:44.1736622+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2021-05-14T17:47:44.1738147+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2021-05-14T17:47:44.1739123+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2021-05-14T17:47:44.1740007+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2021-05-14T17:47:44.1741180+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2021-05-14T17:47:44.5065366+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2021-05-14T17:47:44.5107738+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2021-05-14T17:47:44.5110239+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2021-05-14T17:47:44.5111060+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2021-05-14T17:48:12.1413330+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/  
[2021-05-14T17:48:12.1705738+00:00][DBUG][10][IdentityServer4.Startup] Login Url: "/Account/Login"
[2021-05-14T17:48:12.1707164+00:00][DBUG][10][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2021-05-14T17:48:12.1707416+00:00][DBUG][10][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2021-05-14T17:48:12.1707764+00:00][DBUG][10][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2021-05-14T17:48:12.1708267+00:00][DBUG][10][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2021-05-14T17:48:12.1708718+00:00][DBUG][10][IdentityServer4.Startup] Error Url: "/home/error"
[2021-05-14T17:48:12.1708978+00:00][DBUG][10][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2021-05-14T17:48:12.2267861+00:00][INFO][10][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T17:48:12.2357488+00:00][INFO][10][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T17:48:12.3003391+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T17:48:12.3250721+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "MyProject.STS.Identity.Controllers.HomeController" ("MyProject.STS.Identity").
[2021-05-14T17:48:12.3597307+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2021-05-14T17:48:12.8472877+00:00][EROR][10][Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery] An exception was thrown while deserializing the token.
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The antiforgery token could not be decrypted.
 ---> System.Security.Cryptography.CryptographicException: The key {58522e42-a16e-44b3-9251-af5dc31fec79} was not found in the key ring.
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.GetCookieTokenDoesNotThrow(HttpContext httpContext)
[2021-05-14T17:48:13.0038264+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 646.0762ms.
[2021-05-14T17:48:13.0070508+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)" in 680.9054ms
[2021-05-14T17:48:13.0091802+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T17:48:13.0181326+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 878.7325ms 200 text/html; charset=utf-8
[2021-05-14T17:48:13.0537783+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/css/web.css?v=xyATVK1qJOMwc5iqad_yMVmZ1bPSh2NrIU-LFUH1QnQ  
[2021-05-14T17:48:13.0811804+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/css/bundle.min.css?v=oT_78HNbw1icHDGc5AceMykUYmOGOJKGRMVmkJ7XyTk  
[2021-05-14T17:48:13.1432132+00:00][INFO][10][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"/app/wwwroot/dist/css/web.css"'
[2021-05-14T17:48:13.1463304+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 92.4263ms 200 text/css
[2021-05-14T17:48:13.1476618+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/js/bundle.min.js?v=sdrg65r3tKxiGM6AqyQdPavHwyJbTSiP89tDmHuV7DE  
[2021-05-14T17:48:13.2239816+00:00][INFO][10][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"/app/wwwroot/dist/js/bundle.min.js"'
[2021-05-14T17:48:13.2244683+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 76.8359ms 200 application/javascript
[2021-05-14T17:48:13.2252184+00:00][INFO][4][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"/app/wwwroot/dist/css/bundle.min.css"'
[2021-05-14T17:48:13.2255441+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 148.4042ms 200 text/css
[2021-05-14T17:48:13.2317599+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/images/skoruba-icon.png  
[2021-05-14T17:48:13.2612891+00:00][INFO][4][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/images/skoruba-icon.png"'. Physical path: '"/app/wwwroot/images/skoruba-icon.png"'
[2021-05-14T17:48:13.2620226+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 30.0238ms 200 image/png
[2021-05-14T17:48:13.2856645+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/fonts/open-iconic.woff  
[2021-05-14T17:48:13.3135286+00:00][INFO][4][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"/app/wwwroot/dist/fonts/open-iconic.woff"'
[2021-05-14T17:48:13.3215021+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 35.781ms 200 application/font-woff
[2021-05-14T17:48:13.3219305+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/favicon.ico  
[2021-05-14T17:48:13.3342940+00:00][INFO][10][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2021-05-14T17:48:13.3347762+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 12.7702ms 200 image/x-icon
[2021-05-14T17:50:50.0402591+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/.well-known/openid-configuration  
[2021-05-14T17:50:50.1041175+00:00][INFO][21][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T17:50:50.1064808+00:00][INFO][21][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T17:50:50.1074636+00:00][DBUG][21][IdentityServer4.Hosting.EndpointRouter] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
[2021-05-14T17:50:50.1177389+00:00][DBUG][21][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
[2021-05-14T17:50:50.1191780+00:00][INFO][21][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2021-05-14T17:50:50.1215182+00:00][DBUG][21][IdentityServer4.Endpoints.DiscoveryEndpoint] Start discovery request
[2021-05-14T17:50:50.1591763+00:00][INFO][21][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T17:50:51.4638405+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T17:50:51.6636869+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed[2021-05-14T17:58:52.7896345+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2021-05-14T17:58:52.8907868+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2021-05-14T17:58:52.9388343+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] Creating key {464fc156-7e67-4ea1-af63-c2f2c9bc00f2} with creation date 2021-05-14 17:58:52Z, activation date 2021-05-14 17:58:52Z, and expiration date 2021-08-12 17:58:52Z.
[2021-05-14T17:58:52.9471454+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] No XML encryptor configured. Key {464fc156-7e67-4ea1-af63-c2f2c9bc00f2} may be persisted to storage in unencrypted form.
[2021-05-14T17:58:52.9549369+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Writing data to file '"/root/.aspnet/DataProtection-Keys/key-464fc156-7e67-4ea1-af63-c2f2c9bc00f2.xml"'.
[2021-05-14T17:58:53.1247855+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2021-05-14T17:58:53.1702546+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2021-05-14T17:58:53.1704352+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2021-05-14T17:58:53.1705515+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2021-05-14T17:58:53.1713855+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2021-05-14T17:58:53.1715160+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2021-05-14T17:58:53.1716727+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2021-05-14T17:58:53.5134959+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2021-05-14T17:58:53.5177738+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2021-05-14T17:58:53.5183458+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2021-05-14T17:58:53.5185431+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2021-05-14T17:59:26.9497619+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/  
[2021-05-14T17:59:26.9984017+00:00][DBUG][6][IdentityServer4.Startup] Login Url: "/Account/Login"
[2021-05-14T17:59:26.9985320+00:00][DBUG][6][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2021-05-14T17:59:26.9985626+00:00][DBUG][6][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2021-05-14T17:59:26.9985990+00:00][DBUG][6][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2021-05-14T17:59:26.9986462+00:00][DBUG][6][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2021-05-14T17:59:26.9988853+00:00][DBUG][6][IdentityServer4.Startup] Error Url: "/home/error"
[2021-05-14T17:59:26.9990458+00:00][DBUG][6][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2021-05-14T17:59:27.0715655+00:00][INFO][6][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T17:59:27.0793756+00:00][INFO][6][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T17:59:27.1640904+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T17:59:27.2000008+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "MyProject.STS.Identity.Controllers.HomeController" ("MyProject.STS.Identity").
[2021-05-14T17:59:27.2471059+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2021-05-14T17:59:27.6677606+00:00][EROR][6][Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery] An exception was thrown while deserializing the token.
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The antiforgery token could not be decrypted.
 ---> System.Security.Cryptography.CryptographicException: The key {dd40b3c9-18df-48c7-95ee-67130224b48f} was not found in the key ring.
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.GetCookieTokenDoesNotThrow(HttpContext httpContext)
[2021-05-14T17:59:27.8282179+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 586.4323ms.
[2021-05-14T17:59:27.8297359+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)" in 628.7036ms
[2021-05-14T17:59:27.8309485+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T17:59:27.8374718+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 891.5702ms 200 text/html; charset=utf-8
[2021-05-14T18:07:33.2155573+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize?response_type=token&client_id=MyClientId_api_swaggerui&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fswagger%2Foauth2-redirect.html&scope=MyClientId_api&state=RnJpIE1heSAxNCAyMDIxIDIxOjA3OjMzIEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%3D%3D  
[2021-05-14T18:07:33.2720043+00:00][INFO][12][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T18:07:33.2851426+00:00][INFO][12][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T18:07:33.2856485+00:00][DBUG][12][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize" matched to endpoint type "Authorize"
[2021-05-14T18:07:33.2934072+00:00][DBUG][12][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeEndpoint"
[2021-05-14T18:07:33.2963002+00:00][INFO][12][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2021-05-14T18:07:33.3087393+00:00][DBUG][12][IdentityServer4.Endpoints.AuthorizeEndpoint] Start authorize request
[2021-05-14T18:07:33.3303762+00:00][INFO][12][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T18:07:33.3370050+00:00][DBUG][12][IdentityServer4.Endpoints.AuthorizeEndpoint] No user present in authorize request
[2021-05-14T18:07:33.3715134+00:00][DBUG][12][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T18:07:33.4028983+00:00][INFO][12][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:07:34.2227805+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:07:34.4284599+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:07:34.4485714+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:07:34.5460940+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:07:34.5651313+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:07:34.5807608+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:07:34.6181063+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:07:34.7147576+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("65"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:07:34.7288323+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:07:34.7613842+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:07:35.1122344+00:00][DBUG][18][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:07:35.1204809+00:00][DBUG][18][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:07:35.1432004+00:00][EROR][18][IdentityServer4.Validation.AuthorizeRequestValidator] Invalid redirect_uri: "http://localhost:5000/swagger/oauth2-redirect.html"
AuthorizeRequestValidationLog { ClientId: "MyClientId_api_swaggerui", ClientName: "MyClientId_api_swaggerui", RedirectUri: null, AllowedRedirectUris: ["http://127.0.0.1.xip.io:5000/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "token"), ("client_id": "MyClientId_api_swaggerui"), ("redirect_uri": "http://localhost:5000/swagger/oauth2-redirect.html"), ("scope": "MyClientId_api"), ("state": "RnJpIE1heSAxNCAyMDIxIDIxOjA3OjMzIEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==")] }
[2021-05-14T18:07:35.1517259+00:00][EROR][18][IdentityServer4.Endpoints.AuthorizeEndpoint] Request validation failed
[2021-05-14T18:07:35.1522844+00:00][INFO][18][IdentityServer4.Endpoints.AuthorizeEndpoint] AuthorizeRequestValidationLog { ClientId: "MyClientId_api_swaggerui", ClientName: "MyClientId_api_swaggerui", RedirectUri: null, AllowedRedirectUris: ["http://127.0.0.1.xip.io:5000/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "token"), ("client_id": "MyClientId_api_swaggerui"), ("redirect_uri": "http://localhost:5000/swagger/oauth2-redirect.html"), ("scope": "MyClientId_api"), ("state": "RnJpIE1heSAxNCAyMDIxIDIxOjA3OjMzIEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==")] }
[2021-05-14T18:07:35.1694984+00:00][INFO][18][IdentityServer4.Events.DefaultEventService] TokenIssuedFailureEvent { ClientId: "MyClientId_api_swaggerui", ClientName: "MyClientId_api_swaggerui", RedirectUri: null, Endpoint: "Authorize", SubjectId: null, Scopes: "", GrantType: null, Error: "unauthorized_client", ErrorDescription: "Invalid redirect_uri", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HM8N081R5PPE:00000001", TimeStamp: 05/14/2021 18:07:35, ProcessId: 26, LocalIpAddress: "::ffff:172.18.0.7:80", RemoteIpAddress: "::ffff:172.18.0.1" }
[2021-05-14T18:07:35.2230798+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 2007.6603ms 302 
[2021-05-14T18:07:35.2442271+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/home/error?errorId=CfDJ8FbBT0ZnfqFOr2PC8sm8APJbpjiY806qWVTLrTkNDfHGTUpr-5xwF3amEaqo0gdABMYxgliPgia6Zf5lKCun-Aa_THtSv-d5ZFeRLiZpwOGS8oQCUcTjFDpTVzNyb782z6d4_uruDMmlm_bFgZEiNbzmba-Hqce0caz7StyXfjYjHtkR2Hy7yxByAtFSUDn6Iqtgnli2uNdjLBzdoBacWGAneXzUhLTG2oN06iOluEhjmuyTBdm13BeU_lARgk4fg_BnC2TnSlm8vNap_cz9KH1z4Tiu2mq28nxnNzTeAogcskjsru7xLRirVH8lTxLNVjbYodxu2J_I3bnXLP6fVLzYKvcp9zR6etJMudkrv1jd  
[2021-05-14T18:07:35.2838062+00:00][INFO][18][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T18:07:35.2858201+00:00][INFO][18][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T18:07:35.3189002+00:00][INFO][18][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.HomeController.Error (MyProject.STS.Identity)"'
[2021-05-14T18:07:35.3363573+00:00][INFO][18][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Error\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String)" on controller "MyProject.STS.Identity.Controllers.HomeController" ("MyProject.STS.Identity").
[2021-05-14T18:07:35.3716355+00:00][INFO][18][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Error".
[2021-05-14T18:07:35.3938055+00:00][INFO][18][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Error" executed in 23.3785ms.
[2021-05-14T18:07:35.3941293+00:00][INFO][18][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.HomeController.Error (MyProject.STS.Identity)" in 57.3059ms
[2021-05-14T18:07:35.3943094+00:00][INFO][18][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.HomeController.Error (MyProject.STS.Identity)"'
[2021-05-14T18:07:35.3958199+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 151.512ms 200 text/html; charset=utf-8
[2021-05-14T18:08:05.4889545+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/home/error?errorId=CfDJ8FbBT0ZnfqFOr2PC8sm8APJbpjiY806qWVTLrTkNDfHGTUpr-5xwF3amEaqo0gdABMYxgliPgia6Zf5lKCun-Aa_THtSv-d5ZFeRLiZpwOGS8oQCUcTjFDpTVzNyb782z6d4_uruDMmlm_bFgZEiNbzmba-Hqce0caz7StyXfjYjHtkR2Hy7yxByAtFSUDn6Iqtgnli2uNdjLBzdoBacWGAneXzUhLTG2oN06iOluEhjmuyTBdm13BeU_lARgk4fg_BnC2TnSlm8vNap_cz9KH1z4Tiu2mq28nxnNzTeAogcskjsru7xLRirVH8lTxLNVjbYodxu2J_I3bnXLP6fVLzYKvcp9zR6etJMudkrv1jd  
[2021-05-14T18:08:05.5414585+00:00][INFO][17][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T18:08:05.5423862+00:00][INFO][17][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T18:08:05.5550207+00:00][INFO][17][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.HomeController.Error (MyProject.STS.Identity)"'
[2021-05-14T18:08:05.5590639+00:00][INFO][17][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Error\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String)" on controller "MyProject.STS.Identity.Controllers.HomeController" ("MyProject.STS.Identity").
[2021-05-14T18:08:05.5787087+00:00][INFO][17][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Error".
[2021-05-14T18:08:05.6132117+00:00][INFO][17][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Error" executed in 34.5072ms.
[2021-05-14T18:08:05.6147771+00:00][INFO][17][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.HomeController.Error (MyProject.STS.Identity)" in 54.9061ms
[2021-05-14T18:08:05.6153951+00:00][INFO][17][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.HomeController.Error (MyProject.STS.Identity)"'
[2021-05-14T18:08:05.6169532+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 128.5067ms 200 text/html; charset=utf-8
[2021-05-14T18:13:06.1084492+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize?response_type=token&client_id=MyClientId_api_swaggerui&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fswagger%2Foauth2-redirect.html&scope=MyClientId_api&state=RnJpIE1heSAxNCAyMDIxIDIxOjEzOjA2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%3D%3D  
[2021-05-14T18:13:06.1593069+00:00][INFO][24][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T18:13:06.1600906+00:00][INFO][24][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T18:13:06.1619413+00:00][DBUG][24][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize" matched to endpoint type "Authorize"
[2021-05-14T18:13:06.1751150+00:00][DBUG][24][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeEndpoint"
[2021-05-14T18:13:06.1754471+00:00][INFO][24][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2021-05-14T18:13:06.1756604+00:00][DBUG][24][IdentityServer4.Endpoints.AuthorizeEndpoint] Start authorize request
[2021-05-14T18:13:06.1765634+00:00][INFO][24][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T18:13:06.1769710+00:00][DBUG][24][IdentityServer4.Endpoints.AuthorizeEndpoint] No user present in authorize request
[2021-05-14T18:13:06.1772468+00:00][DBUG][24][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T18:13:06.2059638+00:00][INFO][24][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:13:06.2581903+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:13:06.2630655+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:06.2704448+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:06.2768027+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:06.3260350+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:06.3337806+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:06.3609655+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:06.3865816+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:06.3892795+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:06.3931535+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:06.3954279+00:00][DBUG][25][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:13:06.3956123+00:00][DBUG][25][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:13:06.4914310+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:13:06.4948470+00:00][DBUG][24][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:13:06.6080380+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:13:06.7736329+00:00][DBUG][25][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:13:06.7902672+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:13:06.7905076+00:00][DBUG][22][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:13:06.7957372+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:13:06.7973324+00:00][DBUG][25][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:13:06.8051251+00:00][DBUG][25][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T18:13:06.8063728+00:00][DBUG][25][IdentityServer4.Endpoints.AuthorizeEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId_api_swaggerui", ClientName: "MyClientId_api_swaggerui", RedirectUri: "http://localhost:5000/swagger/oauth2-redirect.html", AllowedRedirectUris: ["http://localhost:5000/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "token", ResponseMode: "fragment", GrantType: "implicit", RequestedScopes: "MyClientId_api", State: "RnJpIE1heSAxNCAyMDIxIDIxOjEzOjA2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "", Raw: [("response_type": "token"), ("client_id": "MyClientId_api_swaggerui"), ("redirect_uri": "http://localhost:5000/swagger/oauth2-redirect.html"), ("scope": "MyClientId_api"), ("state": "RnJpIE1heSAxNCAyMDIxIDIxOjEzOjA2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==")] }
[2021-05-14T18:13:06.8105414+00:00][INFO][25][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2021-05-14T18:13:06.8168769+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 708.4528ms 302 
[2021-05-14T18:13:06.8215550+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fresponse_type%3Dtoken%26client_id%3DMyClientId_api_swaggerui%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5000%252Fswagger%252Foauth2-redirect.html%26scope%3DMyClientId_api%26state%3DRnJpIE1heSAxNCAyMDIxIDIxOjEzOjA2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%253D%253D  
[2021-05-14T18:13:06.8550175+00:00][INFO][22][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T18:13:06.8553409+00:00][INFO][22][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T18:13:06.8604988+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T18:13:06.8725916+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("MyProject.STS.Identity").
[2021-05-14T18:13:06.8951322+00:00][INFO][22][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T18:13:06.8954181+00:00][DBUG][22][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T18:13:06.8982466+00:00][INFO][22][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:13:06.9090376+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:13:06.9180263+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:06.9250982+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:06.9327264+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:06.9398933+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:06.9439307+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:06.9633966+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:06.9728189+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:07.0381528+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:07.0658206+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:07.0663963+00:00][DBUG][27][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:13:07.0667414+00:00][DBUG][27][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:13:07.0710004+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:13:07.0924259+00:00][DBUG][27][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:13:07.1150558+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("21"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:13:07.1378552+00:00][DBUG][27][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:13:07.2050278+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:13:07.2053812+00:00][DBUG][22][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:13:07.2092433+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:13:07.2096248+00:00][DBUG][22][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:13:07.2100208+00:00][DBUG][22][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T18:13:07.2202035+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:13:07.2253675+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:07.2311149+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:07.2371925+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:07.2433126+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:07.2685753+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:07.2716031+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:07.2740043+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:07.2784066+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:07.2867840+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:07.3096173+00:00][DBUG][25][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:13:07.3098236+00:00][DBUG][25][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:13:07.3200286+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2021-05-14T18:13:07.3856310+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 66.9807ms.
[2021-05-14T18:13:07.3875483+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)" in 514.5506ms
[2021-05-14T18:13:07.3893158+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T18:13:07.3919142+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 570.4669ms 200 text/html; charset=utf-8
[2021-05-14T18:13:07.4236867+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/fonts/fontawesome-webfont.woff2?v=4.7.0  
[2021-05-14T18:13:07.4879613+00:00][INFO][27][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/fontawesome-webfont.woff2"'. Physical path: '"/app/wwwroot/dist/fonts/fontawesome-webfont.woff2"'
[2021-05-14T18:13:07.4881584+00:00][INFO][27][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 64.5074ms 200 font/woff2
[2021-05-14T18:13:36.3318622+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:4000/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fresponse_type%3Dtoken%26client_id%3DMyClientId_api_swaggerui%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5000%252Fswagger%252Foauth2-redirect.html%26scope%3DMyClientId_api%26state%3DRnJpIE1heSAxNCAyMDIxIDIxOjEzOjA2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%253D%253D application/x-www-form-urlencoded 584
[2021-05-14T18:13:36.3378531+00:00][DBUG][22][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2021-05-14T18:13:36.3392161+00:00][INFO][22][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2021-05-14T18:13:36.3665355+00:00][INFO][22][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T18:13:36.3670257+00:00][INFO][22][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T18:13:36.3757319+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T18:13:36.3857422+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyProject.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("MyProject.STS.Identity").
[2021-05-14T18:13:36.4117784+00:00][INFO][22][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T18:13:36.4130207+00:00][DBUG][22][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T18:13:36.4147372+00:00][INFO][22][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:13:36.5321163+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:13:36.5403957+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:36.5451321+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:36.5510451+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:36.5588189+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:36.5855908+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:36.5884446+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:36.5906019+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:36.5948643+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:36.6008981+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:36.6030697+00:00][DBUG][22][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:13:36.6034066+00:00][DBUG][22][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:13:36.6096263+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:13:36.6101584+00:00][DBUG][22][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:13:36.6195807+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:13:36.6206443+00:00][DBUG][19][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:13:36.6453382+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("21"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:13:36.6472035+00:00][DBUG][22][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:13:36.6535359+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:13:36.6541340+00:00][DBUG][22][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:13:36.6549655+00:00][DBUG][22][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T18:13:36.6604524+00:00][INFO][22][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:13:36.6742389+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2021-05-14T18:13:36.7044841+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2021-05-14T18:13:36.8243502+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"ClaimType\", u.\"ClaimValue\", u.\"UserId\"
FROM \"UserClaims\" AS u
WHERE u.\"UserId\" = @__user_Id_0"
[2021-05-14T18:13:36.9332847+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Name\"
FROM \"UserRoles\" AS u
INNER JOIN \"Roles\" AS r ON u.\"RoleId\" = r.\"Id\"
WHERE u.\"UserId\" = @__userId_0"
[2021-05-14T18:13:36.9967142+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__normalizedName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"ConcurrencyStamp\", r.\"Name\", r.\"NormalizedName\"
FROM \"Roles\" AS r
WHERE r.\"NormalizedName\" = @__normalizedName_0
LIMIT 1"
[2021-05-14T18:13:37.0295945+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"ClaimType\", r.\"ClaimValue\"
FROM \"RoleClaims\" AS r
WHERE r.\"RoleId\" = @__role_Id_0"
[2021-05-14T18:13:37.0442182+00:00][DBUG][22][IdentityServer4.Hosting.IdentityServerAuthenticationService] Augmenting SignInContext
[2021-05-14T18:13:37.0458113+00:00][DBUG][22][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding idp claim with value: "local"
[2021-05-14T18:13:37.0461343+00:00][DBUG][22][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding auth_time claim with value: "1621016017"
[2021-05-14T18:13:37.0480849+00:00][INFO][22][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T18:13:37.0585716+00:00][INFO][22][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2021-05-14T18:13:37.0683095+00:00][INFO][22][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "a1d879e4-6a94-4d05-a7b1-f7cadcbe9cdc", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM8N081R5PPF:00000004", TimeStamp: 05/14/2021 18:13:37, ProcessId: 26, LocalIpAddress: "::ffff:172.18.0.7:80", RemoteIpAddress: "::ffff:172.18.0.1" }
[2021-05-14T18:13:37.0736001+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:13:37.0791217+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.1313166+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("28"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.1798722+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.1848500+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.1872665+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.2146281+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.2218201+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.2687192+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.2749192+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.2759274+00:00][DBUG][20][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:13:37.2760636+00:00][DBUG][20][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:13:37.2782749+00:00][INFO][20][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/connect/authorize/callback?response_type=token&client_id=MyClientId_api_swaggerui&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fswagger%2Foauth2-redirect.html&scope=MyClientId_api&state=RnJpIE1heSAxNCAyMDIxIDIxOjEzOjA2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%3D%3D".
[2021-05-14T18:13:37.2786534+00:00][INFO][20][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)" in 892.7128ms
[2021-05-14T18:13:37.2789488+00:00][INFO][20][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T18:13:37.2797070+00:00][INFO][20][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 948.0817ms 302 
[2021-05-14T18:13:37.2896412+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize/callback?response_type=token&client_id=MyClientId_api_swaggerui&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fswagger%2Foauth2-redirect.html&scope=MyClientId_api&state=RnJpIE1heSAxNCAyMDIxIDIxOjEzOjA2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%3D%3D  
[2021-05-14T18:13:37.2961042+00:00][DBUG][21][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize/callback" matched to endpoint type "Authorize"
[2021-05-14T18:13:37.3020985+00:00][DBUG][21][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint"
[2021-05-14T18:13:37.3028245+00:00][INFO][21][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2021-05-14T18:13:37.3066625+00:00][DBUG][21][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] Start authorize callback request
[2021-05-14T18:13:37.3102548+00:00][DBUG][21][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] User in authorize request: "a1d879e4-6a94-4d05-a7b1-f7cadcbe9cdc"
[2021-05-14T18:13:37.3104773+00:00][DBUG][21][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T18:13:37.3113642+00:00][INFO][21][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:13:37.3184876+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:13:37.3232630+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.3364375+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.3614583+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.3705265+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.3776167+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.4426615+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.4704721+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.4749040+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.4778028+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.4794337+00:00][DBUG][20][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:13:37.4795836+00:00][DBUG][20][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:13:37.4850605+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:13:37.4875047+00:00][DBUG][19][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:13:37.4914691+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:13:37.4921863+00:00][DBUG][21][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:13:37.4951879+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:13:37.5175050+00:00][DBUG][19][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:13:37.5442380+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:13:37.5666823+00:00][DBUG][20][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:13:37.5669245+00:00][DBUG][20][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T18:13:37.5675994+00:00][DBUG][20][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId_api_swaggerui", ClientName: "MyClientId_api_swaggerui", RedirectUri: "http://localhost:5000/swagger/oauth2-redirect.html", AllowedRedirectUris: ["http://localhost:5000/swagger/oauth2-redirect.html"], SubjectId: "a1d879e4-6a94-4d05-a7b1-f7cadcbe9cdc", ResponseType: "token", ResponseMode: "fragment", GrantType: "implicit", RequestedScopes: "MyClientId_api", State: "RnJpIE1heSAxNCAyMDIxIDIxOjEzOjA2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "DTmggEkpmTjEYxjSlpx7mw", Raw: [("response_type": "token"), ("client_id": "MyClientId_api_swaggerui"), ("redirect_uri": "http://localhost:5000/swagger/oauth2-redirect.html"), ("scope": "MyClientId_api"), ("state": "RnJpIE1heSAxNCAyMDIxIDIxOjEzOjA2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==")] }
[2021-05-14T18:13:37.5705754+00:00][INFO][20][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:13:37.5856938+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"Id\" = @__p_0
LIMIT 1"
[2021-05-14T18:13:37.5922401+00:00][INFO][20][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:13:37.6032337+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__key_0
LIMIT 1"
[2021-05-14T18:13:37.6071120+00:00][DBUG][23][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "WZXV3j8Ayyxzx7DNfpEufpQL5xexxx8YOxWCbfzuM/o=" found in database: False
[2021-05-14T18:13:37.6085100+00:00][DBUG][23][IdentityServer4.Stores.DefaultUserConsentStore] "user_consent" grant with value: "MyClientId_api_swaggerui|a1d879e4-6a94-4d05-a7b1-f7cadcbe9cdc" not found in store.
[2021-05-14T18:13:37.6088084+00:00][DBUG][20][IdentityServer4.Services.DefaultConsentService] Found no prior consent from consent store, consent is required
[2021-05-14T18:13:37.6089494+00:00][INFO][20][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing consent: User has not yet consented
[2021-05-14T18:13:37.6122272+00:00][INFO][20][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 322.4337ms 302 
[2021-05-14T18:13:37.6180437+00:00][INFO][20][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fresponse_type%3Dtoken%26client_id%3DMyClientId_api_swaggerui%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5000%252Fswagger%252Foauth2-redirect.html%26scope%3DMyClientId_api%26state%3DRnJpIE1heSAxNCAyMDIxIDIxOjEzOjA2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%253D%253D  
[2021-05-14T18:13:37.6245072+00:00][INFO][20][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2021-05-14T18:13:37.6248289+00:00][INFO][20][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.ConsentController.Index (MyProject.STS.Identity)"'
[2021-05-14T18:13:37.6301921+00:00][INFO][20][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Consent\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(System.String)" on controller "MyProject.STS.Identity.Controllers.ConsentController" ("MyProject.STS.Identity").
[2021-05-14T18:13:37.6352185+00:00][DBUG][20][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T18:13:37.6361016+00:00][INFO][20][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:13:37.6414034+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:13:37.6526632+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.6586101+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.8718628+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.8741695+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.8804847+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.9058351+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.9313563+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.9375812+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.9631500+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:37.9646886+00:00][DBUG][21][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:13:37.9648700+00:00][DBUG][21][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:13:37.9691861+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:13:37.9694098+00:00][DBUG][21][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:13:37.9767614+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:13:37.9802496+00:00][DBUG][20][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:13:37.9880753+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:13:37.9888843+00:00][DBUG][20][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:13:37.9942025+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:13:38.0000430+00:00][DBUG][20][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:13:38.0041717+00:00][DBUG][20][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T18:13:38.0097965+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:13:38.0159548+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:38.0226831+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:38.0284693+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:38.0392221+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:38.0435777+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:38.0517518+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:38.0582816+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:38.0635021+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:38.0670584+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:38.0710033+00:00][DBUG][20][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:13:38.0717690+00:00][DBUG][20][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:13:38.0757584+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:13:38.0765438+00:00][DBUG][20][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:13:38.0843180+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:13:38.0870401+00:00][DBUG][20][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:13:38.0965185+00:00][INFO][20][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2021-05-14T18:13:38.1686593+00:00][INFO][20][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2021-05-14T18:13:38.1761055+00:00][INFO][20][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 82.5737ms.
[2021-05-14T18:13:38.1769115+00:00][INFO][20][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.ConsentController.Index (MyProject.STS.Identity)" in 546.425ms
[2021-05-14T18:13:38.1774295+00:00][INFO][20][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.ConsentController.Index (MyProject.STS.Identity)"'
[2021-05-14T18:13:38.1795700+00:00][INFO][20][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 561.0593ms 200 text/html; charset=utf-8
[2021-05-14T18:13:39.7455046+00:00][INFO][20][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:4000/Consent application/x-www-form-urlencoded 641
[2021-05-14T18:13:39.7460530+00:00][DBUG][20][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Consent" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2021-05-14T18:13:39.7460974+00:00][INFO][20][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2021-05-14T18:13:39.7485709+00:00][INFO][20][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2021-05-14T18:13:39.7487345+00:00][INFO][20][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.ConsentController.Index (MyProject.STS.Identity)"'
[2021-05-14T18:13:39.7612596+00:00][INFO][20][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Consent\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(MyProject.STS.Identity.ViewModels.Consent.ConsentInputModel)" on controller "MyProject.STS.Identity.Controllers.ConsentController" ("MyProject.STS.Identity").
[2021-05-14T18:13:39.7715080+00:00][DBUG][20][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T18:13:39.7731700+00:00][INFO][20][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:13:39.7789913+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:13:39.8796033+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:39.8824147+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:39.8867772+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:39.8895188+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:39.9031403+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:39.9109628+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:39.9454054+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:39.9512893+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:39.9612965+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:39.9631381+00:00][DBUG][22][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:13:39.9634153+00:00][DBUG][22][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:13:39.9681037+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:13:39.9686926+00:00][DBUG][22][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:13:39.9806075+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:13:39.9821374+00:00][DBUG][21][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:13:39.9865710+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:13:39.9869717+00:00][DBUG][21][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:13:40.0159303+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("28"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:13:40.0175849+00:00][DBUG][21][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:13:40.0184265+00:00][DBUG][21][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T18:13:40.0211121+00:00][INFO][21][IdentityServer4.Events.DefaultEventService] ConsentGrantedEvent { SubjectId: "a1d879e4-6a94-4d05-a7b1-f7cadcbe9cdc", ClientId: "MyClientId_api_swaggerui", RequestedScopes: ["MyClientId_api"], GrantedScopes: ["MyClientId_api"], ConsentRemembered: True, Category: "Grants", Name: "Consent granted", EventType: Information, Id: 4000, Message: null, ActivityId: "0HM8N081R5PPF:00000007", TimeStamp: 05/14/2021 18:13:40, ProcessId: 26, LocalIpAddress: "::ffff:172.18.0.7:80", RemoteIpAddress: "::ffff:172.18.0.1" }
[2021-05-14T18:13:40.0461077+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:13:40.0917764+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:40.0991584+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:40.1046100+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:40.1719846+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:40.1789527+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:40.1857440+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:40.2807497+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("47"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:40.2837447+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:40.2860138+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:40.2873418+00:00][DBUG][21][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:13:40.2875806+00:00][DBUG][21][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:13:40.2890552+00:00][INFO][21][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/connect/authorize/callback?response_type=token&client_id=MyClientId_api_swaggerui&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fswagger%2Foauth2-redirect.html&scope=MyClientId_api&state=RnJpIE1heSAxNCAyMDIxIDIxOjEzOjA2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%3D%3D".
[2021-05-14T18:13:40.2900488+00:00][INFO][21][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.ConsentController.Index (MyProject.STS.Identity)" in 528.3689ms
[2021-05-14T18:13:40.2907602+00:00][INFO][21][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.ConsentController.Index (MyProject.STS.Identity)"'
[2021-05-14T18:13:40.2921113+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 546.5056ms 302 
[2021-05-14T18:13:40.2955773+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize/callback?response_type=token&client_id=MyClientId_api_swaggerui&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fswagger%2Foauth2-redirect.html&scope=MyClientId_api&state=RnJpIE1heSAxNCAyMDIxIDIxOjEzOjA2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%3D%3D  
[2021-05-14T18:13:40.2970607+00:00][DBUG][22][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize/callback" matched to endpoint type "Authorize"
[2021-05-14T18:13:40.2979017+00:00][DBUG][22][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint"
[2021-05-14T18:13:40.2979459+00:00][INFO][22][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2021-05-14T18:13:40.2979953+00:00][DBUG][22][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] Start authorize callback request
[2021-05-14T18:13:40.3070726+00:00][DBUG][22][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] User in authorize request: "a1d879e4-6a94-4d05-a7b1-f7cadcbe9cdc"
[2021-05-14T18:13:40.3071487+00:00][DBUG][22][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T18:13:40.3079184+00:00][INFO][22][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:13:40.3101819+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:13:40.3171366+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:40.3282981+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:40.3552981+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:40.3626185+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:40.3892993+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:40.4342494+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:40.4363285+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:40.4408454+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:40.4450824+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:13:40.4459226+00:00][DBUG][22][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:13:40.4460724+00:00][DBUG][22][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:13:40.4732653+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:13:40.4745687+00:00][DBUG][21][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:13:40.4822986+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:13:40.4830875+00:00][DBUG][22][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:13:40.4908315+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:13:40.4917279+00:00][DBUG][22][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:13:40.4977865+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:13:40.4992055+00:00][DBUG][22][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:13:40.4995657+00:00][DBUG][22][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T18:13:40.5018086+00:00][DBUG][22][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId_api_swaggerui", ClientName: "MyClientId_api_swaggerui", RedirectUri: "http://localhost:5000/swagger/oauth2-redirect.html", AllowedRedirectUris: ["http://localhost:5000/swagger/oauth2-redirect.html"], SubjectId: "a1d879e4-6a94-4d05-a7b1-f7cadcbe9cdc", ResponseType: "token", ResponseMode: "fragment", GrantType: "implicit", RequestedScopes: "MyClientId_api", State: "RnJpIE1heSAxNCAyMDIxIDIxOjEzOjA2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "DTmggEkpmTjEYxjSlpx7mw", Raw: [("response_type": "token"), ("client_id": "MyClientId_api_swaggerui"), ("redirect_uri": "http://localhost:5000/swagger/oauth2-redirect.html"), ("scope": "MyClientId_api"), ("state": "RnJpIE1heSAxNCAyMDIxIDIxOjEzOjA2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==")] }
[2021-05-14T18:13:40.5027273+00:00][INFO][22][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:13:40.5092143+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"Id\" = @__p_0
LIMIT 1"
[2021-05-14T18:13:40.5151019+00:00][INFO][22][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:13:40.5192457+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__key_0
LIMIT 1"
[2021-05-14T18:13:40.5240990+00:00][DBUG][21][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "WZXV3j8Ayyxzx7DNfpEufpQL5xexxx8YOxWCbfzuM/o=" found in database: False
[2021-05-14T18:13:40.5243051+00:00][DBUG][21][IdentityServer4.Stores.DefaultUserConsentStore] "user_consent" grant with value: "MyClientId_api_swaggerui|a1d879e4-6a94-4d05-a7b1-f7cadcbe9cdc" not found in store.
[2021-05-14T18:13:40.5267407+00:00][DBUG][21][IdentityServer4.Services.DefaultConsentService] Found no prior consent from consent store, consent is required
[2021-05-14T18:13:40.5319978+00:00][INFO][22][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] User consented to scopes: ["MyClientId_api"]
[2021-05-14T18:13:40.5335566+00:00][DBUG][22][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] User indicated to remember consent for scopes: ["MyClientId_api"]
[2021-05-14T18:13:40.5355843+00:00][DBUG][22][IdentityServer4.Services.DefaultConsentService] Client allows remembering consent, and consent given. Updating consent store for subject: "a1d879e4-6a94-4d05-a7b1-f7cadcbe9cdc"
[2021-05-14T18:13:40.5570257+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__token_Key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__token_Key_0
LIMIT 2"
[2021-05-14T18:13:40.5598827+00:00][DBUG][21][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "WZXV3j8Ayyxzx7DNfpEufpQL5xexxx8YOxWCbfzuM/o=" not found in database
[2021-05-14T18:13:40.6758756+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"PersistedGrants\" (\"Key\", \"ClientId\", \"CreationTime\", \"Data\", \"Expiration\", \"SubjectId\", \"Type\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);"
[2021-05-14T18:13:40.7014206+00:00][DBUG][21][IdentityServer4.ResponseHandling.AuthorizeResponseGenerator] Creating Implicit Flow response.
[2021-05-14T18:13:40.7137138+00:00][DBUG][21][IdentityServer4.Services.DefaultClaimsService] Getting claims for access token for client: "MyClientId_api_swaggerui"
[2021-05-14T18:13:40.7140821+00:00][DBUG][21][IdentityServer4.Services.DefaultClaimsService] Getting claims for access token for subject: "a1d879e4-6a94-4d05-a7b1-f7cadcbe9cdc"
[2021-05-14T18:13:40.7459158+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"ClaimType\", u.\"ClaimValue\", u.\"UserId\"
FROM \"UserClaims\" AS u
WHERE u.\"UserId\" = @__user_Id_0"
[2021-05-14T18:13:40.7505179+00:00][2021-05-14T18:56:56.8144755+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2021-05-14T18:56:56.9013362+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2021-05-14T18:56:57.1502343+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2021-05-14T18:56:57.2337417+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2021-05-14T18:56:57.2344248+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2021-05-14T18:56:57.2429661+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2021-05-14T18:56:57.2564811+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2021-05-14T18:56:57.2579370+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2021-05-14T18:56:57.2595940+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2021-05-14T18:56:57.7287584+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2021-05-14T18:56:57.7292751+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2021-05-14T18:56:57.7293443+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2021-05-14T18:56:57.7294428+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2021-05-14T18:57:46.3174810+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize?response_type=token&client_id=MyClientId_api_swaggerui&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fswagger%2Foauth2-redirect.html&scope=MyClientId_api&state=RnJpIE1heSAxNCAyMDIxIDIxOjU3OjQ2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%3D%3D  
[2021-05-14T18:57:46.3563986+00:00][DBUG][5][IdentityServer4.Startup] Login Url: "/Account/Login"
[2021-05-14T18:57:46.3565415+00:00][DBUG][5][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2021-05-14T18:57:46.3565671+00:00][DBUG][5][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2021-05-14T18:57:46.3565888+00:00][DBUG][5][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2021-05-14T18:57:46.3566078+00:00][DBUG][5][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2021-05-14T18:57:46.3566278+00:00][DBUG][5][IdentityServer4.Startup] Error Url: "/home/error"
[2021-05-14T18:57:46.3566470+00:00][DBUG][5][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2021-05-14T18:57:46.3991769+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:57:47.1386212+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__p_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"Id\" = @__p_0
LIMIT 1"
[2021-05-14T18:57:47.1669024+00:00][INFO][6][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed out.
[2021-05-14T18:57:47.1706682+00:00][INFO][6][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.External" signed out.
[2021-05-14T18:57:47.1718177+00:00][INFO][6][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
[2021-05-14T18:57:47.1805409+00:00][INFO][6][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "No principal."
[2021-05-14T18:57:47.1910337+00:00][INFO][6][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "No principal."
[2021-05-14T18:57:47.1947928+00:00][DBUG][6][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize" matched to endpoint type "Authorize"
[2021-05-14T18:57:47.2158199+00:00][DBUG][6][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeEndpoint"
[2021-05-14T18:57:47.2186553+00:00][INFO][6][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2021-05-14T18:57:47.2220962+00:00][DBUG][6][IdentityServer4.Endpoints.AuthorizeEndpoint] Start authorize request
[2021-05-14T18:57:47.2297326+00:00][INFO][6][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "No principal."
[2021-05-14T18:57:47.2320354+00:00][DBUG][6][IdentityServer4.Endpoints.AuthorizeEndpoint] No user present in authorize request
[2021-05-14T18:57:47.2487599+00:00][DBUG][6][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T18:57:47.2584523+00:00][INFO][6][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:57:47.2848770+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:57:47.4762128+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:47.5117510+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:47.5566879+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:47.5703469+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:47.5810520+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:47.5934786+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:47.6258285+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:47.6592832+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:47.6696694+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:47.9342713+00:00][DBUG][6][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:57:47.9413710+00:00][DBUG][6][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:57:48.0395045+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:57:48.0435538+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:57:48.0974025+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:57:48.1452486+00:00][DBUG][6][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:57:48.1848695+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:57:48.1866902+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:57:48.1920373+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:57:48.1930094+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:57:48.2006951+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T18:57:48.2115869+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId_api_swaggerui", ClientName: "MyClientId_api_swaggerui", RedirectUri: "http://localhost:5000/swagger/oauth2-redirect.html", AllowedRedirectUris: ["http://localhost:5000/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "token", ResponseMode: "fragment", GrantType: "implicit", RequestedScopes: "MyClientId_api", State: "RnJpIE1heSAxNCAyMDIxIDIxOjU3OjQ2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "", Raw: [("response_type": "token"), ("client_id": "MyClientId_api_swaggerui"), ("redirect_uri": "http://localhost:5000/swagger/oauth2-redirect.html"), ("scope": "MyClientId_api"), ("state": "RnJpIE1heSAxNCAyMDIxIDIxOjU3OjQ2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==")] }
[2021-05-14T18:57:48.2199852+00:00][INFO][5][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2021-05-14T18:57:48.2343287+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1918.8046ms 302 
[2021-05-14T18:57:48.2606722+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fresponse_type%3Dtoken%26client_id%3DMyClientId_api_swaggerui%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5000%252Fswagger%252Foauth2-redirect.html%26scope%3DMyClientId_api%26state%3DRnJpIE1heSAxNCAyMDIxIDIxOjU3OjQ2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%253D%253D  
[2021-05-14T18:57:48.3282324+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T18:57:48.3570194+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("MyProject.STS.Identity").
[2021-05-14T18:57:48.3829514+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T18:57:48.3841124+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:57:48.3908190+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:57:48.4148182+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:48.4188925+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:48.4625855+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:48.4665206+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:48.5096343+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("21"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:48.5330184+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:48.5366227+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:48.5596271+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:48.5834431+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:48.5854588+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:57:48.5856842+00:00][DBUG][11][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:57:48.5894599+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:57:48.5899696+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:57:48.6771805+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("65"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:57:48.6804899+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:57:48.6831882+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:57:48.7057657+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:57:48.7094577+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:57:48.7102823+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:57:48.7110338+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T18:57:48.7205286+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:57:48.7460886+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:48.7482380+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:48.7510956+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:48.7769482+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:48.7821216+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:48.7870865+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:48.7891864+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:48.8147367+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:48.8192305+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:48.8195112+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:57:48.8199276+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:57:48.8418685+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2021-05-14T18:57:49.2094946+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 367.6146ms.
[2021-05-14T18:57:49.2197800+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)" in 861.8243ms
[2021-05-14T18:57:49.2213127+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T18:57:49.2284671+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 967.5553ms 200 text/html; charset=utf-8
[2021-05-14T18:57:49.2510148+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/css/bundle.min.css?v=oT_78HNbw1icHDGc5AceMykUYmOGOJKGRMVmkJ7XyTk  
[2021-05-14T18:57:49.3029942+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/js/bundle.min.js?v=sdrg65r3tKxiGM6AqyQdPavHwyJbTSiP89tDmHuV7DE  
[2021-05-14T18:57:49.3029952+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/css/web.css?v=xyATVK1qJOMwc5iqad_yMVmZ1bPSh2NrIU-LFUH1QnQ  
[2021-05-14T18:57:49.3053088+00:00][INFO][5][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] The file "/dist/css/bundle.min.css" was not modified
[2021-05-14T18:57:49.3053665+00:00][INFO][6][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] The file "/dist/js/bundle.min.js" was not modified
[2021-05-14T18:57:49.3070041+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 3.9953ms 304 application/javascript
[2021-05-14T18:57:49.3070041+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 56.013ms 304 text/css
[2021-05-14T18:57:49.3373353+00:00][INFO][11][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"/app/wwwroot/dist/css/web.css"'
[2021-05-14T18:57:49.3381653+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 34.6504ms 200 text/css
[2021-05-14T18:57:49.3543450+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/fonts/fontawesome-webfont.woff2?v=4.7.0  
[2021-05-14T18:57:49.3562342+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/fonts/open-iconic.woff  
[2021-05-14T18:57:49.4006766+00:00][INFO][6][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"/app/wwwroot/dist/fonts/open-iconic.woff"'
[2021-05-14T18:57:49.4008786+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 44.6504ms 200 application/font-woff
[2021-05-14T18:57:49.4006764+00:00][INFO][11][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/fontawesome-webfont.woff2"'. Physical path: '"/app/wwwroot/dist/fonts/fontawesome-webfont.woff2"'
[2021-05-14T18:57:49.4021080+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 47.1983ms 200 font/woff2
[2021-05-14T18:57:49.4054279+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/favicon.ico  
[2021-05-14T18:57:49.4820293+00:00][INFO][6][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2021-05-14T18:57:49.4826357+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 77.0217ms 200 image/x-icon
[2021-05-14T18:57:59.3323205+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:4000/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fresponse_type%3Dtoken%26client_id%3DMyClientId_api_swaggerui%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5000%252Fswagger%252Foauth2-redirect.html%26scope%3DMyClientId_api%26state%3DRnJpIE1heSAxNCAyMDIxIDIxOjU3OjQ2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%253D%253D application/x-www-form-urlencoded 587
[2021-05-14T18:57:59.3377144+00:00][DBUG][11][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2021-05-14T18:57:59.3423360+00:00][INFO][11][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2021-05-14T18:57:59.3505072+00:00][INFO][11][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T18:57:59.3631420+00:00][INFO][11][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyProject.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("MyProject.STS.Identity").
[2021-05-14T18:57:59.3948949+00:00][DBUG][11][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T18:57:59.3962249+00:00][INFO][11][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:57:59.4076382+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:57:59.4546521+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("44"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:59.4597697+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:59.4648414+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:59.4737561+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:59.4968778+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:59.5016479+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:59.5488603+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:59.5769510+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:59.5817197+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:57:59.5859308+00:00][DBUG][6][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:57:59.5861781+00:00][DBUG][6][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:57:59.5963431+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:57:59.5965958+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:57:59.6253524+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:57:59.6686748+00:00][DBUG][6][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:57:59.6721583+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:57:59.6723975+00:00][DBUG][6][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:57:59.6774373+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:57:59.6782338+00:00][DBUG][6][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:57:59.6787703+00:00][DBUG][6][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T18:57:59.6834331+00:00][INFO][6][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:57:59.6936452+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2021-05-14T18:57:59.7389448+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2021-05-14T18:57:59.7871823+00:00][WARN][6][Microsoft.AspNetCore.Identity.UserManager] Invalid password for user "51384c14-f2c7-4abd-8193-75db22d900f9".
[2021-05-14T18:57:59.7874388+00:00][WARN][6][Microsoft.AspNetCore.Identity.SignInManager] User "51384c14-f2c7-4abd-8193-75db22d900f9" failed to provide the correct password.
[2021-05-14T18:57:59.7965073+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2021-05-14T18:57:59.8383356+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedEmail\" = @__normalizedEmail_0
LIMIT 2"
[2021-05-14T18:57:59.9276534+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@p14='?', @p0='?' (DbType = Int32), @p1='?', @p15='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Boolean), @p11='?', @p12='?' (DbType = Boolean), @p13='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Users\" SET \"AccessFailedCount\" = @p0, \"ConcurrencyStamp\" = @p1, \"Email\" = @p2, \"EmailConfirmed\" = @p3, \"LockoutEnabled\" = @p4, \"LockoutEnd\" = @p5, \"NormalizedEmail\" = @p6, \"NormalizedUserName\" = @p7, \"PasswordHash\" = @p8, \"PhoneNumber\" = @p9, \"PhoneNumberConfirmed\" = @p10, \"SecurityStamp\" = @p11, \"TwoFactorEnabled\" = @p12, \"UserName\" = @p13
WHERE \"Id\" = @p14 AND \"ConcurrencyStamp\" = @p15;"
[2021-05-14T18:58:00.0090741+00:00][INFO][13][IdentityServer4.Events.DefaultEventService] UserLoginFailureEvent { Username: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Failure", EventType: Failure, Id: 1001, Message: "invalid credentials", ActivityId: "0HM8N18KNMLKM:00000003", TimeStamp: 05/14/2021 18:58:00, ProcessId: 30, LocalIpAddress: "::ffff:172.18.0.7:80", RemoteIpAddress: "::ffff:172.18.0.1" }
[2021-05-14T18:58:00.0133078+00:00][DBUG][13][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T18:58:00.0177440+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:58:00.0297748+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:00.0574239+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:00.0627663+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:00.0705033+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:00.0758683+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:00.1021159+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:00.1050709+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:00.1314387+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:00.1361274+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:00.1366569+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:58:00.1367586+00:00][DBUG][13][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:58:00.1620522+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:58:00.1658769+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:58:00.1729673+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:58:00.1745144+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:58:00.1993904+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:58:00.2003085+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:58:00.2040885+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:58:00.2055342+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:58:00.2058001+00:00][DBUG][13][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T18:58:00.2082291+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:58:00.2116046+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:00.2424537+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:00.2443524+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:00.2915440+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:00.2940207+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:00.3199575+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:00.3450708+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:00.3535832+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:00.3592848+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:00.3622412+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:58:00.3627499+00:00][DBUG][13][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:58:00.3665265+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2021-05-14T18:58:00.3836668+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 17.4382ms.
[2021-05-14T18:58:00.3845926+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)" in 1020.9656ms
[2021-05-14T18:58:00.3850694+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T18:58:00.3859596+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1053.9395ms 200 text/html; charset=utf-8
[2021-05-14T18:58:08.4731904+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:4000/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fresponse_type%3Dtoken%26client_id%3DMyClientId_api_swaggerui%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5000%252Fswagger%252Foauth2-redirect.html%26scope%3DMyClientId_api%26state%3DRnJpIE1heSAxNCAyMDIxIDIxOjU3OjQ2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%253D%253D application/x-www-form-urlencoded 584
[2021-05-14T18:58:08.4747998+00:00][DBUG][13][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2021-05-14T18:58:08.4758791+00:00][INFO][13][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2021-05-14T18:58:08.4791829+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T18:58:08.4803326+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyProject.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("MyProject.STS.Identity").
[2021-05-14T18:58:08.4968383+00:00][DBUG][13][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T18:58:08.5001635+00:00][INFO][13][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:58:08.5686516+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("28"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:58:08.5742595+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:08.5811150+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:08.5845207+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:08.5880027+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:08.5975247+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:08.6438431+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:08.6466583+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:08.6499954+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:08.6547750+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:08.6588192+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:58:08.6609417+00:00][DBUG][11][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:58:08.6668471+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:58:08.6687327+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:58:08.6770625+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:58:08.6781602+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:58:08.6837784+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:58:08.6841598+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:58:08.7166770+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:58:08.7180944+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:58:08.7196461+00:00][DBUG][11][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T18:58:08.7207994+00:00][INFO][11][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:58:08.7251906+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2021-05-14T18:58:08.7293664+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2021-05-14T18:58:08.7442613+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2021-05-14T18:58:08.7484408+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedEmail\" = @__normalizedEmail_0
LIMIT 2"
[2021-05-14T18:58:08.7966039+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("46"ms) [Parameters=["@p14='?', @p0='?' (DbType = Int32), @p1='?', @p15='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Boolean), @p11='?', @p12='?' (DbType = Boolean), @p13='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Users\" SET \"AccessFailedCount\" = @p0, \"ConcurrencyStamp\" = @p1, \"Email\" = @p2, \"EmailConfirmed\" = @p3, \"LockoutEnabled\" = @p4, \"LockoutEnd\" = @p5, \"NormalizedEmail\" = @p6, \"NormalizedUserName\" = @p7, \"PasswordHash\" = @p8, \"PhoneNumber\" = @p9, \"PhoneNumberConfirmed\" = @p10, \"SecurityStamp\" = @p11, \"TwoFactorEnabled\" = @p12, \"UserName\" = @p13
WHERE \"Id\" = @p14 AND \"ConcurrencyStamp\" = @p15;"
[2021-05-14T18:58:08.8414008+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"ClaimType\", u.\"ClaimValue\", u.\"UserId\"
FROM \"UserClaims\" AS u
WHERE u.\"UserId\" = @__user_Id_0"
[2021-05-14T18:58:08.9425363+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Name\"
FROM \"UserRoles\" AS u
INNER JOIN \"Roles\" AS r ON u.\"RoleId\" = r.\"Id\"
WHERE u.\"UserId\" = @__userId_0"
[2021-05-14T18:58:08.9745110+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"ConcurrencyStamp\", r.\"Name\", r.\"NormalizedName\"
FROM \"Roles\" AS r
WHERE r.\"NormalizedName\" = @__normalizedName_0
LIMIT 1"
[2021-05-14T18:58:09.0120898+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"ClaimType\", r.\"ClaimValue\"
FROM \"RoleClaims\" AS r
WHERE r.\"RoleId\" = @__role_Id_0"
[2021-05-14T18:58:09.0183620+00:00][DBUG][11][IdentityServer4.Hosting.IdentityServerAuthenticationService] Augmenting SignInContext
[2021-05-14T18:58:09.0194146+00:00][DBUG][11][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding idp claim with value: "local"
[2021-05-14T18:58:09.0196132+00:00][DBUG][11][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding auth_time claim with value: "1621018689"
[2021-05-14T18:58:09.0260047+00:00][INFO][11][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2021-05-14T18:58:09.0280033+00:00][INFO][11][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM8N18KNMLKM:00000004", TimeStamp: 05/14/2021 18:58:09, ProcessId: 30, LocalIpAddress: "::ffff:172.18.0.7:80", RemoteIpAddress: "::ffff:172.18.0.1" }
[2021-05-14T18:58:09.0520341+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:58:09.0803563+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.0853763+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.1522281+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.1541998+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.1593360+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.1623088+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.1656181+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.1717933+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.1966408+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.1969633+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:58:09.1972302+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:58:09.2103034+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/connect/authorize/callback?response_type=token&client_id=MyClientId_api_swaggerui&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fswagger%2Foauth2-redirect.html&scope=MyClientId_api&state=RnJpIE1heSAxNCAyMDIxIDIxOjU3OjQ2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%3D%3D".
[2021-05-14T18:58:09.2109447+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)" in 730.1665ms
[2021-05-14T18:58:09.2113025+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T18:58:09.2119059+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 739.0674ms 302 
[2021-05-14T18:58:09.2304124+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize/callback?response_type=token&client_id=MyClientId_api_swaggerui&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fswagger%2Foauth2-redirect.html&scope=MyClientId_api&state=RnJpIE1heSAxNCAyMDIxIDIxOjU3OjQ2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%3D%3D  
[2021-05-14T18:58:09.2324485+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize/callback" matched to endpoint type "Authorize"
[2021-05-14T18:58:09.2343531+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint"
[2021-05-14T18:58:09.2345761+00:00][INFO][5][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2021-05-14T18:58:09.2424239+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] Start authorize callback request
[2021-05-14T18:58:09.2463596+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] User in authorize request: "51384c14-f2c7-4abd-8193-75db22d900f9"
[2021-05-14T18:58:09.2464395+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T18:58:09.2471472+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:58:09.2508328+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:58:09.2610904+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.2859097+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.2927963+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.2967502+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.3012112+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.3069404+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.3121923+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.3578281+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.3813199+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.3818751+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:58:09.3820034+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:58:09.3842196+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:58:09.3847378+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:58:09.3909953+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:58:09.3951706+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:58:09.4195729+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:58:09.4199142+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:58:09.4287119+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:58:09.4303755+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:58:09.4306211+00:00][DBUG][11][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T18:58:09.4313327+00:00][DBUG][11][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId_api_swaggerui", ClientName: "MyClientId_api_swaggerui", RedirectUri: "http://localhost:5000/swagger/oauth2-redirect.html", AllowedRedirectUris: ["http://localhost:5000/swagger/oauth2-redirect.html"], SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", ResponseType: "token", ResponseMode: "fragment", GrantType: "implicit", RequestedScopes: "MyClientId_api", State: "RnJpIE1heSAxNCAyMDIxIDIxOjU3OjQ2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "LFRHsRtXybOXJOE1ZhSn5Q", Raw: [("response_type": "token"), ("client_id": "MyClientId_api_swaggerui"), ("redirect_uri": "http://localhost:5000/swagger/oauth2-redirect.html"), ("scope": "MyClientId_api"), ("state": "RnJpIE1heSAxNCAyMDIxIDIxOjU3OjQ2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==")] }
[2021-05-14T18:58:09.4340985+00:00][INFO][11][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:58:09.4594651+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"Id\" = @__p_0
LIMIT 1"
[2021-05-14T18:58:09.5112800+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:58:09.5382162+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__key_0
LIMIT 1"
[2021-05-14T18:58:09.5622474+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "AKyaTxE5DAl9PxBDLVKVDbgMbddZ6wRVvqwK+fNj+co=" found in database: False
[2021-05-14T18:58:09.5844170+00:00][DBUG][11][IdentityServer4.Stores.DefaultUserConsentStore] "user_consent" grant with value: "MyClientId_api_swaggerui|51384c14-f2c7-4abd-8193-75db22d900f9" not found in store.
[2021-05-14T18:58:09.5856538+00:00][DBUG][11][IdentityServer4.Services.DefaultConsentService] Found no prior consent from consent store, consent is required
[2021-05-14T18:58:09.5866415+00:00][INFO][11][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing consent: User has not yet consented
[2021-05-14T18:58:09.5902969+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 359.8401ms 302 
[2021-05-14T18:58:09.5941970+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fresponse_type%3Dtoken%26client_id%3DMyClientId_api_swaggerui%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5000%252Fswagger%252Foauth2-redirect.html%26scope%3DMyClientId_api%26state%3DRnJpIE1heSAxNCAyMDIxIDIxOjU3OjQ2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%253D%253D  
[2021-05-14T18:58:09.6005084+00:00][INFO][11][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2021-05-14T18:58:09.6009477+00:00][INFO][11][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.ConsentController.Index (MyProject.STS.Identity)"'
[2021-05-14T18:58:09.6057088+00:00][INFO][11][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Consent\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(System.String)" on controller "MyProject.STS.Identity.Controllers.ConsentController" ("MyProject.STS.Identity").
[2021-05-14T18:58:09.6086528+00:00][DBUG][11][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T18:58:09.6095944+00:00][INFO][11][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:58:09.6337946+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:58:09.7876472+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("45"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.8132060+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.8598102+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.8861159+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.8996344+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.9122687+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.9426037+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.9721061+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.9795540+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:09.9826828+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:58:09.9837806+00:00][DBUG][11][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:58:09.9947318+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:58:10.0002269+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:58:10.0296565+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:58:10.0405049+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:58:10.0497769+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:58:10.0504291+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:58:10.0630815+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:58:10.0647811+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:58:10.0657407+00:00][DBUG][11][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T18:58:10.0717935+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:58:10.1198660+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("43"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:10.1670910+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("45"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:10.1950120+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:10.2055879+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:10.2097109+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:10.2150113+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:10.2198323+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:10.2226327+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:10.2258460+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:10.2267586+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:58:10.2271414+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:58:10.2322189+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:58:10.2336616+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:58:10.2433309+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:58:10.2452772+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:58:10.2499032+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2021-05-14T18:58:10.2825598+00:00][INFO][5][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2021-05-14T18:58:10.2883455+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 39.2788ms.
[2021-05-14T18:58:10.2886883+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.ConsentController.Index (MyProject.STS.Identity)" in 682.8032ms
[2021-05-14T18:58:10.2889433+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.ConsentController.Index (MyProject.STS.Identity)"'
[2021-05-14T18:58:10.2897025+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 695.4607ms 200 text/html; charset=utf-8
[2021-05-14T18:58:12.0451911+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:4000/Consent application/x-www-form-urlencoded 641
[2021-05-14T18:58:12.0455684+00:00][DBUG][5][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Consent" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2021-05-14T18:58:12.0456271+00:00][INFO][5][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2021-05-14T18:58:12.0506746+00:00][INFO][5][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2021-05-14T18:58:12.0514865+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.ConsentController.Index (MyProject.STS.Identity)"'
[2021-05-14T18:58:12.0589500+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Consent\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(MyProject.STS.Identity.ViewModels.Consent.ConsentInputModel)" on controller "MyProject.STS.Identity.Controllers.ConsentController" ("MyProject.STS.Identity").
[2021-05-14T18:58:12.0706807+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T18:58:12.0718167+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:58:12.0744446+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:58:12.0767519+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.1015595+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.1454934+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.1999334+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.2035041+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.2104689+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.2126038+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.2193619+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.2220076+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.2244931+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:58:12.2247390+00:00][DBUG][11][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:58:12.2532760+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:58:12.2537426+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:58:12.2587942+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:58:12.2820217+00:00][DBUG][6][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:58:12.3074358+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:58:12.3084362+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:58:12.3580338+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("48"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:58:12.3587338+00:00][DBUG][6][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:58:12.3594264+00:00][DBUG][6][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T18:58:12.3615209+00:00][INFO][6][IdentityServer4.Events.DefaultEventService] ConsentGrantedEvent { SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", ClientId: "MyClientId_api_swaggerui", RequestedScopes: ["MyClientId_api"], GrantedScopes: ["MyClientId_api"], ConsentRemembered: True, Category: "Grants", Name: "Consent granted", EventType: Information, Id: 4000, Message: null, ActivityId: "0HM8N18KNMLKM:00000007", TimeStamp: 05/14/2021 18:58:12, ProcessId: 30, LocalIpAddress: "::ffff:172.18.0.7:80", RemoteIpAddress: "::ffff:172.18.0.1" }
[2021-05-14T18:58:12.4080882+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:58:12.4557184+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.4603963+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.4833560+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.4855725+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.4875808+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.4925670+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.4971027+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.5020857+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.5044282+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.5047407+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:58:12.5050163+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:58:12.5058182+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/connect/authorize/callback?response_type=token&client_id=MyClientId_api_swaggerui&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fswagger%2Foauth2-redirect.html&scope=MyClientId_api&state=RnJpIE1heSAxNCAyMDIxIDIxOjU3OjQ2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%3D%3D".
[2021-05-14T18:58:12.5062782+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.ConsentController.Index (MyProject.STS.Identity)" in 446.0368ms
[2021-05-14T18:58:12.5065700+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.ConsentController.Index (MyProject.STS.Identity)"'
[2021-05-14T18:58:12.5077535+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 462.7156ms 302 
[2021-05-14T18:58:12.5111258+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize/callback?response_type=token&client_id=MyClientId_api_swaggerui&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fswagger%2Foauth2-redirect.html&scope=MyClientId_api&state=RnJpIE1heSAxNCAyMDIxIDIxOjU3OjQ2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%3D%3D  
[2021-05-14T18:58:12.5129638+00:00][DBUG][6][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize/callback" matched to endpoint type "Authorize"
[2021-05-14T18:58:12.5154355+00:00][DBUG][6][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint"
[2021-05-14T18:58:12.5155176+00:00][INFO][6][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2021-05-14T18:58:12.5155709+00:00][DBUG][6][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] Start authorize callback request
[2021-05-14T18:58:12.5348412+00:00][DBUG][6][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] User in authorize request: "51384c14-f2c7-4abd-8193-75db22d900f9"
[2021-05-14T18:58:12.5349155+00:00][DBUG][6][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T18:58:12.5353743+00:00][INFO][6][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:58:12.5594203+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T18:58:12.5865172+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.5910338+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.5945750+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.6007505+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.6053851+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.6068213+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.6095057+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.6113884+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.6142503+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T18:58:12.6160131+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T18:58:12.6162101+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T18:58:12.6203884+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:58:12.6222991+00:00][DBUG][6][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:58:12.6478028+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:58:12.6493458+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:58:12.6517473+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T18:58:12.6528606+00:00][DBUG][6][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T18:58:12.6600383+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T18:58:12.6618640+00:00][DBUG][6][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T18:58:12.6628563+00:00][DBUG][6][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T18:58:12.6639884+00:00][DBUG][6][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId_api_swaggerui", ClientName: "MyClientId_api_swaggerui", RedirectUri: "http://localhost:5000/swagger/oauth2-redirect.html", AllowedRedirectUris: ["http://localhost:5000/swagger/oauth2-redirect.html"], SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", ResponseType: "token", ResponseMode: "fragment", GrantType: "implicit", RequestedScopes: "MyClientId_api", State: "RnJpIE1heSAxNCAyMDIxIDIxOjU3OjQ2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "LFRHsRtXybOXJOE1ZhSn5Q", Raw: [("response_type": "token"), ("client_id": "MyClientId_api_swaggerui"), ("redirect_uri": "http://localhost:5000/swagger/oauth2-redirect.html"), ("scope": "MyClientId_api"), ("state": "RnJpIE1heSAxNCAyMDIxIDIxOjU3OjQ2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==")] }
[2021-05-14T18:58:12.6658124+00:00][INFO][6][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:58:12.6709346+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"Id\" = @__p_0
LIMIT 1"
[2021-05-14T18:58:12.6739382+00:00][INFO][6][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T18:58:12.6783220+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__key_0
LIMIT 1"
[2021-05-14T18:58:12.6798576+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "AKyaTxE5DAl9PxBDLVKVDbgMbddZ6wRVvqwK+fNj+co=" found in database: False
[2021-05-14T18:58:12.6799882+00:00][DBUG][5][IdentityServer4.Stores.DefaultUserConsentStore] "user_consent" grant with value: "MyClientId_api_swaggerui|51384c14-f2c7-4abd-8193-75db22d900f9" not found in store.
[2021-05-14T18:58:12.6800251+00:00][DBUG][5][IdentityServer4.Services.DefaultConsentService] Found no prior consent from consent store, consent is required
[2021-05-14T18:58:12.6839353+00:00][INFO][5][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] User consented to scopes: ["MyClientId_api"]
[2021-05-14T18:58:12.6846746+00:00][DBUG][5][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] User indicated to remember consent for scopes: ["MyClientId_api"]
[2021-05-14T18:58:12.6862324+00:00][DBUG][5][IdentityServer4.Services.DefaultConsentService] Client allows remembering consent, and consent given. Updating consent store for subject: "51384c14-f2c7-4abd-8193-75db22d900f9"
[2021-05-14T18:58:12.7030181+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__token_Key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__token_Key_0
LIMIT 2"
[2021-05-14T18:58:12.7054268+00:00][DBUG][6][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "AKyaTxE5DAl9PxBDLVKVDbgMbddZ6wRVvqwK+fNj+co=" not found in database
[2021-05-14T18:58:12.7368694+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"PersistedGrants\" (\"Key\", \"ClientId\", \"CreationTime\", \"Data\", \"Expiration\", \"SubjectId\", \"Type\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);"
[2021-05-14T18:58:12.7649969+00:00][DBUG][5][IdentityServer4.ResponseHandling.AuthorizeResponseGenerator] Creating Implicit Flow response.
[2021-05-14T18:58:12.7739479+00:00][DBUG][5][IdentityServer4.Services.DefaultClaimsService] Getting claims for access token for client: "MyClientId_api_swaggerui"
[2021-05-14T18:58:12.7743300+00:00][DBUG][5][IdentityServer4.Services.DefaultClaimsService] Getting claims for access token for subject: "51384c14-f2c7-4abd-8193-75db22d900f9"
[2021-05-14T18:58:12.7836347+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"ClaimType\", u.\"ClaimValue\", u.\"UserId\"
FROM \"UserClaims\" AS u
WHERE u.\"UserId\" = @__user_Id_0"
[2021-05-14T18:58:12.7877740+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Name\"
FROM \"UserRoles\" AS u
INNER JOIN \"Roles\" AS r ON u.\"RoleId\" = r.\"Id\"
WHERE u.\"UserId\" = @__userId_0"
[2021-05-14T18:58:12.7907293+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"ConcurrencyStamp\", r.\"Name\", r.\"NormalizedName\"
FROM \"Roles\" AS r
WHERE r.\"NormalizedName\" = @__normalizedName_0
LIMIT 1"
[2021-05-14T18:58:12.7937173+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"ClaimType\", r.\"ClaimValue\"
FROM \"RoleClaims\" AS r
WHERE r.\"RoleId\" = @__role_Id_0"
[2021-05-14T18:58:12.8685281+00:00][INFO][5][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "MyClientId_api_swaggerui", ClientName: "MyClientId_api_swaggerui", RedirectUri: "http://localhost:5000/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", Scopes: "MyClientId_api", GrantType: "implicit", Tokens: [Token { TokenType: "access_token", TokenValue: "****G8YA" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM8N18KNMLKM:00000008", TimeStamp: 05/14/2021 18:58:12, ProcessId: 30, LocalIpAddress: "::ffff:172.18.0.7:80", RemoteIpAddress: "::ffff:172.18.0.1" }
[2021-05-14T18:58:12.8699237+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] Authorize endpoint response
AuthorizeResponseLog { SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", ClientId: "MyClientId_api_swaggerui", RedirectUri: "http://localhost:5000/swagger/oauth2-redirect.html", State: "RnJpIE1heSAxNCAyMDIxIDIxOjU3OjQ2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==", Scope: "MyClientId_api", Error: null, ErrorDescription: null }
[2021-05-14T18:58:12.8763080+00:00][DBUG][5][IdentityServer4.Hosting.IdentityServerAuthenticationService] Augmenting SignInContext
[2021-05-14T18:58:12.8769164+00:00][INFO][5][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2021-05-14T18:58:12.8796400+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 368.4993ms 302 
[2021-05-14T19:00:39.2960402+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/  
[2021-05-14T19:00:39.3040301+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T19:00:39.3169147+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "MyProject.STS.Identity.Controllers.HomeController" ("MyProject.STS.Identity").
[2021-05-14T19:00:39.3338987+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2021-05-14T19:00:39.3998673+00:00][INFO][6][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2021-05-14T19:00:39.4183482+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 97.1696ms.
[2021-05-14T19:00:39.4456036+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)" in 128.0771ms
[2021-05-14T19:00:39.4461782+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T19:00:39.4484591+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 151.9024ms 200 text/html; charset=utf-8
[2021-05-14T19:00:39.6194254+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/images/skoruba-icon.png  
[2021-05-14T19:00:39.8003604+00:00][INFO][17][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/images/skoruba-icon.png"'. Physical path: '"/app/wwwroot/images/skoruba-icon.png"'
[2021-05-14T19:00:39.8005951+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 203.4246ms 200 image/png
[2021-05-14T19:03:05.2399578+00:00][INFO][20][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/.well-known/openid-configuration  
[2021-05-14T19:03:05.2403827+00:00][DBUG][20][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/.well-known/openid-configuration" from origin: "https://jwt.io"
[2021-05-14T19:03:05.2450001+00:00][INFO][20][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:03:05.3047933+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Origin\"
FROM \"Clients\" AS c
INNER JOIN \"ClientCorsOrigins\" AS c0 ON c.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:03:05.3067165+00:00][DBUG][21][IdentityServer4.EntityFramework.Services.CorsPolicyService] Origin "https://jwt.io" is allowed: False
[2021-05-14T19:03:05.3080179+00:00][WARN][21][IdentityServer4.Hosting.CorsPolicyProvider] CorsPolicyService did not allow origin: "https://jwt.io"
[2021-05-14T19:03:05.3090922+00:00][INFO][21][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2021-05-14T19:03:05.3099934+00:00][DBUG][21][IdentityServer4.Hosting.EndpointRouter] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
[2021-05-14T19:03:05.3127170+00:00][DBUG][21][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
[2021-05-14T19:03:05.3128673+00:00][INFO][21][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking Identity[2021-05-14T19:05:00.2111880+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2021-05-14T19:05:00.4116931+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2021-05-14T19:05:00.7309819+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2021-05-14T19:05:00.7769133+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2021-05-14T19:05:00.7784793+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2021-05-14T19:05:00.7801757+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2021-05-14T19:05:00.7831799+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2021-05-14T19:05:00.7842706+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2021-05-14T19:05:00.7846251+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2021-05-14T19:05:01.2852450+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2021-05-14T19:05:01.2856642+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2021-05-14T19:05:01.2857384+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2021-05-14T19:05:01.2857757+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2021-05-14T19:05:38.9037777+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize?response_type=token&client_id=MyClientId_api_swaggerui&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fswagger%2Foauth2-redirect.html&scope=MyClientId_api&state=RnJpIE1heSAxNCAyMDIxIDIyOjA1OjM4IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%3D%3D  
[2021-05-14T19:05:38.9684201+00:00][DBUG][5][IdentityServer4.Startup] Login Url: "/Account/Login"
[2021-05-14T19:05:38.9686032+00:00][DBUG][5][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2021-05-14T19:05:38.9686419+00:00][DBUG][5][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2021-05-14T19:05:38.9687161+00:00][DBUG][5][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2021-05-14T19:05:38.9687975+00:00][DBUG][5][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2021-05-14T19:05:38.9689834+00:00][DBUG][5][IdentityServer4.Startup] Error Url: "/home/error"
[2021-05-14T19:05:38.9691417+00:00][DBUG][5][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2021-05-14T19:05:39.0337311+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize" matched to endpoint type "Authorize"
[2021-05-14T19:05:39.0531156+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeEndpoint"
[2021-05-14T19:05:39.0533986+00:00][INFO][5][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2021-05-14T19:05:39.0559589+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeEndpoint] Start authorize request
[2021-05-14T19:05:39.0703792+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeEndpoint] User in authorize request: "51384c14-f2c7-4abd-8193-75db22d900f9"
[2021-05-14T19:05:39.0888040+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T19:05:39.1203494+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:05:40.2807801+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("18"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:05:40.4977879+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:05:40.5208849+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:05:40.5839351+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:05:40.6091383+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:05:40.6282437+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:05:40.6501390+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:05:40.7095391+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("44"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:05:40.7685793+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:05:40.7846704+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:05:41.1967565+00:00][DBUG][6][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T19:05:41.2061163+00:00][DBUG][6][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T19:05:41.3358396+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:05:41.3443783+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:05:41.4186388+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:05:41.4859074+00:00][DBUG][6][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:05:41.5297573+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:05:41.5307420+00:00][DBUG][6][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:05:41.5356499+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:05:41.5385400+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:05:41.5476191+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T19:05:41.5637534+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId_api_swaggerui", ClientName: "MyClientId_api_swaggerui", RedirectUri: "http://localhost:5000/swagger/oauth2-redirect.html", AllowedRedirectUris: ["http://localhost:5000/swagger/oauth2-redirect.html"], SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", ResponseType: "token", ResponseMode: "fragment", GrantType: "implicit", RequestedScopes: "MyClientId_api", State: "RnJpIE1heSAxNCAyMDIxIDIyOjA1OjM4IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "LFRHsRtXybOXJOE1ZhSn5Q", Raw: [("response_type": "token"), ("client_id": "MyClientId_api_swaggerui"), ("redirect_uri": "http://localhost:5000/swagger/oauth2-redirect.html"), ("scope": "MyClientId_api"), ("state": "RnJpIE1heSAxNCAyMDIxIDIyOjA1OjM4IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==")] }
[2021-05-14T19:05:41.5764884+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:05:41.5979138+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"Id\" = @__p_0
LIMIT 1"
[2021-05-14T19:05:41.6361844+00:00][INFO][6][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQ[2021-05-14T19:18:20.8909171+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2021-05-14T19:18:21.0603502+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2021-05-14T19:18:21.2786481+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2021-05-14T19:18:21.3162544+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2021-05-14T19:18:21.3175652+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2021-05-14T19:18:21.3215168+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2021-05-14T19:18:21.3230014+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2021-05-14T19:18:21.3242547+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2021-05-14T19:18:21.3251286+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2021-05-14T19:18:21.7709154+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2021-05-14T19:18:21.7755799+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2021-05-14T19:18:21.7788406+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2021-05-14T19:18:21.7789120+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2021-05-14T19:18:34.3382529+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize?response_type=token&client_id=MyClientId_api_swaggerui&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fswagger%2Foauth2-redirect.html&scope=MyClientId_api&state=RnJpIE1heSAxNCAyMDIxIDIyOjE4OjM0IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%3D%3D  
[2021-05-14T19:18:34.3718895+00:00][DBUG][7][IdentityServer4.Startup] Login Url: "/Account/Login"
[2021-05-14T19:18:34.3720565+00:00][DBUG][7][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2021-05-14T19:18:34.3721016+00:00][DBUG][7][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2021-05-14T19:18:34.3721251+00:00][DBUG][7][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2021-05-14T19:18:34.3721533+00:00][DBUG][7][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2021-05-14T19:18:34.3721799+00:00][DBUG][7][IdentityServer4.Startup] Error Url: "/home/error"
[2021-05-14T19:18:34.3722044+00:00][DBUG][7][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2021-05-14T19:18:34.4324361+00:00][DBUG][7][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize" matched to endpoint type "Authorize"
[2021-05-14T19:18:34.4483151+00:00][DBUG][7][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeEndpoint"
[2021-05-14T19:18:34.4486917+00:00][INFO][7][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2021-05-14T19:18:34.4508287+00:00][DBUG][7][IdentityServer4.Endpoints.AuthorizeEndpoint] Start authorize request
[2021-05-14T19:18:34.4633653+00:00][DBUG][7][IdentityServer4.Endpoints.AuthorizeEndpoint] User in authorize request: "51384c14-f2c7-4abd-8193-75db22d900f9"
[2021-05-14T19:18:34.4818559+00:00][DBUG][7][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T19:18:34.5108870+00:00][INFO][7][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:18:35.2010024+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:18:35.3624519+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:18:35.3964978+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:18:35.4501583+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:18:35.4661741+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:18:35.4774143+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:18:35.4926605+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:18:35.5223673+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:18:35.5969843+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("44"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:18:35.6500783+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:18:35.8999413+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T19:18:35.9054993+00:00][DBUG][7][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T19:18:35.9867489+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:18:35.9937247+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:18:36.0481171+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:18:36.0995653+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:18:36.1363825+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:18:36.1384274+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:18:36.2083691+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:18:36.2312802+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:18:36.2385721+00:00][DBUG][7][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T19:18:36.2480537+00:00][DBUG][7][IdentityServer4.Endpoints.AuthorizeEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId_api_swaggerui", ClientName: "MyClientId_api_swaggerui", RedirectUri: "http://localhost:5000/swagger/oauth2-redirect.html", AllowedRedirectUris: ["http://localhost:5000/swagger/oauth2-redirect.html"], SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", ResponseType: "token", ResponseMode: "fragment", GrantType: "implicit", RequestedScopes: "MyClientId_api", State: "RnJpIE1heSAxNCAyMDIxIDIyOjE4OjM0IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "LFRHsRtXybOXJOE1ZhSn5Q", Raw: [("response_type": "token"), ("client_id": "MyClientId_api_swaggerui"), ("redirect_uri": "http://localhost:5000/swagger/oauth2-redirect.html"), ("scope": "MyClientId_api"), ("state": "RnJpIE1heSAxNCAyMDIxIDIyOjE4OjM0IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==")] }
[2021-05-14T19:18:36.2577920+00:00][INFO][7][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:18:36.2943891+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"Id\" = @__p_0
LIMIT 1"
[2021-05-14T19:18:36.3235547+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.Postgr[2021-05-14T19:24:50.7803732+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2021-05-14T19:24:50.8950692+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2021-05-14T19:24:51.2378086+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2021-05-14T19:24:51.2698192+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2021-05-14T19:24:51.2700634+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2021-05-14T19:24:51.2701843+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2021-05-14T19:24:51.2705420+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2021-05-14T19:24:51.2707460+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2021-05-14T19:24:51.2708574+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2021-05-14T19:24:51.7903478+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2021-05-14T19:24:51.7910894+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2021-05-14T19:24:51.7913120+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2021-05-14T19:24:51.7914097+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2021-05-14T19:24:58.7363987+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize?response_type=token&client_id=MyClientId_api_swaggerui&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fswagger%2Foauth2-redirect.html&scope=MyClientId_api&state=RnJpIE1heSAxNCAyMDIxIDIyOjI0OjU4IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%3D%3D  
[2021-05-14T19:24:58.7757289+00:00][DBUG][5][IdentityServer4.Startup] Login Url: "/Account/Login"
[2021-05-14T19:24:58.7760154+00:00][DBUG][5][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2021-05-14T19:24:58.7761062+00:00][DBUG][5][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2021-05-14T19:24:58.7762401+00:00][DBUG][5][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2021-05-14T19:24:58.7762883+00:00][DBUG][5][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2021-05-14T19:24:58.7765472+00:00][DBUG][5][IdentityServer4.Startup] Error Url: "/home/error"
[2021-05-14T19:24:58.7766573+00:00][DBUG][5][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2021-05-14T19:24:58.8538071+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize" matched to endpoint type "Authorize"
[2021-05-14T19:24:58.8816990+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeEndpoint"
[2021-05-14T19:24:58.8822192+00:00][INFO][5][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2021-05-14T19:24:58.8865201+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeEndpoint] Start authorize request
[2021-05-14T19:24:58.9038102+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeEndpoint] User in authorize request: "51384c14-f2c7-4abd-8193-75db22d900f9"
[2021-05-14T19:24:58.9351277+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T19:24:58.9702069+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:24:59.9403701+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:25:00.1890288+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:25:00.2268555+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:25:00.2678416+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:25:00.3018814+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:25:00.3362402+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:25:00.3617199+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:25:00.4041102+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:25:00.4282168+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:25:00.4424768+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:25:00.8759291+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T19:25:00.8829894+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T19:25:01.0048316+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:25:01.0158374+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:25:01.1057685+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:25:01.1989377+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:25:01.2249189+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:25:01.2258123+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:25:01.2353820+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:25:01.2384133+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:25:01.2457811+00:00][DBUG][4][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T19:25:01.2590040+00:00][DBUG][4][IdentityServer4.Endpoints.AuthorizeEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId_api_swaggerui", ClientName: "MyClientId_api_swaggerui", RedirectUri: "http://localhost:5000/swagger/oauth2-redirect.html", AllowedRedirectUris: ["http://localhost:5000/swagger/oauth2-redirect.html"], SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", ResponseType: "token", ResponseMode: "fragment", GrantType: "implicit", RequestedScopes: "MyClientId_api", State: "RnJpIE1heSAxNCAyMDIxIDIyOjI0OjU4IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "LFRHsRtXybOXJOE1ZhSn5Q", Raw: [("response_type": "token"), ("client_id": "MyClientId_api_swaggerui"), ("redirect_uri": "http://localhost:5000/swagger/oauth2-redirect.html"), ("scope": "MyClientId_api"), ("state": "RnJpIE1heSAxNCAyMDIxIDIyOjI0OjU4IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==")] }
[2021-05-14T19:25:01.2685648+00:00][INFO][4][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:25:01.2854838+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"Id\" = @__p_0
LIMIT 1"
[2021-05-14T19:25:01.3398507+00:00][INFO][6][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQ[2021-05-14T19:27:39.4221619+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2021-05-14T19:27:39.5543820+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2021-05-14T19:27:39.7644910+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2021-05-14T19:27:39.8096870+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2021-05-14T19:27:39.8170931+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2021-05-14T19:27:39.8173379+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2021-05-14T19:27:39.8187772+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2021-05-14T19:27:39.8194513+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2021-05-14T19:27:39.8199221+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2021-05-14T19:27:40.1552833+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2021-05-14T19:27:40.1557226+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2021-05-14T19:27:40.1558071+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2021-05-14T19:27:40.1558558+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2021-05-14T19:27:46.6595357+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize?response_type=token&client_id=MyClientId_api_swaggerui&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fswagger%2Foauth2-redirect.html&scope=MyClientId_api&state=RnJpIE1heSAxNCAyMDIxIDIyOjI3OjQ2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%3D%3D  
[2021-05-14T19:27:46.6932694+00:00][DBUG][6][IdentityServer4.Startup] Login Url: "/Account/Login"
[2021-05-14T19:27:46.6933790+00:00][DBUG][6][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2021-05-14T19:27:46.6934257+00:00][DBUG][6][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2021-05-14T19:27:46.6934791+00:00][DBUG][6][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2021-05-14T19:27:46.6935326+00:00][DBUG][6][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2021-05-14T19:27:46.6936018+00:00][DBUG][6][IdentityServer4.Startup] Error Url: "/home/error"
[2021-05-14T19:27:46.6936459+00:00][DBUG][6][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2021-05-14T19:27:46.7355089+00:00][DBUG][6][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize" matched to endpoint type "Authorize"
[2021-05-14T19:27:46.7456393+00:00][DBUG][6][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeEndpoint"
[2021-05-14T19:27:46.7458666+00:00][INFO][6][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2021-05-14T19:27:46.7477947+00:00][DBUG][6][IdentityServer4.Endpoints.AuthorizeEndpoint] Start authorize request
[2021-05-14T19:27:46.7578818+00:00][DBUG][6][IdentityServer4.Endpoints.AuthorizeEndpoint] User in authorize request: "51384c14-f2c7-4abd-8193-75db22d900f9"
[2021-05-14T19:27:46.7737446+00:00][DBUG][6][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T19:27:46.7958427+00:00][INFO][6][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:27:47.4871441+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:27:47.6207704+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:27:47.6338706+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:27:47.7025405+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:27:47.7384372+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:27:47.7515707+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:27:47.7832609+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:27:47.7923578+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:27:47.8044242+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:27:47.8149631+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:27:48.0890630+00:00][DBUG][6][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T19:27:48.0944195+00:00][DBUG][6][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T19:27:48.1814151+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:27:48.2081106+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:27:48.2589934+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:27:48.3297967+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:27:48.3448424+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:27:48.3455244+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:27:48.3514048+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:27:48.3533596+00:00][DBUG][6][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:27:48.3582977+00:00][DBUG][6][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T19:27:48.3688200+00:00][DBUG][6][IdentityServer4.Endpoints.AuthorizeEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId_api_swaggerui", ClientName: "MyClientId_api_swaggerui", RedirectUri: "http://localhost:5000/swagger/oauth2-redirect.html", AllowedRedirectUris: ["http://localhost:5000/swagger/oauth2-redirect.html"], SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", ResponseType: "token", ResponseMode: "fragment", GrantType: "implicit", RequestedScopes: "MyClientId_api", State: "RnJpIE1heSAxNCAyMDIxIDIyOjI3OjQ2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "LFRHsRtXybOXJOE1ZhSn5Q", Raw: [("response_type": "token"), ("client_id": "MyClientId_api_swaggerui"), ("redirect_uri": "http://localhost:5000/swagger/oauth2-redirect.html"), ("scope": "MyClientId_api"), ("state": "RnJpIE1heSAxNCAyMDIxIDIyOjI3OjQ2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==")] }
[2021-05-14T19:27:48.3778911+00:00][INFO][6][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:27:48.3938459+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"Id\" = @__p_0
LIMIT 1"
[2021-05-14T19:27:48.4297605+00:00][INFO][6][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.Postgr[2021-05-14T19:31:13.6313253+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2021-05-14T19:31:13.7754544+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2021-05-14T19:31:13.9820260+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2021-05-14T19:31:14.0137053+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2021-05-14T19:31:14.0139413+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2021-05-14T19:31:14.0141045+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2021-05-14T19:31:14.0144907+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2021-05-14T19:31:14.0146189+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2021-05-14T19:31:14.0147295+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2021-05-14T19:31:14.5290349+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2021-05-14T19:31:14.5349429+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2021-05-14T19:31:14.5351345+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2021-05-14T19:31:14.5352929+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2021-05-14T19:31:30.1485199+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize?response_type=token&client_id=MyClientId_api_swaggerui&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fswagger%2Foauth2-redirect.html&scope=MyClientId_api&state=RnJpIE1heSAxNCAyMDIxIDIyOjMxOjMwIEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%3D%3D  
[2021-05-14T19:31:30.1880990+00:00][DBUG][7][IdentityServer4.Startup] Login Url: "/Account/Login"
[2021-05-14T19:31:30.1882405+00:00][DBUG][7][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2021-05-14T19:31:30.1882888+00:00][DBUG][7][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2021-05-14T19:31:30.1883159+00:00][DBUG][7][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2021-05-14T19:31:30.1883471+00:00][DBUG][7][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2021-05-14T19:31:30.1883909+00:00][DBUG][7][IdentityServer4.Startup] Error Url: "/home/error"
[2021-05-14T19:31:30.1885313+00:00][DBUG][7][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2021-05-14T19:31:30.2117245+00:00][DBUG][7][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize" matched to endpoint type "Authorize"
[2021-05-14T19:31:30.2287973+00:00][DBUG][7][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeEndpoint"
[2021-05-14T19:31:30.2291990+00:00][INFO][7][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2021-05-14T19:31:30.2319264+00:00][DBUG][7][IdentityServer4.Endpoints.AuthorizeEndpoint] Start authorize request
[2021-05-14T19:31:30.2523187+00:00][DBUG][7][IdentityServer4.Endpoints.AuthorizeEndpoint] No user present in authorize request
[2021-05-14T19:31:30.2682933+00:00][DBUG][7][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T19:31:30.2988520+00:00][INFO][7][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:31:31.0155916+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:31:31.1446469+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:31.1789666+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:31.2136360+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:31.2518410+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:31.2864375+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:31.3419907+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:31.3948269+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:31.4312990+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:31.4590849+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:31.7269287+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T19:31:31.7336084+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T19:31:31.8181555+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:31:31.8260859+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:31:31.8778594+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:31:31.9295898+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:31:31.9457792+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:31:31.9480109+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:31:31.9757259+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:31:32.0006771+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:31:32.0079196+00:00][DBUG][7][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T19:31:32.0167425+00:00][DBUG][7][IdentityServer4.Endpoints.AuthorizeEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId_api_swaggerui", ClientName: "MyClientId_api_swaggerui", RedirectUri: "http://localhost:5000/swagger/oauth2-redirect.html", AllowedRedirectUris: ["http://localhost:5000/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "token", ResponseMode: "fragment", GrantType: "implicit", RequestedScopes: "MyClientId_api", State: "RnJpIE1heSAxNCAyMDIxIDIyOjMxOjMwIEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "", Raw: [("response_type": "token"), ("client_id": "MyClientId_api_swaggerui"), ("redirect_uri": "http://localhost:5000/swagger/oauth2-redirect.html"), ("scope": "MyClientId_api"), ("state": "RnJpIE1heSAxNCAyMDIxIDIyOjMxOjMwIEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==")] }
[2021-05-14T19:31:32.0234385+00:00][INFO][7][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2021-05-14T19:31:32.0375608+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1898.3546ms 302 
[2021-05-14T19:31:32.0649503+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fresponse_type%3Dtoken%26client_id%3DMyClientId_api_swaggerui%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5000%252Fswagger%252Foauth2-redirect.html%26scope%3DMyClientId_api%26state%3DRnJpIE1heSAxNCAyMDIxIDIyOjMxOjMwIEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%253D%253D  
[2021-05-14T19:31:32.1155783+00:00][INFO][7][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T19:31:32.1452729+00:00][INFO][7][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("MyProject.STS.Identity").
[2021-05-14T19:31:32.1692249+00:00][DBUG][7][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T19:31:32.1710772+00:00][INFO][7][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:31:32.1959156+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:31:32.2206284+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:32.2864025+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("44"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:32.3117515+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:32.3352436+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:32.3417803+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:32.3441754+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:32.3468668+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:32.3714927+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:32.3742282+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:32.3747250+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T19:31:32.3748797+00:00][DBUG][11][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T19:31:32.3807475+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:31:32.3830103+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:31:32.3876951+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:31:32.4511437+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:31:32.4547025+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:31:32.4549378+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:31:32.4588314+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:31:32.4600482+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:31:32.4608426+00:00][DBUG][11][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T19:31:32.4883147+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:31:32.4906570+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:32.5995194+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("44"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:32.6030871+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:32.7107999+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("65"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:32.7594557+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("44"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:32.7629183+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:32.7696943+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:32.7966853+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:32.8007600+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:32.8041018+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T19:31:32.8046636+00:00][DBUG][11][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T19:31:32.8314658+00:00][INFO][11][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2021-05-14T19:31:33.2259469+00:00][INFO][11][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 394.5996ms.
[2021-05-14T19:31:33.2289887+00:00][INFO][11][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)" in 1082.6838ms
[2021-05-14T19:31:33.2298321+00:00][INFO][11][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T19:31:33.2370811+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1172.063ms 200 text/html; charset=utf-8
[2021-05-14T19:31:33.2874348+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/css/web.css?v=xyATVK1qJOMwc5iqad_yMVmZ1bPSh2NrIU-LFUH1QnQ  
[2021-05-14T19:31:33.2940142+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/css/bundle.min.css?v=oT_78HNbw1icHDGc5AceMykUYmOGOJKGRMVmkJ7XyTk  
[2021-05-14T19:31:33.3184477+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/js/bundle.min.js?v=sdrg65r3tKxiGM6AqyQdPavHwyJbTSiP89tDmHuV7DE  
[2021-05-14T19:31:33.3628206+00:00][INFO][7][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"/app/wwwroot/dist/css/web.css"'
[2021-05-14T19:31:33.3837167+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 96.4682ms 200 text/css
[2021-05-14T19:31:33.4153840+00:00][INFO][7][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"/app/wwwroot/dist/js/bundle.min.js"'
[2021-05-14T19:31:33.4157485+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 97.2712ms 200 application/javascript
[2021-05-14T19:31:33.4153866+00:00][INFO][11][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"/app/wwwroot/dist/css/bundle.min.css"'
[2021-05-14T19:31:33.4167068+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 129.9891ms 200 text/css
[2021-05-14T19:31:33.4424356+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/fonts/fontawesome-webfont.woff2?v=4.7.0  
[2021-05-14T19:31:33.4440313+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/fonts/open-iconic.woff  
[2021-05-14T19:31:33.4545567+00:00][INFO][7][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"/app/wwwroot/dist/fonts/open-iconic.woff"'
[2021-05-14T19:31:33.4547217+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 10.7297ms 200 application/font-woff
[2021-05-14T19:31:33.4600584+00:00][INFO][7][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/fontawesome-webfont.woff2"'. Physical path: '"/app/wwwroot/dist/fonts/fontawesome-webfont.woff2"'
[2021-05-14T19:31:33.4637867+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 21.2887ms 200 font/woff2
[2021-05-14T19:31:33.4859099+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/favicon.ico  
[2021-05-14T19:31:33.5323342+00:00][INFO][7][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2021-05-14T19:31:33.5370926+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 51.0634ms 200 image/x-icon
[2021-05-14T19:31:40.2566922+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:4000/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fresponse_type%3Dtoken%26client_id%3DMyClientId_api_swaggerui%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5000%252Fswagger%252Foauth2-redirect.html%26scope%3DMyClientId_api%26state%3DRnJpIE1heSAxNCAyMDIxIDIyOjMxOjMwIEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%253D%253D application/x-www-form-urlencoded 584
[2021-05-14T19:31:40.2606078+00:00][DBUG][7][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2021-05-14T19:31:40.2644207+00:00][INFO][7][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2021-05-14T19:31:40.2749455+00:00][INFO][7][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T19:31:40.2873329+00:00][INFO][7][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyProject.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("MyProject.STS.Identity").
[2021-05-14T19:31:40.3250327+00:00][DBUG][7][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T19:31:40.3265047+00:00][INFO][7][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:31:40.3325706+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:31:40.3415359+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:40.3943251+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:40.4660438+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("46"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:40.5335544+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("45"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:40.5383131+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:40.5427278+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:40.5469934+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:40.5535826+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:40.5579286+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:40.5599245+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T19:31:40.5601374+00:00][DBUG][7][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T19:31:40.5682367+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:31:40.5697601+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:31:40.5733392+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:31:40.5743154+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:31:40.5977024+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:31:40.5982545+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:31:40.6446427+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:31:40.6481394+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:31:40.6487747+00:00][DBUG][7][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T19:31:40.6530730+00:00][INFO][7][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:31:40.6661012+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2021-05-14T19:31:40.7716353+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2021-05-14T19:31:40.8384316+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"ClaimType\", u.\"ClaimValue\", u.\"UserId\"
FROM \"UserClaims\" AS u
WHERE u.\"UserId\" = @__user_Id_0"
[2021-05-14T19:31:40.9551250+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Name\"
FROM \"UserRoles\" AS u
INNER JOIN \"Roles\" AS r ON u.\"RoleId\" = r.\"Id\"
WHERE u.\"UserId\" = @__userId_0"
[2021-05-14T19:31:41.0277604+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"ConcurrencyStamp\", r.\"Name\", r.\"NormalizedName\"
FROM \"Roles\" AS r
WHERE r.\"NormalizedName\" = @__normalizedName_0
LIMIT 1"
[2021-05-14T19:31:41.0413148+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"ClaimType\", r.\"ClaimValue\"
FROM \"RoleClaims\" AS r
WHERE r.\"RoleId\" = @__role_Id_0"
[2021-05-14T19:31:41.0523764+00:00][DBUG][7][IdentityServer4.Hosting.IdentityServerAuthenticationService] Augmenting SignInContext
[2021-05-14T19:31:41.0537600+00:00][DBUG][7][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding idp claim with value: "local"
[2021-05-14T19:31:41.0539803+00:00][DBUG][7][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding auth_time claim with value: "1621020701"
[2021-05-14T19:31:41.0626390+00:00][INFO][7][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2021-05-14T19:31:41.0791726+00:00][INFO][7][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM8N1RFSD65H:00000004", TimeStamp: 05/14/2021 19:31:41, ProcessId: 1541, LocalIpAddress: "::ffff:172.18.0.7:80", RemoteIpAddress: "::ffff:172.18.0.1" }
[2021-05-14T19:31:41.0823520+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:31:41.0845125+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:41.0886872+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:41.0931514+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:41.1032295+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:41.1495801+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("45"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:41.1723362+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:41.1750337+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:41.1799000+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:41.1842361+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:41.1855967+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T19:31:41.1859944+00:00][DBUG][11][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T19:31:41.1915884+00:00][INFO][11][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/connect/authorize/callback?response_type=token&client_id=MyClientId_api_swaggerui&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fswagger%2Foauth2-redirect.html&scope=MyClientId_api&state=RnJpIE1heSAxNCAyMDIxIDIyOjMxOjMwIEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%3D%3D".
[2021-05-14T19:31:41.1921969+00:00][INFO][11][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)" in 904.5137ms
[2021-05-14T19:31:41.1926660+00:00][INFO][11][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T19:31:41.1956620+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 939.1711ms 302 
[2021-05-14T19:31:41.2071496+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize/callback?response_type=token&client_id=MyClientId_api_swaggerui&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fswagger%2Foauth2-redirect.html&scope=MyClientId_api&state=RnJpIE1heSAxNCAyMDIxIDIyOjMxOjMwIEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%3D%3D  
[2021-05-14T19:31:41.2159588+00:00][DBUG][7][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize/callback" matched to endpoint type "Authorize"
[2021-05-14T19:31:41.2171035+00:00][DBUG][7][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint"
[2021-05-14T19:31:41.2171841+00:00][INFO][7][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2021-05-14T19:31:41.2200458+00:00][DBUG][7][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] Start authorize callback request
[2021-05-14T19:31:41.2228964+00:00][DBUG][7][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] User in authorize request: "51384c14-f2c7-4abd-8193-75db22d900f9"
[2021-05-14T19:31:41.2230006+00:00][DBUG][7][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T19:31:41.2235790+00:00][INFO][7][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:31:41.2323226+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:31:41.2799805+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:41.3506900+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:41.3735779+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:41.4405888+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:41.5054801+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:41.5506304+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:41.5976793+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:41.6244879+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:41.6271992+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:31:41.6280659+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T19:31:41.6291121+00:00][DBUG][7][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T19:31:41.6328210+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:31:41.6339002+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:31:41.6396086+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:31:41.6410289+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:31:41.6510459+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:31:41.6514681+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:31:41.6599652+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:31:41.6623473+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:31:41.6629440+00:00][DBUG][7][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T19:31:41.6662045+00:00][DBUG][7][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId_api_swaggerui", ClientName: "MyClientId_api_swaggerui", RedirectUri: "http://localhost:5000/swagger/oauth2-redirect.html", AllowedRedirectUris: ["http://localhost:5000/swagger/oauth2-redirect.html"], SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", ResponseType: "token", ResponseMode: "fragment", GrantType: "implicit", RequestedScopes: "MyClientId_api", State: "RnJpIE1heSAxNCAyMDIxIDIyOjMxOjMwIEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "W0dLG5fNV7SAFQP_IXLunA", Raw: [("response_type": "token"), ("client_id": "MyClientId_api_swaggerui"), ("redirect_uri": "http://localhost:5000/swagger/oauth2-redirect.html"), ("scope": "MyClientId_api"), ("state": "RnJpIE1heSAxNCAyMDIxIDIyOjMxOjMwIEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==")] }
[2021-05-14T19:31:41.6722865+00:00][INFO][7][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:31:41.6882285+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"Id\" = @__p_0
LIMIT 1"
[2021-05-14T19:31:41.6989080+00:00][INFO][11][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:31:41.7070222+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__key_0
LIMIT 1"
[2021-05-14T19:31:41.7209023+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "AKyaTxE5DAl9PxBDLVKVDbgMbddZ6wRVvqwK+fNj+co=" found in database: True
[2021-05-14T19:31:41.7395152+00:00][DBUG][7][IdentityServer4.Services.DefaultConsentService] Consent found in consent store is same as current request, consent is not required
[2021-05-14T19:31:41.7437149+00:00][DBUG][7][IdentityServer4.ResponseHandling.AuthorizeResponseGenerator] Creating Implicit Flow response.
[2021-05-14T19:31:41.7532865+00:00][DBUG][7][IdentityServer4.Services.DefaultClaimsService] Getting claims for access token for client: "MyClientId_api_swaggerui"
[2021-05-14T19:31:41.7536770+00:00][DBUG][7][IdentityServer4.Services.DefaultClaimsService] Getting claims for access token for subject: "51384c14-f2c7-4abd-8193-75db22d900f9"
[2021-05-14T19:31:41.7629658+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"ClaimType\", u.\"ClaimValue\", u.\"UserId\"
FROM \"UserClaims\" AS u
WHERE u.\"UserId\" = @__user_Id_0"
[2021-05-14T19:31:41.7703781+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Name\"
FROM \"UserRoles\" AS u
INNER JOIN \"Roles\" AS r ON u.\"RoleId\" = r.\"Id\"
WHERE u.\"UserId\" = @__userId_0"
[2021-05-14T19:31:41.7938352+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__normalizedName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"ConcurrencyStamp\", r.\"Name\", r.\"NormalizedName\"
FROM \"Roles\" AS r
WHERE r.\"NormalizedName\" = @__normalizedName_0
LIMIT 1"
[2021-05-14T19:31:41.8154864+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("0"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"ClaimType\", r.\"ClaimValue\"
FROM \"RoleClaims\" AS r
WHERE r.\"RoleId\" = @__role_Id_0"
[2021-05-14T19:31:41.9167641+00:00][INFO][11][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "MyClientId_api_swaggerui", ClientName: "MyClientId_api_swaggerui", RedirectUri: "http://localhost:5000/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", Scopes: "MyClientId_api", GrantType: "implicit", Tokens: [Token { TokenType: "access_token", TokenValue: "****BFeg" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM8N1RFSD65H:00000005", TimeStamp: 05/14/2021 19:31:41, ProcessId: 1541, LocalIpAddress: "::ffff:172.18.0.7:80", RemoteIpAddress: "::ffff:172.18.0.1" }
[2021-05-14T19:31:41.9182340+00:00][DBUG][11][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] Authorize endpoint response
AuthorizeResponseLog { SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", ClientId: "MyClientId_api_swaggerui", RedirectUri: "http://localhost:5000/swagger/oauth2-redirect.html", State: "RnJpIE1heSAxNCAyMDIxIDIyOjMxOjMwIEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==", Scope: "MyClientId_api", Error: null, ErrorDescription: null }
[2021-05-14T19:31:41.9294978+00:00][DBUG][11][IdentityServer4.Hosting.IdentityServerAuthenticationService] Augmenting SignInContext
[2021-05-14T19:31:41.9307956+00:00][INFO][11][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2021-05-14T19:31:41.9347362+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 727.4871ms 302 
[2021-05-14T19:32:10.6365458+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/.well-known/openid-configuration  
[2021-05-14T19:32:10.6419372+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
[2021-05-14T19:32:10.6443060+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
[2021-05-14T19:32:10.6444140+00:00][INFO][5][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2021-05-14T19:32:10.6472966+00:00][DBUG][5][IdentityServer4.Endpoints.DiscoveryEndpoint] Start discovery request
[2021-05-14T19:32:10.6699408+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:32:10.6959145+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:32:10.7572276+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT [2021-05-14T19:44:45.4533244+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2021-05-14T19:44:45.6154329+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2021-05-14T19:44:45.7337505+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] Creating key {617710b1-cb97-4b3c-815a-a31c10f3060a} with creation date 2021-05-14 19:44:45Z, activation date 2021-05-14 19:44:45Z, and expiration date 2021-08-12 19:44:45Z.
[2021-05-14T19:44:45.7578160+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] No XML encryptor configured. Key {617710b1-cb97-4b3c-815a-a31c10f3060a} may be persisted to storage in unencrypted form.
[2021-05-14T19:44:45.7713621+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Writing data to file '"/root/.aspnet/DataProtection-Keys/key-617710b1-cb97-4b3c-815a-a31c10f3060a.xml"'.
[2021-05-14T19:44:45.9430185+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2021-05-14T19:44:45.9754086+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2021-05-14T19:44:45.9756800+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2021-05-14T19:44:45.9757654+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2021-05-14T19:44:45.9764009+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2021-05-14T19:44:45.9765725+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2021-05-14T19:44:45.9767042+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2021-05-14T19:44:46.3333206+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2021-05-14T19:44:46.3382545+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2021-05-14T19:44:46.3385042+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2021-05-14T19:44:46.3385969+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2021-05-14T19:44:56.4584997+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/connect/authorize?response_type=token&client_id=MyClientId_api_swaggerui&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fswagger%2Foauth2-redirect.html&scope=MyClientId_api&state=RnJpIE1heSAxNCAyMDIxIDIyOjQ0OjU2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%3D%3D  
[2021-05-14T19:44:56.4983179+00:00][DBUG][5][IdentityServer4.Startup] Login Url: "/Account/Login"
[2021-05-14T19:44:56.4984320+00:00][DBUG][5][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2021-05-14T19:44:56.4984761+00:00][DBUG][5][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2021-05-14T19:44:56.4985047+00:00][DBUG][5][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2021-05-14T19:44:56.4985343+00:00][DBUG][5][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2021-05-14T19:44:56.4988417+00:00][DBUG][5][IdentityServer4.Startup] Error Url: "/home/error"
[2021-05-14T19:44:56.4989649+00:00][DBUG][5][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2021-05-14T19:44:56.5192289+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize" matched to endpoint type "Authorize"
[2021-05-14T19:44:56.5416597+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeEndpoint"
[2021-05-14T19:44:56.5419454+00:00][INFO][5][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2021-05-14T19:44:56.5448134+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeEndpoint] Start authorize request
[2021-05-14T19:44:56.5697158+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeEndpoint] No user present in authorize request
[2021-05-14T19:44:56.5907070+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T19:44:56.6231975+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:44:57.4265071+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:44:57.5756852+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:57.5884407+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:57.6192524+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:57.6350111+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:57.6456284+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:57.6778814+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:57.7099530+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:57.7211816+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:57.7330697+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:58.0336329+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T19:44:58.0402265+00:00][DBUG][4][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T19:44:58.1253249+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:44:58.1300753+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:44:58.2029353+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:44:58.2574333+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:44:58.2751490+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:44:58.2758412+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:44:58.2827750+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:44:58.2866436+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:44:58.2911320+00:00][DBUG][4][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T19:44:58.3019087+00:00][DBUG][4][IdentityServer4.Endpoints.AuthorizeEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId_api_swaggerui", ClientName: "MyClientId_api_swaggerui", RedirectUri: "http://localhost:5000/swagger/oauth2-redirect.html", AllowedRedirectUris: ["http://localhost:5000/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: "token", ResponseMode: "fragment", GrantType: "implicit", RequestedScopes: "MyClientId_api", State: "RnJpIE1heSAxNCAyMDIxIDIyOjQ0OjU2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "", Raw: [("response_type": "token"), ("client_id": "MyClientId_api_swaggerui"), ("redirect_uri": "http://localhost:5000/swagger/oauth2-redirect.html"), ("scope": "MyClientId_api"), ("state": "RnJpIE1heSAxNCAyMDIxIDIyOjQ0OjU2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==")] }
[2021-05-14T19:44:58.3084319+00:00][INFO][4][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2021-05-14T19:44:58.3219924+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1870.081ms 302 
[2021-05-14T19:44:58.3539405+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fresponse_type%3Dtoken%26client_id%3DMyClientId_api_swaggerui%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5000%252Fswagger%252Foauth2-redirect.html%26scope%3DMyClientId_api%26state%3DRnJpIE1heSAxNCAyMDIxIDIyOjQ0OjU2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%253D%253D  
[2021-05-14T19:44:58.4029153+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T19:44:58.4324389+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("MyProject.STS.Identity").
[2021-05-14T19:44:58.4580884+00:00][DBUG][4][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T19:44:58.4596810+00:00][INFO][4][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:44:58.4837106+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:44:58.4874446+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:58.4925810+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:58.5203230+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:58.5428415+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:58.5878567+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:58.5912385+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:58.5977246+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:58.6455673+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:58.6505513+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:58.6519587+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T19:44:58.6522237+00:00][DBUG][8][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T19:44:58.6768367+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:44:58.6771563+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:44:58.7006117+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:44:58.7011534+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:44:58.7043339+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:44:58.7060600+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:44:58.7107173+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:44:58.7113855+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:44:58.7135347+00:00][DBUG][4][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T19:44:58.7439128+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:44:58.7918075+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:58.8374138+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:58.8833919+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("44"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:58.8862169+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:58.8910623+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:58.8974386+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:58.9009860+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:58.9040558+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:58.9315302+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:44:58.9322476+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T19:44:58.9325552+00:00][DBUG][4][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T19:44:58.9563001+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2021-05-14T19:44:59.3069448+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 349.6571ms.
[2021-05-14T19:44:59.3100083+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)" in 875.4672ms
[2021-05-14T19:44:59.3136366+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T19:44:59.3192170+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 965.2908ms 200 text/html; charset=utf-8
[2021-05-14T19:44:59.3313097+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/dist/css/bundle.min.css?v=oT_78HNbw1icHDGc5AceMykUYmOGOJKGRMVmkJ7XyTk  
[2021-05-14T19:44:59.3829337+00:00][INFO][8][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/dist/css/web.css?v=xyATVK1qJOMwc5iqad_yMVmZ1bPSh2NrIU-LFUH1QnQ  
[2021-05-14T19:44:59.4513416+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/dist/js/bundle.min.js?v=sdrg65r3tKxiGM6AqyQdPavHwyJbTSiP89tDmHuV7DE  
[2021-05-14T19:44:59.4519078+00:00][INFO][8][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"/app/wwwroot/dist/css/web.css"'
[2021-05-14T19:44:59.4530812+00:00][INFO][8][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 69.9458ms 200 text/css
[2021-05-14T19:44:59.5694698+00:00][INFO][8][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"/app/wwwroot/dist/css/bundle.min.css"'
[2021-05-14T19:44:59.5696159+00:00][INFO][8][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 238.3405ms 200 text/css
[2021-05-14T19:44:59.5734524+00:00][INFO][4][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"/app/wwwroot/dist/js/bundle.min.js"'
[2021-05-14T19:44:59.5739075+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 122.5586ms 200 application/javascript
[2021-05-14T19:44:59.5926338+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/dist/fonts/fontawesome-webfont.woff2?v=4.7.0  
[2021-05-14T19:44:59.5973164+00:00][INFO][8][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/dist/fonts/open-iconic.woff  
[2021-05-14T19:44:59.6245089+00:00][INFO][8][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"/app/wwwroot/dist/fonts/open-iconic.woff"'
[2021-05-14T19:44:59.6246142+00:00][INFO][8][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 27.3511ms 200 application/font-woff
[2021-05-14T19:44:59.6257793+00:00][INFO][4][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/fontawesome-webfont.woff2"'. Physical path: '"/app/wwwroot/dist/fonts/fontawesome-webfont.woff2"'
[2021-05-14T19:44:59.6260076+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 33.3662ms 200 font/woff2
[2021-05-14T19:44:59.6392020+00:00][INFO][8][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/favicon.ico  
[2021-05-14T19:44:59.6440451+00:00][INFO][8][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2021-05-14T19:44:59.6443533+00:00][INFO][8][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 5.1172ms 200 image/x-icon
[2021-05-14T19:45:12.0301446+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://host.docker.internal:4000/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fresponse_type%3Dtoken%26client_id%3DMyClientId_api_swaggerui%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5000%252Fswagger%252Foauth2-redirect.html%26scope%3DMyClientId_api%26state%3DRnJpIE1heSAxNCAyMDIxIDIyOjQ0OjU2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%253D%253D application/x-www-form-urlencoded 584
[2021-05-14T19:45:12.0352852+00:00][DBUG][11][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2021-05-14T19:45:12.0388779+00:00][INFO][11][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2021-05-14T19:45:12.0515670+00:00][INFO][11][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T19:45:12.0599002+00:00][INFO][11][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyProject.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("MyProject.STS.Identity").
[2021-05-14T19:45:12.0990626+00:00][DBUG][11][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T19:45:12.1005824+00:00][INFO][11][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:45:12.1259216+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:45:12.2764040+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.3054681+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.3321633+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.3346305+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.3395753+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.3458025+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.3503166+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.3556129+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.3787408+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.3807163+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T19:45:12.3809148+00:00][DBUG][11][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T19:45:12.3842691+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:45:12.3845587+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:45:12.4099586+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:45:12.4113765+00:00][DBUG][14][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:45:12.4372449+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:45:12.4395528+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:45:12.4660094+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:45:12.4681144+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:45:12.4686226+00:00][DBUG][8][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T19:45:12.4726376+00:00][INFO][8][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:45:12.4862208+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2021-05-14T19:45:12.5109682+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2021-05-14T19:45:12.5726236+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"ClaimType\", u.\"ClaimValue\", u.\"UserId\"
FROM \"UserClaims\" AS u
WHERE u.\"UserId\" = @__user_Id_0"
[2021-05-14T19:45:12.6030815+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Name\"
FROM \"UserRoles\" AS u
INNER JOIN \"Roles\" AS r ON u.\"RoleId\" = r.\"Id\"
WHERE u.\"UserId\" = @__userId_0"
[2021-05-14T19:45:12.6146591+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"ConcurrencyStamp\", r.\"Name\", r.\"NormalizedName\"
FROM \"Roles\" AS r
WHERE r.\"NormalizedName\" = @__normalizedName_0
LIMIT 1"
[2021-05-14T19:45:12.6308108+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"ClaimType\", r.\"ClaimValue\"
FROM \"RoleClaims\" AS r
WHERE r.\"RoleId\" = @__role_Id_0"
[2021-05-14T19:45:12.6365968+00:00][DBUG][8][IdentityServer4.Hosting.IdentityServerAuthenticationService] Augmenting SignInContext
[2021-05-14T19:45:12.6378346+00:00][DBUG][8][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding idp claim with value: "local"
[2021-05-14T19:45:12.6381871+00:00][DBUG][8][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding auth_time claim with value: "1621021512"
[2021-05-14T19:45:12.6487323+00:00][INFO][8][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2021-05-14T19:45:12.6670794+00:00][INFO][8][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM8N23061RGN:00000004", TimeStamp: 05/14/2021 19:45:12, ProcessId: 26, LocalIpAddress: "::ffff:172.18.0.7:80", RemoteIpAddress: "::ffff:172.18.0.1" }
[2021-05-14T19:45:12.6746908+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:45:12.7003467+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.7024363+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.7255497+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.7329065+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.7371326+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.7409316+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.7461297+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.7517453+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.7551765+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.7555196+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T19:45:12.7562380+00:00][DBUG][8][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T19:45:12.7615393+00:00][INFO][8][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/connect/authorize/callback?response_type=token&client_id=MyClientId_api_swaggerui&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fswagger%2Foauth2-redirect.html&scope=MyClientId_api&state=RnJpIE1heSAxNCAyMDIxIDIyOjQ0OjU2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%3D%3D".
[2021-05-14T19:45:12.7621942+00:00][INFO][8][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)" in 699.6966ms
[2021-05-14T19:45:12.7625562+00:00][INFO][8][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T19:45:12.7639720+00:00][INFO][8][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 733.9771ms 302 
[2021-05-14T19:45:12.7719435+00:00][INFO][8][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/connect/authorize/callback?response_type=token&client_id=MyClientId_api_swaggerui&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fswagger%2Foauth2-redirect.html&scope=MyClientId_api&state=RnJpIE1heSAxNCAyMDIxIDIyOjQ0OjU2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ%3D%3D  
[2021-05-14T19:45:12.7802440+00:00][DBUG][8][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize/callback" matched to endpoint type "Authorize"
[2021-05-14T19:45:12.7816202+00:00][DBUG][8][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint"
[2021-05-14T19:45:12.7826922+00:00][INFO][8][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2021-05-14T19:45:12.7860715+00:00][DBUG][8][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] Start authorize callback request
[2021-05-14T19:45:12.7885524+00:00][DBUG][8][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] User in authorize request: "51384c14-f2c7-4abd-8193-75db22d900f9"
[2021-05-14T19:45:12.7887323+00:00][DBUG][8][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T19:45:12.7894297+00:00][INFO][8][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:45:12.7936786+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:45:12.8185223+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.8217874+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.8460327+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.8498593+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.8950809+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.9175946+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.9212363+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.9249480+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.9312728+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:45:12.9331946+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId_api_swaggerui" found in database: True
[2021-05-14T19:45:12.9333794+00:00][DBUG][8][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId_api_swaggerui" succeeded.
[2021-05-14T19:45:12.9381979+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:45:12.9390312+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:45:12.9499471+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:45:12.9537174+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:45:12.9661865+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:45:12.9688890+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] identity scopes in database
[2021-05-14T19:45:13.0218875+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("49"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:45:13.0234236+00:00][DBUG][14][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["MyClientId_api"] API scopes in database
[2021-05-14T19:45:13.0241434+00:00][DBUG][14][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T19:45:13.0253543+00:00][DBUG][14][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId_api_swaggerui", ClientName: "MyClientId_api_swaggerui", RedirectUri: "http://localhost:5000/swagger/oauth2-redirect.html", AllowedRedirectUris: ["http://localhost:5000/swagger/oauth2-redirect.html"], SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", ResponseType: "token", ResponseMode: "fragment", GrantType: "implicit", RequestedScopes: "MyClientId_api", State: "RnJpIE1heSAxNCAyMDIxIDIyOjQ0OjU2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==", UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "URxijr4d7-Y8YI86tliZzA", Raw: [("response_type": "token"), ("client_id": "MyClientId_api_swaggerui"), ("redirect_uri": "http://localhost:5000/swagger/oauth2-redirect.html"), ("scope": "MyClientId_api"), ("state": "RnJpIE1heSAxNCAyMDIxIDIyOjQ0OjU2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==")] }
[2021-05-14T19:45:13.0307856+00:00][INFO][14][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:45:13.0489539+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"Id\" = @__p_0
LIMIT 1"
[2021-05-14T19:45:13.0609379+00:00][INFO][8][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:45:13.0707777+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__key_0
LIMIT 1"
[2021-05-14T19:45:13.1030307+00:00][DBUG][11][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "AKyaTxE5DAl9PxBDLVKVDbgMbddZ6wRVvqwK+fNj+co=" found in database: True
[2021-05-14T19:45:13.1200457+00:00][DBUG][11][IdentityServer4.Services.DefaultConsentService] Consent found in consent store is same as current request, consent is not required
[2021-05-14T19:45:13.1231701+00:00][DBUG][11][IdentityServer4.ResponseHandling.AuthorizeResponseGenerator] Creating Implicit Flow response.
[2021-05-14T19:45:13.1385285+00:00][DBUG][11][IdentityServer4.Services.DefaultClaimsService] Getting claims for access token for client: "MyClientId_api_swaggerui"
[2021-05-14T19:45:13.1389542+00:00][DBUG][11][IdentityServer4.Services.DefaultClaimsService] Getting claims for access token for subject: "51384c14-f2c7-4abd-8193-75db22d900f9"
[2021-05-14T19:45:13.1712003+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"ClaimType\", u.\"ClaimValue\", u.\"UserId\"
FROM \"UserClaims\" AS u
WHERE u.\"UserId\" = @__user_Id_0"
[2021-05-14T19:45:13.1795085+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Name\"
FROM \"UserRoles\" AS u
INNER JOIN \"Roles\" AS r ON u.\"RoleId\" = r.\"Id\"
WHERE u.\"UserId\" = @__userId_0"
[2021-05-14T19:45:13.1841219+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__normalizedName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"ConcurrencyStamp\", r.\"Name\", r.\"NormalizedName\"
FROM \"Roles\" AS r
WHERE r.\"NormalizedName\" = @__normalizedName_0
LIMIT 1"
[2021-05-14T19:45:13.2360247+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"ClaimType\", r.\"ClaimValue\"
FROM \"RoleClaims\" AS r
WHERE r.\"RoleId\" = @__role_Id_0"
[2021-05-14T19:45:13.3632529+00:00][INFO][8][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "MyClientId_api_swaggerui", ClientName: "MyClientId_api_swaggerui", RedirectUri: "http://localhost:5000/swagger/oauth2-redirect.html", Endpoint: "Authorize", SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", Scopes: "MyClientId_api", GrantType: "implicit", Tokens: [Token { TokenType: "access_token", TokenValue: "****JgfA" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM8N23061RGN:00000005", TimeStamp: 05/14/2021 19:45:13, ProcessId: 26, LocalIpAddress: "::ffff:172.18.0.7:80", RemoteIpAddress: "::ffff:172.18.0.1" }
[2021-05-14T19:45:13.3650345+00:00][DBUG][8][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] Authorize endpoint response
AuthorizeResponseLog { SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", ClientId: "MyClientId_api_swaggerui", RedirectUri: "http://localhost:5000/swagger/oauth2-redirect.html", State: "RnJpIE1heSAxNCAyMDIxIDIyOjQ0OjU2IEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ==", Scope: "MyClientId_api", Error: null, ErrorDescription: null }
[2021-05-14T19:45:13.3781214+00:00][DBUG][8][IdentityServer4.Hosting.IdentityServerAuthenticationService] Augmenting SignInContext
[2021-05-14T19:45:13.3796860+00:00][INFO][8][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2021-05-14T19:45:13.3831274+00:00][INFO][8][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 611.1133ms 302 
[2021-05-14T19:45:21.4805334+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/.well-known/openid-configuration  
[2021-05-14T19:45:21.4813170+00:00][DBUG][4][IdentityServer4.Hosting.EndpointRouter] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
[2021-05-14T19:45:21.4838786+00:00][DBUG][4][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
[2021-05-14T19:45:21.4839658+00:00][INFO][4][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2021-05-14T19:45:21.4880886+00:00][DBUG][4][IdentityServer4.Endpoints.DiscoveryEndpoint] Start discovery request
[2021-05-14T19:45:21.5079529+00:00][INFO][4][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:45:21.5834482+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:45:21.6797340+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Des[2021-05-14T19:50:22.7947095+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2021-05-14T19:50:22.9877055+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2021-05-14T19:50:23.0745847+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] Creating key {f7774038-0849-4146-bf54-41f71ea3b8b8} with creation date 2021-05-14 19:50:23Z, activation date 2021-05-14 19:50:23Z, and expiration date 2021-08-12 19:50:23Z.
[2021-05-14T19:50:23.0850327+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] No XML encryptor configured. Key {f7774038-0849-4146-bf54-41f71ea3b8b8} may be persisted to storage in unencrypted form.
[2021-05-14T19:50:23.0903124+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Writing data to file '"/root/.aspnet/DataProtection-Keys/key-f7774038-0849-4146-bf54-41f71ea3b8b8.xml"'.
[2021-05-14T19:50:23.2836288+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2021-05-14T19:50:23.3410178+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2021-05-14T19:50:23.3412537+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2021-05-14T19:50:23.3414325+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2021-05-14T19:50:23.3415743+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2021-05-14T19:50:23.3416613+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2021-05-14T19:50:23.3417633+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2021-05-14T19:50:23.8234341+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2021-05-14T19:50:23.8297565+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2021-05-14T19:50:23.8303634+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2021-05-14T19:50:23.8307244+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2021-05-14T19:50:36.4452692+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/  
[2021-05-14T19:50:36.4706766+00:00][DBUG][10][IdentityServer4.Startup] Login Url: "/Account/Login"
[2021-05-14T19:50:36.4707829+00:00][DBUG][10][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2021-05-14T19:50:36.4708191+00:00][DBUG][10][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2021-05-14T19:50:36.4708506+00:00][DBUG][10][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2021-05-14T19:50:36.4708966+00:00][DBUG][10][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2021-05-14T19:50:36.4709301+00:00][DBUG][10][IdentityServer4.Startup] Error Url: "/home/error"
[2021-05-14T19:50:36.4709518+00:00][DBUG][10][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2021-05-14T19:50:36.5289500+00:00][INFO][10][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T19:50:36.5366319+00:00][INFO][10][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T19:50:36.5882830+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T19:50:36.6121169+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "MyProject.STS.Identity.Controllers.HomeController" ("MyProject.STS.Identity").
[2021-05-14T19:50:36.6410361+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2021-05-14T19:50:36.9819284+00:00][EROR][10][Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery] An exception was thrown while deserializing the token.
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The antiforgery token could not be decrypted.
 ---> System.Security.Cryptography.CryptographicException: The key {464fc156-7e67-4ea1-af63-c2f2c9bc00f2} was not found in the key ring.
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.GetCookieTokenDoesNotThrow(HttpContext httpContext)
[2021-05-14T19:50:37.0793218+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 438.1364ms.
[2021-05-14T19:50:37.0828242+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)" in 469.6229ms
[2021-05-14T19:50:37.0847466+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T19:50:37.0908632+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 650.2113ms 200 text/html; charset=utf-8
[2021-05-14T19:50:37.1128992+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/images/skoruba-icon.png  
[2021-05-14T19:50:37.1373623+00:00][INFO][10][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/images/skoruba-icon.png"'. Physical path: '"/app/wwwroot/images/skoruba-icon.png"'
[2021-05-14T19:50:37.1420321+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 29.1137ms 200 image/png
[2021-05-14T19:50:38.4723289+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/.well-known/openid-configuration  
[2021-05-14T19:50:38.4741300+00:00][DBUG][10][IdentityServer4.Hosting.EndpointRouter] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
[2021-05-14T19:50:38.4778616+00:00][DBUG][10][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
[2021-05-14T19:50:38.4783140+00:00][INFO][10][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2021-05-14T19:50:38.4802143+00:00][DBUG][10][IdentityServer4.Endpoints.DiscoveryEndpoint] Start discovery request
[2021-05-14T19:50:38.5054564+00:00][INFO][10][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:50:39.2502824+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:50:39.3788454+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:50:39.6417514+00:00][DBUG][10][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email", "address", "MyClientId_api"] as all scopes in database
[2021-05-14T19:50:39.7019361+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1229.8107ms 200 application/json; charset=UTF-8
[2021-05-14T19:50:39.8890518+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/.well-known/openid-configuration/jwks  
[2021-05-14T19:50:39.8938235+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
[2021-05-14T19:50:39.8950557+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
[2021-05-14T19:50:39.8951487+00:00][INFO][5][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
[2021-05-14T19:50:39.8968604+00:00][DBUG][5][IdentityServer4.Endpoints.DiscoveryKeyEndpoint] Start key discovery request
[2021-05-14T19:50:39.9396354+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 50.6372ms 200 application/jwk-set+json; charset=UTF-8
[2021-05-14T19:50:40.0204530+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/connect/authorize?client_id=MyClientId&redirect_uri=http%3A%2F%2Flocalhost%3A9000%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20roles&response_mode=form_post&nonce=637566186399584029.MGQ3NTRhOTAtMjRmNC00Zjg3LWIwZDUtYjI5ODZkNjQzOTU4NTI1ZDg4ZjYtYzJhMC00NjA5LTlkNzEtYjQwOTNmNDA3ZTMy&state=CfDJ8Bsakj9vmj1NsiQQXsI50cUybZ_ZWuMUEW1sI7I_PiMQUKsrVX0qHgf4q6EXQhId81kS90SevF8OQp98uRHojREE3VYS7y2ZnwZrqHq9GTqgd2fqBbCKgqghv5BEhpf8QeoNuhdS1gYRn-IPGc9Gx22bFmLSBmkGyBrhWmpft59pwyWbRZO7SQ5Py44SZnmWqxbY4VRyeeDN5Mfg4R4L44UUVepb1LiTZlUbOcqwJWY_HoABT8YfOmqJeluTuIh5puhdZ4C9DFuz_DsU-wUjvVWcyBnBHaLHMqXFomh_3pC6&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
[2021-05-14T19:50:40.0432997+00:00][INFO][5][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T19:50:40.0434877+00:00][INFO][5][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T19:50:40.0439559+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize" matched to endpoint type "Authorize"
[2021-05-14T19:50:40.0482988+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeEndpoint"
[2021-05-14T19:50:40.0485040+00:00][INFO][5][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2021-05-14T19:50:40.0511067+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeEndpoint] Start authorize request
[2021-05-14T19:50:40.0544615+00:00][INFO][5][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T19:50:40.0564825+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeEndpoint] No user present in authorize request
[2021-05-14T19:50:40.0586995+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T19:50:40.0688905+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:50:40.1276550+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:50:40.3588485+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:40.3781376+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:40.4158755+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:40.4367072+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:40.4737297+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:40.4919074+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:40.5471133+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:40.5879126+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:40.6013410+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:40.7421131+00:00][DBUG][10][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-14T19:50:40.7488265+00:00][DBUG][10][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-14T19:50:40.7608986+00:00][DBUG][10][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2021-05-14T19:50:40.7615652+00:00][DBUG][10][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2021-05-14T19:50:40.8096054+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:50:40.8111487+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-14T19:50:40.8448353+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:50:40.8477320+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-14T19:50:40.8582130+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:50:40.8590317+00:00][DBUG][10][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-14T19:50:40.8863482+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:50:40.8865784+00:00][DBUG][10][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-14T19:50:40.8913587+00:00][DBUG][10][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T19:50:40.9021460+00:00][DBUG][10][IdentityServer4.Endpoints.AuthorizeEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId", ClientName: "MyClientId", RedirectUri: "http://localhost:9000/signin-oidc", AllowedRedirectUris: ["http://localhost:9000/signin-oidc"], SubjectId: "anonymous", ResponseType: "code id_token", ResponseMode: "form_post", GrantType: "hybrid", RequestedScopes: "openid profile email roles", State: "CfDJ8Bsakj9vmj1NsiQQXsI50cUybZ_ZWuMUEW1sI7I_PiMQUKsrVX0qHgf4q6EXQhId81kS90SevF8OQp98uRHojREE3VYS7y2ZnwZrqHq9GTqgd2fqBbCKgqghv5BEhpf8QeoNuhdS1gYRn-IPGc9Gx22bFmLSBmkGyBrhWmpft59pwyWbRZO7SQ5Py44SZnmWqxbY4VRyeeDN5Mfg4R4L44UUVepb1LiTZlUbOcqwJWY_HoABT8YfOmqJeluTuIh5puhdZ4C9DFuz_DsU-wUjvVWcyBnBHaLHMqXFomh_3pC6", UiLocales: null, Nonce: "637566186399584029.MGQ3NTRhOTAtMjRmNC00Zjg3LWIwZDUtYjI5ODZkNjQzOTU4NTI1ZDg4ZjYtYzJhMC00NjA5LTlkNzEtYjQwOTNmNDA3ZTMy", AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "", Raw: [("client_id": "MyClientId"), ("redirect_uri": "http://localhost:9000/signin-oidc"), ("response_type": "code id_token"), ("scope": "openid profile email roles"), ("response_mode": "form_post"), ("nonce": "637566186399584029.MGQ3NTRhOTAtMjRmNC00Zjg3LWIwZDUtYjI5ODZkNjQzOTU4NTI1ZDg4ZjYtYzJhMC00NjA5LTlkNzEtYjQwOTNmNDA3ZTMy"), ("state": "CfDJ8Bsakj9vmj1NsiQQXsI50cUybZ_ZWuMUEW1sI7I_PiMQUKsrVX0qHgf4q6EXQhId81kS90SevF8OQp98uRHojREE3VYS7y2ZnwZrqHq9GTqgd2fqBbCKgqghv5BEhpf8QeoNuhdS1gYRn-IPGc9Gx22bFmLSBmkGyBrhWmpft59pwyWbRZO7SQ5Py44SZnmWqxbY4VRyeeDN5Mfg4R4L44UUVepb1LiTZlUbOcqwJWY_HoABT8YfOmqJeluTuIh5puhdZ4C9DFuz_DsU-wUjvVWcyBnBHaLHMqXFomh_3pC6"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.5.0.0")] }
[2021-05-14T19:50:40.9094756+00:00][INFO][10][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2021-05-14T19:50:40.9150995+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 894.4953ms 302 
[2021-05-14T19:50:40.9215659+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DMyClientId%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A9000%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520roles%26response_mode%3Dform_post%26nonce%3D637566186399584029.MGQ3NTRhOTAtMjRmNC00Zjg3LWIwZDUtYjI5ODZkNjQzOTU4NTI1ZDg4ZjYtYzJhMC00NjA5LTlkNzEtYjQwOTNmNDA3ZTMy%26state%3DCfDJ8Bsakj9vmj1NsiQQXsI50cUybZ_ZWuMUEW1sI7I_PiMQUKsrVX0qHgf4q6EXQhId81kS90SevF8OQp98uRHojREE3VYS7y2ZnwZrqHq9GTqgd2fqBbCKgqghv5BEhpf8QeoNuhdS1gYRn-IPGc9Gx22bFmLSBmkGyBrhWmpft59pwyWbRZO7SQ5Py44SZnmWqxbY4VRyeeDN5Mfg4R4L44UUVepb1LiTZlUbOcqwJWY_HoABT8YfOmqJeluTuIh5puhdZ4C9DFuz_DsU-wUjvVWcyBnBHaLHMqXFomh_3pC6%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
[2021-05-14T19:50:40.9448831+00:00][INFO][5][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T19:50:40.9452704+00:00][INFO][5][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T19:50:40.9514814+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T19:50:40.9685860+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("MyProject.STS.Identity").
[2021-05-14T19:50:40.9906369+00:00][INFO][5][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T19:50:40.9908360+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T19:50:40.9924588+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:50:40.9960033+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:50:41.0236830+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:41.0899389+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:41.1145346+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:41.2002585+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("64"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:41.2243905+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:41.2484009+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:41.2504101+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:41.2541046+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:41.2574322+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:41.2583820+00:00][DBUG][10][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-14T19:50:41.2793865+00:00][DBUG][10][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-14T19:50:41.2797712+00:00][DBUG][10][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2021-05-14T19:50:41.2808865+00:00][DBUG][10][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2021-05-14T19:50:41.2879463+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:50:41.2883933+00:00][DBUG][10][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-14T19:50:41.3342455+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:50:41.3345190+00:00][DBUG][10][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-14T19:50:41.3401829+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:50:41.3406937+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-14T19:50:41.3477654+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:50:41.3489982+00:00][DBUG][10][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-14T19:50:41.3495455+00:00][DBUG][10][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T19:50:41.3785729+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:50:41.4021740+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:41.4042898+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:41.4093580+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:41.4354625+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:41.4598796+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:41.4854370+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:41.4885806+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:41.4906237+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:41.4925671+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:41.4939442+00:00][DBUG][10][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-14T19:50:41.4945049+00:00][DBUG][10][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-14T19:50:41.5009055+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2021-05-14T19:50:41.5427101+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 42.5653ms.
[2021-05-14T19:50:41.5447042+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)" in 575.7281ms
[2021-05-14T19:50:41.5460624+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T19:50:41.5489009+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 627.4084ms 200 text/html; charset=utf-8
[2021-05-14T19:50:50.8033705+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://host.docker.internal:4000/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DMyClientId%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A9000%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520roles%26response_mode%3Dform_post%26nonce%3D637566186399584029.MGQ3NTRhOTAtMjRmNC00Zjg3LWIwZDUtYjI5ODZkNjQzOTU4NTI1ZDg4ZjYtYzJhMC00NjA5LTlkNzEtYjQwOTNmNDA3ZTMy%26state%3DCfDJ8Bsakj9vmj1NsiQQXsI50cUybZ_ZWuMUEW1sI7I_PiMQUKsrVX0qHgf4q6EXQhId81kS90SevF8OQp98uRHojREE3VYS7y2ZnwZrqHq9GTqgd2fqBbCKgqghv5BEhpf8QeoNuhdS1gYRn-IPGc9Gx22bFmLSBmkGyBrhWmpft59pwyWbRZO7SQ5Py44SZnmWqxbY4VRyeeDN5Mfg4R4L44UUVepb1LiTZlUbOcqwJWY_HoABT8YfOmqJeluTuIh5puhdZ4C9DFuz_DsU-wUjvVWcyBnBHaLHMqXFomh_3pC6%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 application/x-www-form-urlencoded 1007
[2021-05-14T19:50:50.8094129+00:00][DBUG][10][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2021-05-14T19:50:50.8103369+00:00][INFO][10][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2021-05-14T19:50:50.8412213+00:00][INFO][10][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T19:50:50.8414203+00:00][INFO][10][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T19:50:50.8490470+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T19:50:50.8632371+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyProject.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("MyProject.STS.Identity").
[2021-05-14T19:50:50.9037660+00:00][INFO][10][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T19:50:50.9040230+00:00][DBUG][10][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T19:50:50.9064110+00:00][INFO][10][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:50:50.9353669+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:50:51.0077775+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:51.0323181+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:51.0780979+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("45"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:51.0851867+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:51.1302927+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:51.1336837+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:51.1409641+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:51.1464821+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:51.1532892+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:51.1544734+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-14T19:50:51.1551680+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-14T19:50:51.1559648+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2021-05-14T19:50:51.1561259+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2021-05-14T19:50:51.2839062+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:50:51.3264896+00:00][DBUG][10][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-14T19:50:51.3308193+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:50:51.3324203+00:00][DBUG][10][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-14T19:50:51.3380380+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:50:51.3388981+00:00][DBUG][10][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-14T19:50:51.3446751+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:50:51.3456599+00:00][DBUG][10][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-14T19:50:51.3465036+00:00][DBUG][10][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T19:50:51.3528784+00:00][INFO][10][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:50:51.3891539+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2021-05-14T19:50:51.4540774+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("43"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2021-05-14T19:50:51.5315652+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"ClaimType\", u.\"ClaimValue\", u.\"UserId\"
FROM \"UserClaims\" AS u
WHERE u.\"UserId\" = @__user_Id_0"
[2021-05-14T19:50:51.5817873+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Name\"
FROM \"UserRoles\" AS u
INNER JOIN \"Roles\" AS r ON u.\"RoleId\" = r.\"Id\"
WHERE u.\"UserId\" = @__userId_0"
[2021-05-14T19:50:51.6570640+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__normalizedName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"ConcurrencyStamp\", r.\"Name\", r.\"NormalizedName\"
FROM \"Roles\" AS r
WHERE r.\"NormalizedName\" = @__normalizedName_0
LIMIT 1"
[2021-05-14T19:50:51.6932002+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"ClaimType\", r.\"ClaimValue\"
FROM \"RoleClaims\" AS r
WHERE r.\"RoleId\" = @__role_Id_0"
[2021-05-14T19:50:51.7031010+00:00][DBUG][5][IdentityServer4.Hosting.IdentityServerAuthenticationService] Augmenting SignInContext
[2021-05-14T19:50:51.7042848+00:00][DBUG][5][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding idp claim with value: "local"
[2021-05-14T19:50:51.7045511+00:00][DBUG][5][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding auth_time claim with value: "1621021851"
[2021-05-14T19:50:51.7064600+00:00][INFO][5][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T19:50:51.7115316+00:00][INFO][5][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2021-05-14T19:50:51.7278751+00:00][INFO][5][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM8N265GG79U:00000003", TimeStamp: 05/14/2021 19:50:51, ProcessId: 27, LocalIpAddress: "::ffff:172.18.0.7:80", RemoteIpAddress: "::ffff:172.18.0.1" }
[2021-05-14T19:50:51.7332349+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:50:51.7808700+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("44"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:51.7861455+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:51.8124147+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:51.8372163+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:51.8620442+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:51.8693553+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:51.8755427+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:51.8819312+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:51.8893643+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:51.8912841+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-14T19:50:51.8915149+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-14T19:50:51.8938138+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=MyClientId&redirect_uri=http%3A%2F%2Flocalhost%3A9000%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20roles&response_mode=form_post&nonce=637566186399584029.MGQ3NTRhOTAtMjRmNC00Zjg3LWIwZDUtYjI5ODZkNjQzOTU4NTI1ZDg4ZjYtYzJhMC00NjA5LTlkNzEtYjQwOTNmNDA3ZTMy&state=CfDJ8Bsakj9vmj1NsiQQXsI50cUybZ_ZWuMUEW1sI7I_PiMQUKsrVX0qHgf4q6EXQhId81kS90SevF8OQp98uRHojREE3VYS7y2ZnwZrqHq9GTqgd2fqBbCKgqghv5BEhpf8QeoNuhdS1gYRn-IPGc9Gx22bFmLSBmkGyBrhWmpft59pwyWbRZO7SQ5Py44SZnmWqxbY4VRyeeDN5Mfg4R4L44UUVepb1LiTZlUbOcqwJWY_HoABT8YfOmqJeluTuIh5puhdZ4C9DFuz_DsU-wUjvVWcyBnBHaLHMqXFomh_3pC6&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0".
[2021-05-14T19:50:51.8952388+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)" in 1031.7186ms
[2021-05-14T19:50:51.8955566+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-14T19:50:51.8964530+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1093.6619ms 302 
[2021-05-14T19:50:51.9043783+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/connect/authorize/callback?client_id=MyClientId&redirect_uri=http%3A%2F%2Flocalhost%3A9000%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20roles&response_mode=form_post&nonce=637566186399584029.MGQ3NTRhOTAtMjRmNC00Zjg3LWIwZDUtYjI5ODZkNjQzOTU4NTI1ZDg4ZjYtYzJhMC00NjA5LTlkNzEtYjQwOTNmNDA3ZTMy&state=CfDJ8Bsakj9vmj1NsiQQXsI50cUybZ_ZWuMUEW1sI7I_PiMQUKsrVX0qHgf4q6EXQhId81kS90SevF8OQp98uRHojREE3VYS7y2ZnwZrqHq9GTqgd2fqBbCKgqghv5BEhpf8QeoNuhdS1gYRn-IPGc9Gx22bFmLSBmkGyBrhWmpft59pwyWbRZO7SQ5Py44SZnmWqxbY4VRyeeDN5Mfg4R4L44UUVepb1LiTZlUbOcqwJWY_HoABT8YfOmqJeluTuIh5puhdZ4C9DFuz_DsU-wUjvVWcyBnBHaLHMqXFomh_3pC6&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
[2021-05-14T19:50:51.9101840+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize/callback" matched to endpoint type "Authorize"
[2021-05-14T19:50:51.9109321+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint"
[2021-05-14T19:50:51.9110742+00:00][INFO][5][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2021-05-14T19:50:51.9136953+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] Start authorize callback request
[2021-05-14T19:50:51.9178783+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] User in authorize request: "51384c14-f2c7-4abd-8193-75db22d900f9"
[2021-05-14T19:50:51.9181514+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T19:50:51.9188654+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:50:51.9448469+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:50:52.0549888+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("45"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.1426374+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("43"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.1486958+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.1937990+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.1969740+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.2076249+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.2132631+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.2244076+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.2290371+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.2331726+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-14T19:50:52.2348054+00:00][DBUG][8][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-14T19:50:52.2355122+00:00][DBUG][8][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2021-05-14T19:50:52.2357181+00:00][DBUG][8][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2021-05-14T19:50:52.2393023+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:50:52.2458861+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-14T19:50:52.2539645+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:50:52.2545344+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-14T19:50:52.2573699+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:50:52.2584276+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-14T19:50:52.2640818+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:50:52.2800427+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-14T19:50:52.2806842+00:00][DBUG][8][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T19:50:52.2817946+00:00][DBUG][8][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId", ClientName: "MyClientId", RedirectUri: "http://localhost:9000/signin-oidc", AllowedRedirectUris: ["http://localhost:9000/signin-oidc"], SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", ResponseType: "code id_token", ResponseMode: "form_post", GrantType: "hybrid", RequestedScopes: "openid profile email roles", State: "CfDJ8Bsakj9vmj1NsiQQXsI50cUybZ_ZWuMUEW1sI7I_PiMQUKsrVX0qHgf4q6EXQhId81kS90SevF8OQp98uRHojREE3VYS7y2ZnwZrqHq9GTqgd2fqBbCKgqghv5BEhpf8QeoNuhdS1gYRn-IPGc9Gx22bFmLSBmkGyBrhWmpft59pwyWbRZO7SQ5Py44SZnmWqxbY4VRyeeDN5Mfg4R4L44UUVepb1LiTZlUbOcqwJWY_HoABT8YfOmqJeluTuIh5puhdZ4C9DFuz_DsU-wUjvVWcyBnBHaLHMqXFomh_3pC6", UiLocales: null, Nonce: "637566186399584029.MGQ3NTRhOTAtMjRmNC00Zjg3LWIwZDUtYjI5ODZkNjQzOTU4NTI1ZDg4ZjYtYzJhMC00NjA5LTlkNzEtYjQwOTNmNDA3ZTMy", AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "oEDzHo0YzguagVmNTUOKgg", Raw: [("client_id": "MyClientId"), ("redirect_uri": "http://localhost:9000/signin-oidc"), ("response_type": "code id_token"), ("scope": "openid profile email roles"), ("response_mode": "form_post"), ("nonce": "637566186399584029.MGQ3NTRhOTAtMjRmNC00Zjg3LWIwZDUtYjI5ODZkNjQzOTU4NTI1ZDg4ZjYtYzJhMC00NjA5LTlkNzEtYjQwOTNmNDA3ZTMy"), ("state": "CfDJ8Bsakj9vmj1NsiQQXsI50cUybZ_ZWuMUEW1sI7I_PiMQUKsrVX0qHgf4q6EXQhId81kS90SevF8OQp98uRHojREE3VYS7y2ZnwZrqHq9GTqgd2fqBbCKgqghv5BEhpf8QeoNuhdS1gYRn-IPGc9Gx22bFmLSBmkGyBrhWmpft59pwyWbRZO7SQ5Py44SZnmWqxbY4VRyeeDN5Mfg4R4L44UUVepb1LiTZlUbOcqwJWY_HoABT8YfOmqJeluTuIh5puhdZ4C9DFuz_DsU-wUjvVWcyBnBHaLHMqXFomh_3pC6"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.5.0.0")] }
[2021-05-14T19:50:52.2871605+00:00][INFO][8][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:50:52.3056843+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"Id\" = @__p_0
LIMIT 1"
[2021-05-14T19:50:52.3154502+00:00][INFO][8][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:50:52.3259379+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__key_0
LIMIT 1"
[2021-05-14T19:50:52.3307511+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "FiMgizI/TAlytBBlnGfzVllupK/GcVNGf6O9Lhtb9hM=" found in database: False
[2021-05-14T19:50:52.3325404+00:00][DBUG][4][IdentityServer4.Stores.DefaultUserConsentStore] "user_consent" grant with value: "MyClientId|51384c14-f2c7-4abd-8193-75db22d900f9" not found in store.
[2021-05-14T19:50:52.3332934+00:00][DBUG][4][IdentityServer4.Services.DefaultConsentService] Found no prior consent from consent store, consent is required
[2021-05-14T19:50:52.3352746+00:00][INFO][4][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing consent: User has not yet consented
[2021-05-14T19:50:52.3394181+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 434.9115ms 302 
[2021-05-14T19:50:52.3458889+00:00][INFO][8][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DMyClientId%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A9000%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520roles%26response_mode%3Dform_post%26nonce%3D637566186399584029.MGQ3NTRhOTAtMjRmNC00Zjg3LWIwZDUtYjI5ODZkNjQzOTU4NTI1ZDg4ZjYtYzJhMC00NjA5LTlkNzEtYjQwOTNmNDA3ZTMy%26state%3DCfDJ8Bsakj9vmj1NsiQQXsI50cUybZ_ZWuMUEW1sI7I_PiMQUKsrVX0qHgf4q6EXQhId81kS90SevF8OQp98uRHojREE3VYS7y2ZnwZrqHq9GTqgd2fqBbCKgqghv5BEhpf8QeoNuhdS1gYRn-IPGc9Gx22bFmLSBmkGyBrhWmpft59pwyWbRZO7SQ5Py44SZnmWqxbY4VRyeeDN5Mfg4R4L44UUVepb1LiTZlUbOcqwJWY_HoABT8YfOmqJeluTuIh5puhdZ4C9DFuz_DsU-wUjvVWcyBnBHaLHMqXFomh_3pC6%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
[2021-05-14T19:50:52.3541359+00:00][INFO][8][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2021-05-14T19:50:52.3546187+00:00][INFO][8][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.ConsentController.Index (MyProject.STS.Identity)"'
[2021-05-14T19:50:52.3619516+00:00][INFO][8][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Consent\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(System.String)" on controller "MyProject.STS.Identity.Controllers.ConsentController" ("MyProject.STS.Identity").
[2021-05-14T19:50:52.3674854+00:00][DBUG][8][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T19:50:52.3688696+00:00][INFO][8][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:50:52.4125363+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:50:52.4612955+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.4664742+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.4721349+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.4814244+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.4848061+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.5311094+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.5336372+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.5368436+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.5394497+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.5403466+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-14T19:50:52.5407108+00:00][DBUG][8][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-14T19:50:52.5411872+00:00][DBUG][8][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2021-05-14T19:50:52.5415286+00:00][DBUG][8][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2021-05-14T19:50:52.5468866+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:50:52.5533944+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-14T19:50:52.6424423+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("45"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:50:52.6427544+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-14T19:50:52.6511124+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:50:52.6515533+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-14T19:50:52.6593006+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:50:52.6604072+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-14T19:50:52.6608966+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T19:50:52.6658773+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:50:52.6707665+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.7158478+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.7200472+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.7255060+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.7313650+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.7576542+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.7836530+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.7864594+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.7884223+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:52.7900759+00:00][DBUG][10][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-14T19:50:52.7903834+00:00][DBUG][10][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-14T19:50:52.7947597+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:50:52.7954134+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-14T19:50:52.8028690+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:50:52.8034123+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-14T19:50:52.8086593+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2021-05-14T19:50:52.8427701+00:00][INFO][4][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2021-05-14T19:50:52.8484106+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 40.387ms.
[2021-05-14T19:50:52.8488982+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.ConsentController.Index (MyProject.STS.Identity)" in 486.6036ms
[2021-05-14T19:50:52.8490877+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.ConsentController.Index (MyProject.STS.Identity)"'
[2021-05-14T19:50:52.8504708+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 504.6501ms 200 text/html; charset=utf-8
[2021-05-14T19:50:56.4830133+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://host.docker.internal:4000/Consent application/x-www-form-urlencoded 1124
[2021-05-14T19:50:56.4838201+00:00][DBUG][10][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Consent" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2021-05-14T19:50:56.4839543+00:00][INFO][10][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2021-05-14T19:50:56.4934650+00:00][INFO][10][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2021-05-14T19:50:56.4936539+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.ConsentController.Index (MyProject.STS.Identity)"'
[2021-05-14T19:50:56.4983729+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Consent\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(MyProject.STS.Identity.ViewModels.Consent.ConsentInputModel)" on controller "MyProject.STS.Identity.Controllers.ConsentController" ("MyProject.STS.Identity").
[2021-05-14T19:50:56.5086697+00:00][DBUG][10][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T19:50:56.5099445+00:00][INFO][10][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:50:56.5135472+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:50:56.5272607+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:56.6161075+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:56.6238365+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:56.6724807+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:56.7004861+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:56.7109133+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:56.7154101+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:56.7424781+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:56.7486162+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:56.7495769+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-14T19:50:56.7501719+00:00][DBUG][4][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-14T19:50:56.7507170+00:00][DBUG][4][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2021-05-14T19:50:56.7509925+00:00][DBUG][4][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2021-05-14T19:50:56.7625332+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:50:56.7644729+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-14T19:50:56.7965446+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("29"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:50:56.7968642+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-14T19:50:56.8225636+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:50:56.8236664+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-14T19:50:56.8296636+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:50:56.8318218+00:00][DBUG][10][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-14T19:50:56.8325367+00:00][DBUG][8][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T19:50:56.8348718+00:00][INFO][8][IdentityServer4.Events.DefaultEventService] ConsentGrantedEvent { SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", ClientId: "MyClientId", RequestedScopes: ["openid", "profile", "email", "roles"], GrantedScopes: ["roles", "openid", "profile", "email"], ConsentRemembered: True, Category: "Grants", Name: "Consent granted", EventType: Information, Id: 4000, Message: null, ActivityId: "0HM8N265GG79U:00000006", TimeStamp: 05/14/2021 19:50:56, ProcessId: 27, LocalIpAddress: "::ffff:172.18.0.7:80", RemoteIpAddress: "::ffff:172.18.0.1" }
[2021-05-14T19:50:56.8510282+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:50:56.8579760+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:56.8820313+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:56.8835892+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:56.8877728+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:56.8907825+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:56.8933404+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:56.9595502+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("44"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:56.9630070+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:56.9663946+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:56.9882179+00:00][DBUG][10][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-14T19:50:56.9884215+00:00][DBUG][10][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-14T19:50:56.9894965+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=MyClientId&redirect_uri=http%3A%2F%2Flocalhost%3A9000%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20roles&response_mode=form_post&nonce=637566186399584029.MGQ3NTRhOTAtMjRmNC00Zjg3LWIwZDUtYjI5ODZkNjQzOTU4NTI1ZDg4ZjYtYzJhMC00NjA5LTlkNzEtYjQwOTNmNDA3ZTMy&state=CfDJ8Bsakj9vmj1NsiQQXsI50cUybZ_ZWuMUEW1sI7I_PiMQUKsrVX0qHgf4q6EXQhId81kS90SevF8OQp98uRHojREE3VYS7y2ZnwZrqHq9GTqgd2fqBbCKgqghv5BEhpf8QeoNuhdS1gYRn-IPGc9Gx22bFmLSBmkGyBrhWmpft59pwyWbRZO7SQ5Py44SZnmWqxbY4VRyeeDN5Mfg4R4L44UUVepb1LiTZlUbOcqwJWY_HoABT8YfOmqJeluTuIh5puhdZ4C9DFuz_DsU-wUjvVWcyBnBHaLHMqXFomh_3pC6&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0".
[2021-05-14T19:50:56.9900387+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.ConsentController.Index (MyProject.STS.Identity)" in 491.4143ms
[2021-05-14T19:50:56.9903011+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.ConsentController.Index (MyProject.STS.Identity)"'
[2021-05-14T19:50:56.9910626+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 508.2267ms 302 
[2021-05-14T19:50:56.9967122+00:00][INFO][8][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/connect/authorize/callback?client_id=MyClientId&redirect_uri=http%3A%2F%2Flocalhost%3A9000%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20roles&response_mode=form_post&nonce=637566186399584029.MGQ3NTRhOTAtMjRmNC00Zjg3LWIwZDUtYjI5ODZkNjQzOTU4NTI1ZDg4ZjYtYzJhMC00NjA5LTlkNzEtYjQwOTNmNDA3ZTMy&state=CfDJ8Bsakj9vmj1NsiQQXsI50cUybZ_ZWuMUEW1sI7I_PiMQUKsrVX0qHgf4q6EXQhId81kS90SevF8OQp98uRHojREE3VYS7y2ZnwZrqHq9GTqgd2fqBbCKgqghv5BEhpf8QeoNuhdS1gYRn-IPGc9Gx22bFmLSBmkGyBrhWmpft59pwyWbRZO7SQ5Py44SZnmWqxbY4VRyeeDN5Mfg4R4L44UUVepb1LiTZlUbOcqwJWY_HoABT8YfOmqJeluTuIh5puhdZ4C9DFuz_DsU-wUjvVWcyBnBHaLHMqXFomh_3pC6&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
[2021-05-14T19:50:56.9975592+00:00][DBUG][8][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize/callback" matched to endpoint type "Authorize"
[2021-05-14T19:50:56.9981828+00:00][DBUG][8][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint"
[2021-05-14T19:50:56.9982325+00:00][INFO][8][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2021-05-14T19:50:56.9993693+00:00][DBUG][8][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] Start authorize callback request
[2021-05-14T19:50:57.0190173+00:00][DBUG][8][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] User in authorize request: "51384c14-f2c7-4abd-8193-75db22d900f9"
[2021-05-14T19:50:57.0191304+00:00][DBUG][8][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-14T19:50:57.0196573+00:00][INFO][8][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:50:57.0245255+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:50:57.0322687+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:57.0572505+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:57.0614634+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:57.0669233+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:57.0704494+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:57.1159338+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:57.1207523+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:57.1249752+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:57.1299924+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:57.1315755+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-14T19:50:57.1316726+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-14T19:50:57.1317327+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2021-05-14T19:50:57.1317576+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2021-05-14T19:50:57.1776163+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:50:57.1792684+00:00][DBUG][10][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-14T19:50:57.1853500+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:50:57.1871188+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-14T19:50:57.1920006+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:50:57.2155422+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-14T19:50:57.2247903+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:50:57.2249658+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-14T19:50:57.2251025+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-14T19:50:57.2257173+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId", ClientName: "MyClientId", RedirectUri: "http://localhost:9000/signin-oidc", AllowedRedirectUris: ["http://localhost:9000/signin-oidc"], SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", ResponseType: "code id_token", ResponseMode: "form_post", GrantType: "hybrid", RequestedScopes: "openid profile email roles", State: "CfDJ8Bsakj9vmj1NsiQQXsI50cUybZ_ZWuMUEW1sI7I_PiMQUKsrVX0qHgf4q6EXQhId81kS90SevF8OQp98uRHojREE3VYS7y2ZnwZrqHq9GTqgd2fqBbCKgqghv5BEhpf8QeoNuhdS1gYRn-IPGc9Gx22bFmLSBmkGyBrhWmpft59pwyWbRZO7SQ5Py44SZnmWqxbY4VRyeeDN5Mfg4R4L44UUVepb1LiTZlUbOcqwJWY_HoABT8YfOmqJeluTuIh5puhdZ4C9DFuz_DsU-wUjvVWcyBnBHaLHMqXFomh_3pC6", UiLocales: null, Nonce: "637566186399584029.MGQ3NTRhOTAtMjRmNC00Zjg3LWIwZDUtYjI5ODZkNjQzOTU4NTI1ZDg4ZjYtYzJhMC00NjA5LTlkNzEtYjQwOTNmNDA3ZTMy", AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "oEDzHo0YzguagVmNTUOKgg", Raw: [("client_id": "MyClientId"), ("redirect_uri": "http://localhost:9000/signin-oidc"), ("response_type": "code id_token"), ("scope": "openid profile email roles"), ("response_mode": "form_post"), ("nonce": "637566186399584029.MGQ3NTRhOTAtMjRmNC00Zjg3LWIwZDUtYjI5ODZkNjQzOTU4NTI1ZDg4ZjYtYzJhMC00NjA5LTlkNzEtYjQwOTNmNDA3ZTMy"), ("state": "CfDJ8Bsakj9vmj1NsiQQXsI50cUybZ_ZWuMUEW1sI7I_PiMQUKsrVX0qHgf4q6EXQhId81kS90SevF8OQp98uRHojREE3VYS7y2ZnwZrqHq9GTqgd2fqBbCKgqghv5BEhpf8QeoNuhdS1gYRn-IPGc9Gx22bFmLSBmkGyBrhWmpft59pwyWbRZO7SQ5Py44SZnmWqxbY4VRyeeDN5Mfg4R4L44UUVepb1LiTZlUbOcqwJWY_HoABT8YfOmqJeluTuIh5puhdZ4C9DFuz_DsU-wUjvVWcyBnBHaLHMqXFomh_3pC6"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.5.0.0")] }
[2021-05-14T19:50:57.2269952+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:50:57.2312466+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"Id\" = @__p_0
LIMIT 1"
[2021-05-14T19:50:57.2322340+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:50:57.2573060+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__key_0
LIMIT 1"
[2021-05-14T19:50:57.2578531+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "FiMgizI/TAlytBBlnGfzVllupK/GcVNGf6O9Lhtb9hM=" found in database: False
[2021-05-14T19:50:57.2579081+00:00][DBUG][5][IdentityServer4.Stores.DefaultUserConsentStore] "user_consent" grant with value: "MyClientId|51384c14-f2c7-4abd-8193-75db22d900f9" not found in store.
[2021-05-14T19:50:57.2579727+00:00][DBUG][5][IdentityServer4.Services.DefaultConsentService] Found no prior consent from consent store, consent is required
[2021-05-14T19:50:57.2608845+00:00][INFO][5][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] User consented to scopes: ["roles", "openid", "profile", "email"]
[2021-05-14T19:50:57.2615315+00:00][DBUG][5][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] User indicated to remember consent for scopes: ["openid", "profile", "email", "roles"]
[2021-05-14T19:50:57.2627720+00:00][DBUG][5][IdentityServer4.Services.DefaultConsentService] Client allows remembering consent, and consent given. Updating consent store for subject: "51384c14-f2c7-4abd-8193-75db22d900f9"
[2021-05-14T19:50:57.2787957+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__token_Key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__token_Key_0
LIMIT 2"
[2021-05-14T19:50:57.2789727+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "FiMgizI/TAlytBBlnGfzVllupK/GcVNGf6O9Lhtb9hM=" not found in database
[2021-05-14T19:50:57.3893075+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"PersistedGrants\" (\"Key\", \"ClientId\", \"CreationTime\", \"Data\", \"Expiration\", \"SubjectId\", \"Type\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);"
[2021-05-14T19:50:57.4126028+00:00][DBUG][5][IdentityServer4.ResponseHandling.AuthorizeResponseGenerator] Creating Hybrid Flow response.
[2021-05-14T19:50:57.4325782+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__token_Key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__token_Key_0
LIMIT 2"
[2021-05-14T19:50:57.4327726+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "7Oqd+JgStp4D7t3tMH4PD7kzDJ81KvTL8IHer6LU6Ug=" not found in database
[2021-05-14T19:50:57.4618250+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"PersistedGrants\" (\"Key\", \"ClientId\", \"CreationTime\", \"Data\", \"Expiration\", \"SubjectId\", \"Type\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);"
[2021-05-14T19:50:57.4748502+00:00][DBUG][8][IdentityServer4.ResponseHandling.AuthorizeResponseGenerator] Creating Implicit Flow response.
[2021-05-14T19:50:57.4800362+00:00][DBUG][8][IdentityServer4.Services.DefaultClaimsService] Getting claims for identity token for subject: "51384c14-f2c7-4abd-8193-75db22d900f9" and client: "MyClientId"
[2021-05-14T19:50:57.4808723+00:00][DBUG][8][IdentityServer4.Services.DefaultClaimsService] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
[2021-05-14T19:50:57.5453352+00:00][INFO][8][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "MyClientId", ClientName: "MyClientId", RedirectUri: "http://localhost:9000/signin-oidc", Endpoint: "Authorize", SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", Scopes: "openid profile email roles", GrantType: "hybrid", Tokens: [Token { TokenType: "id_token", TokenValue: "****PlvQ" }, Token { TokenType: "code", TokenValue: "****kjKU" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM8N265GG79U:00000007", TimeStamp: 05/14/2021 19:50:57, ProcessId: 27, LocalIpAddress: "::ffff:172.18.0.7:80", RemoteIpAddress: "::ffff:172.18.0.1" }
[2021-05-14T19:50:57.5469632+00:00][DBUG][8][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] Authorize endpoint response
AuthorizeResponseLog { SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", ClientId: "MyClientId", RedirectUri: "http://localhost:9000/signin-oidc", State: "CfDJ8Bsakj9vmj1NsiQQXsI50cUybZ_ZWuMUEW1sI7I_PiMQUKsrVX0qHgf4q6EXQhId81kS90SevF8OQp98uRHojREE3VYS7y2ZnwZrqHq9GTqgd2fqBbCKgqghv5BEhpf8QeoNuhdS1gYRn-IPGc9Gx22bFmLSBmkGyBrhWmpft59pwyWbRZO7SQ5Py44SZnmWqxbY4VRyeeDN5Mfg4R4L44UUVepb1LiTZlUbOcqwJWY_HoABT8YfOmqJeluTuIh5puhdZ4C9DFuz_DsU-wUjvVWcyBnBHaLHMqXFomh_3pC6", Scope: "openid profile email roles", Error: null, ErrorDescription: null }
[2021-05-14T19:50:57.5545587+00:00][DBUG][8][IdentityServer4.Hosting.IdentityServerAuthenticationService] Augmenting SignInContext
[2021-05-14T19:50:57.5556076+00:00][INFO][8][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2021-05-14T19:50:57.5611410+00:00][INFO][8][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 564.4566ms 200 text/html; charset=UTF-8
[2021-05-14T19:50:57.7217775+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://host.docker.internal:4000/connect/token application/x-www-form-urlencoded 185
[2021-05-14T19:50:57.7251635+00:00][DBUG][4][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/token" matched to endpoint type "Token"
[2021-05-14T19:50:57.7297171+00:00][DBUG][4][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
[2021-05-14T19:50:57.7305324+00:00][INFO][4][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
[2021-05-14T19:50:57.7360020+00:00][DBUG][4][IdentityServer4.Endpoints.TokenEndpoint] Start token request.
[2021-05-14T19:50:57.7377625+00:00][DBUG][4][IdentityServer4.Validation.ClientSecretValidator] Start client validation
[2021-05-14T19:50:57.7413057+00:00][DBUG][4][IdentityServer4.Validation.BasicAuthenticationSecretParser] Start parsing Basic Authentication secret
[2021-05-14T19:50:57.7426637+00:00][DBUG][4][IdentityServer4.Validation.PostBodySecretParser] Start parsing for secret in post body
[2021-05-14T19:50:57.7437501+00:00][DBUG][4][IdentityServer4.Validation.SecretParser] Parser found secret: "PostBodySecretParser"
[2021-05-14T19:50:57.7438516+00:00][DBUG][4][IdentityServer4.Validation.SecretParser] Secret id found: "MyClientId"
[2021-05-14T19:50:57.7450174+00:00][INFO][4][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:50:57.7499521+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:50:57.7556962+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:57.7603179+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:57.7644013+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:57.8130256+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:57.8413151+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:57.8458968+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:57.8487267+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:57.8516974+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:57.8559821+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:57.8570872+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-14T19:50:57.8573257+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-14T19:50:57.8648472+00:00][DBUG][5][IdentityServer4.Validation.SecretValidator] Secret validator success: "HashedSharedSecretValidator"
[2021-05-14T19:50:57.8649750+00:00][DBUG][5][IdentityServer4.Validation.ClientSecretValidator] Client validation success
[2021-05-14T19:50:57.8661042+00:00][INFO][5][IdentityServer4.Events.DefaultEventService] ClientAuthenticationSuccessEvent { ClientId: "MyClientId", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HM8N265GG79T:00000003", TimeStamp: 05/14/2021 19:50:57, ProcessId: 27, LocalIpAddress: "::ffff:172.18.0.7:80", RemoteIpAddress: "::ffff:172.18.0.1" }
[2021-05-14T19:50:57.8696701+00:00][DBUG][5][IdentityServer4.Validation.TokenRequestValidator] Start token request validation
[2021-05-14T19:50:57.8728531+00:00][DBUG][5][IdentityServer4.Validation.TokenRequestValidator] Start validation of authorization code token request
[2021-05-14T19:50:57.8738340+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:50:57.8774026+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__key_0
LIMIT 1"
[2021-05-14T19:50:57.8822855+00:00][DBUG][14][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "7Oqd+JgStp4D7t3tMH4PD7kzDJ81KvTL8IHer6LU6Ug=" found in database: True
[2021-05-14T19:50:57.9470339+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__key_0
LIMIT 1"
[2021-05-14T19:50:57.9492475+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] removing "7Oqd+JgStp4D7t3tMH4PD7kzDJ81KvTL8IHer6LU6Ug=" persisted grant from database
[2021-05-14T19:50:57.9581229+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@p0='?'"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM \"PersistedGrants\"
WHERE \"Key\" = @p0;"
[2021-05-14T19:50:57.9782278+00:00][INFO][14][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:50:57.9797634+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"Id\" = @__p_0
LIMIT 1"
[2021-05-14T19:50:57.9801164+00:00][DBUG][14][IdentityServer4.Validation.TokenRequestValidator] Validation of authorization code token request success
[2021-05-14T19:50:57.9835321+00:00][INFO][14][IdentityServer4.Validation.TokenRequestValidator] Token request validation success, TokenRequestValidationLog { ClientId: "MyClientId", ClientName: "MyClientId", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "YLJWMd2SPlq4jMkIljPmUxpVl4749DTvGGZHQWSkjKU", RefreshToken: null, UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("client_id": "MyClientId"), ("client_secret": "***REDACTED***"), ("code": "YLJWMd2SPlq4jMkIljPmUxpVl4749DTvGGZHQWSkjKU"), ("grant_type": "authorization_code"), ("redirect_uri": "http://localhost:9000/signin-oidc")] }
[2021-05-14T19:50:58.0134804+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:50:58.0388184+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.0405968+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.0427046+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.0473146+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.0529521+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.0578234+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.0629468+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.0671813+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.0720947+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.0743361+00:00][DBUG][14][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-14T19:50:58.0744765+00:00][DBUG][14][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-14T19:50:58.1002571+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:50:58.1019018+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-14T19:50:58.1267675+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:50:58.1284678+00:00][DBUG][14][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-14T19:50:58.1369607+00:00][DBUG][14][IdentityServer4.Services.DefaultClaimsService] Getting claims for access token for client: "MyClientId"
[2021-05-14T19:50:58.1375320+00:00][DBUG][14][IdentityServer4.Services.DefaultClaimsService] Getting claims for access token for subject: "51384c14-f2c7-4abd-8193-75db22d900f9"
[2021-05-14T19:50:58.1432456+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"ClaimType\", u.\"ClaimValue\", u.\"UserId\"
FROM \"UserClaims\" AS u
WHERE u.\"UserId\" = @__user_Id_0"
[2021-05-14T19:50:58.1472846+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Name\"
FROM \"UserRoles\" AS u
INNER JOIN \"Roles\" AS r ON u.\"RoleId\" = r.\"Id\"
WHERE u.\"UserId\" = @__userId_0"
[2021-05-14T19:50:58.1713905+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"ConcurrencyStamp\", r.\"Name\", r.\"NormalizedName\"
FROM \"Roles\" AS r
WHERE r.\"NormalizedName\" = @__normalizedName_0
LIMIT 1"
[2021-05-14T19:50:58.1765101+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"ClaimType\", r.\"ClaimValue\"
FROM \"RoleClaims\" AS r
WHERE r.\"RoleId\" = @__role_Id_0"
[2021-05-14T19:50:58.2307843+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:50:58.2573983+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.2607959+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.2636971+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.2671446+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.2749618+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.2810810+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.3085233+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.3136454+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.3169740+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.3171714+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-14T19:50:58.3172466+00:00][DBUG][8][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-14T19:50:58.3189160+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:50:58.3191448+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-14T19:50:58.3221507+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-14T19:50:58.3229951+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-14T19:50:58.3235860+00:00][DBUG][8][IdentityServer4.Services.DefaultClaimsService] Getting claims for identity token for subject: "51384c14-f2c7-4abd-8193-75db22d900f9" and client: "MyClientId"
[2021-05-14T19:50:58.3237766+00:00][DBUG][8][IdentityServer4.Services.DefaultClaimsService] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
[2021-05-14T19:50:58.3267775+00:00][INFO][8][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "MyClientId", ClientName: "MyClientId", RedirectUri: null, Endpoint: "Token", SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", Scopes: "openid profile email roles", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****tNrg" }, Token { TokenType: "access_token", TokenValue: "****24Yw" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM8N265GG79T:00000003", TimeStamp: 05/14/2021 19:50:58, ProcessId: 27, LocalIpAddress: "::ffff:172.18.0.7:80", RemoteIpAddress: "::ffff:172.18.0.1" }
[2021-05-14T19:50:58.3272475+00:00][DBUG][8][IdentityServer4.Endpoints.TokenEndpoint] Token request success.
[2021-05-14T19:50:58.3326601+00:00][INFO][8][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 610.678ms 200 application/json; charset=UTF-8
[2021-05-14T19:50:58.3543601+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/connect/userinfo  
[2021-05-14T19:50:58.3552725+00:00][DBUG][14][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/userinfo" matched to endpoint type "Userinfo"
[2021-05-14T19:50:58.3567724+00:00][DBUG][14][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Userinfo", successfully created handler: "IdentityServer4.Endpoints.UserInfoEndpoint"
[2021-05-14T19:50:58.3568487+00:00][INFO][14][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo"
[2021-05-14T19:50:58.3602368+00:00][DBUG][14][IdentityServer4.Endpoints.UserInfoEndpoint] Start userinfo request
[2021-05-14T19:50:58.3625327+00:00][DBUG][14][IdentityServer4.Validation.BearerTokenUsageValidator] Bearer token found in header
[2021-05-14T19:50:58.4029649+00:00][INFO][14][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:50:58.4056021+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:50:58.4325333+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.4349386+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.4584551+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.4612781+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.4843615+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.4871715+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.4914593+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.4962268+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.5016304+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.5021294+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-14T19:50:58.5023029+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-14T19:50:58.5085439+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-14T19:50:58.5542976+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.5770321+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.6230876+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.6484712+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.6526806+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.7219938+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.7238277+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.7342729+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.7368179+00:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-14T19:50:58.7443561+00:00][DBUG][8][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-14T19:50:58.7445935+00:00][DBUG][8][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-14T19:50:58.7465652+00:00][INFO][8][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-14T19:50:58.7715435+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__p_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"Id\" = @__p_0
LIMIT 1"
[2021-05-14T19:50:58.7757420+00:00][DBUG][10][IdentityServer4.Validation.TokenValidator] Calling into custom token validator: "IdentityServer4.Validation.DefaultCustomTokenValidator"
[2021-05-14T19:50:58.7769986+00:00][DBUG][10][IdentityServer4.Validation.TokenValidator] Token validation success
TokenValidationLog { ClientId: null, ClientName: null, ValidateLifetime: True, AccessTokenType: "Jwt", ExpectedScope: "openid", TokenHandle: null, JwtId: null, Claims: [("nbf": 1621021858), ("exp": 1621025458), ("iss": "http://host.docker.internal:4000"), ("client_id": "MyClientId"), ("sub": "51384c14-f2c7-4abd-8193-75db22d900f9"), ("auth_time": 1621021851), ("idp": "local"), ("scope": ["roles", "openid", "profile", "email"]), ("amr": "pwd")] }
[2021-05-14T19:50:58.7823657+00:00][DBUG][10][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Creating userinfo response
[2021-05-14T19:50:58.7861877+00:00][DBUG][10][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Scopes in access token: "roles openid profile email"
[2021-05-14T19:50:58.7878908+00:00][DBUG][10][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Scopes in access token: "roles openid profile email"
[2021-05-14T19:50:58.7918347+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:50:58.7924090+00:00][DBUG][10][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-14T19:50:58.7932104+00:00][DBUG][10][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Requested claim types: "role sub updated_at locale zoneinfo birthdate gender website picture preferred_username nickname middle_name given_name family_name name profile email email_verified"
[2021-05-14T19:50:58.7933636+00:00][DBUG][10][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Scopes in access token: "roles openid profile email"
[2021-05-14T19:50:58.7983205+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-14T19:50:58.7990158+00:00][DBUG][10][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-14T19:50:58.8042701+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"ClaimType\", u.\"ClaimValue\", u.\"UserId\"
FROM \"UserClaims\" AS u
WHERE u.\"UserId\" = @__user_Id_0"
[2021-05-14T19:50:58.8310134+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Name\"
FROM \"UserRoles\" AS u
INNER JOIN \"Roles\" AS r ON u.\"RoleId\" = r.\"Id\"
WHERE u.\"UserId\" = @__userId_0"
[2021-05-14T19:50:58.8547310+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"ConcurrencyStamp\", r.\"Name\", r.\"NormalizedName\"
FROM \"Roles\" AS r
WHERE r.\"NormalizedName\" = @__normalizedName_0
LIMIT 1"
[2021-05-14T19:50:58.8998515+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("44"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"ClaimType\", r.\"ClaimValue\"
FROM \"RoleClaims\" AS r
WHERE r.\"RoleId\" = @__role_Id_0"
[2021-05-14T19:50:58.9017830+00:00][INFO][10][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Profile service returned the following claim types: "sub name role preferred_username email email_verified"
[2021-05-14T19:50:58.9019355+00:00][DBUG][10][IdentityServer4.Endpoints.UserInfoEndpoint] End userinfo request
[2021-05-14T19:50:58.9044890+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 550.1267ms 200 application/json; charset=UTF-8
[2021-05-14T19:51:14.3721395+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/  
[2021-05-14T19:51:14.3760987+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T19:51:14.3768692+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "MyProject.STS.Identity.Controllers.HomeController" ("MyProject.STS.Identity").
[2021-05-14T19:51:14.3787479+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2021-05-14T19:51:14.3849543+00:00][INFO][5][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2021-05-14T19:51:14.3935382+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 14.7386ms.
[2021-05-14T19:51:14.3946668+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)" in 16.973ms
[2021-05-14T19:51:14.3953349+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T19:51:14.3969606+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 24.6331ms 200 text/html; charset=utf-8
[2021-05-14T19:51:14.4646337+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/images/skoruba-icon.png  
[2021-05-14T19:51:14.4996163+00:00][INFO][4][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/images/skoruba-icon.png"'. Physical path: '"/app/wwwroot/images/skoruba-icon.png"'
[2021-05-14T19:51:14.4999991+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 35.696ms 200 image/png
[2021-05-14T19:51:23.5395711+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/  
[2021-05-14T19:51:23.5610720+00:00][INFO][4][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T19:51:23.5612912+00:00][INFO][4][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2021-05-14T19:51:23.5633408+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T19:51:23.5660875+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "MyProject.STS.Identity.Controllers.HomeController" ("MyProject.STS.Identity").
[2021-05-14T19:51:23.5672542+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2021-05-14T19:51:23.6280345+00:00][EROR][4][Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery] An exception was thrown while deserializing the token.
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The antiforgery token could not be decrypted.
 ---> System.Security.Cryptography.CryptographicException: The key {3f921a1b-9a6f-4d3d-b224-105ec239d1c5} was not found in the key ring.
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.GetCookieTokenDoesNotThrow(HttpContext httpContext)
[2021-05-14T19:51:23.6348911+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 67.5481ms.
[2021-05-14T19:51:23.6357156+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)" in 69.3593ms
[2021-05-14T19:51:23.6363169+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-14T19:51:23.6373877+00:00][INF