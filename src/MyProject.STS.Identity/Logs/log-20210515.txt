[2021-05-15T13:18:10.9588274+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2021-05-15T13:18:11.0570882+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2021-05-15T13:18:11.1230047+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] Creating key {d262eff1-7cb9-46fb-a9ee-c283aec59aea} with creation date 2021-05-15 13:18:11Z, activation date 2021-05-15 13:18:11Z, and expiration date 2021-08-13 13:18:11Z.
[2021-05-15T13:18:11.1365297+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] No XML encryptor configured. Key {d262eff1-7cb9-46fb-a9ee-c283aec59aea} may be persisted to storage in unencrypted form.
[2021-05-15T13:18:11.1505788+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Writing data to file '"/root/.aspnet/DataProtection-Keys/key-d262eff1-7cb9-46fb-a9ee-c283aec59aea.xml"'.
[2021-05-15T13:18:11.2769882+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2021-05-15T13:18:11.3224879+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2021-05-15T13:18:11.3238798+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2021-05-15T13:18:11.3245811+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2021-05-15T13:18:11.3253765+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2021-05-15T13:18:11.3262717+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2021-05-15T13:18:11.3269823+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2021-05-15T13:18:11.6887137+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2021-05-15T13:18:11.7011144+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2021-05-15T13:18:11.7014731+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2021-05-15T13:18:11.7017686+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2021-05-15T13:18:12.7934112+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/  
[2021-05-15T13:18:12.8431083+00:00][DBUG][5][IdentityServer4.Startup] Login Url: "/Account/Login"
[2021-05-15T13:18:12.8435681+00:00][DBUG][5][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2021-05-15T13:18:12.8437104+00:00][DBUG][5][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2021-05-15T13:18:12.8445344+00:00][DBUG][5][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2021-05-15T13:18:12.8452473+00:00][DBUG][5][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2021-05-15T13:18:12.8494916+00:00][DBUG][5][IdentityServer4.Startup] Error Url: "/home/error"
[2021-05-15T13:18:12.8497677+00:00][DBUG][5][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2021-05-15T13:18:12.9360159+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-15T13:18:12.9646268+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "MyProject.STS.Identity.Controllers.HomeController" ("MyProject.STS.Identity").
[2021-05-15T13:18:13.0134358+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2021-05-15T13:18:13.5220617+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 509.2892ms.
[2021-05-15T13:18:13.5242914+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)" in 558.2472ms
[2021-05-15T13:18:13.5254901+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-15T13:18:13.5338883+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 744.0608ms 200 text/html; charset=utf-8
[2021-05-15T13:18:13.5649924+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/images/skoruba-icon.png  
[2021-05-15T13:18:13.5904606+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/css/bundle.min.css?v=oT_78HNbw1icHDGc5AceMykUYmOGOJKGRMVmkJ7XyTk  
[2021-05-15T13:18:13.5970801+00:00][INFO][5][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] The file "/dist/css/bundle.min.css" was not modified
[2021-05-15T13:18:13.5982103+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 7.6969ms 304 text/css
[2021-05-15T13:18:13.5994108+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/css/web.css?v=xyATVK1qJOMwc5iqad_yMVmZ1bPSh2NrIU-LFUH1QnQ  
[2021-05-15T13:18:13.5999733+00:00][INFO][5][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] The file "/dist/css/web.css" was not modified
[2021-05-15T13:18:13.6005739+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 0.8408ms 304 text/css
[2021-05-15T13:18:13.6015889+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/js/bundle.min.js?v=sdrg65r3tKxiGM6AqyQdPavHwyJbTSiP89tDmHuV7DE  
[2021-05-15T13:18:13.6019046+00:00][INFO][5][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] The file "/dist/js/bundle.min.js" was not modified
[2021-05-15T13:18:13.6020916+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 0.5308ms 304 application/javascript
[2021-05-15T13:18:13.6249933+00:00][INFO][6][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/images/skoruba-icon.png"'. Physical path: '"/app/wwwroot/images/skoruba-icon.png"'
[2021-05-15T13:18:13.6254443+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 60.4545ms 200 image/png
[2021-05-15T13:18:13.6603716+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/fonts/open-iconic.woff  
[2021-05-15T13:18:13.6632219+00:00][INFO][5][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] The file "/dist/fonts/open-iconic.woff" was not modified
[2021-05-15T13:18:13.6645851+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 4.2177ms 304 application/font-woff
[2021-05-15T13:18:23.6600099+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/Account/Login  
[2021-05-15T13:18:23.6767973+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-15T13:18:23.6955926+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("MyProject.STS.Identity").
[2021-05-15T13:18:23.7201092+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2021-05-15T13:18:23.7606109+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 44.0463ms.
[2021-05-15T13:18:23.7611258+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)" in 65.2755ms
[2021-05-15T13:18:23.7612927+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-15T13:18:23.7629829+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 103.162ms 200 text/html; charset=utf-8
[2021-05-15T13:18:23.8046256+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/dist/fonts/fontawesome-webfont.woff2?v=4.7.0  
[2021-05-15T13:18:23.8087828+00:00][INFO][4][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] The file "/dist/fonts/fontawesome-webfont.woff2" was not modified
[2021-05-15T13:18:23.8097575+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 5.1966ms 304 font/woff2
[2021-05-15T13:18:29.1983871+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://localhost:4000/Account/Login application/x-www-form-urlencoded 264
[2021-05-15T13:18:29.2041056+00:00][DBUG][4][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2021-05-15T13:18:29.2077602+00:00][INFO][4][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2021-05-15T13:18:29.2291515+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-15T13:18:29.2421254+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyProject.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("MyProject.STS.Identity").
[2021-05-15T13:18:29.2810311+00:00][INFO][4][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-15T13:18:29.9403304+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2021-05-15T13:18:30.0305194+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2021-05-15T13:18:30.1426105+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"ClaimType\", u.\"ClaimValue\", u.\"UserId\"
FROM \"UserClaims\" AS u
WHERE u.\"UserId\" = @__user_Id_0"
[2021-05-15T13:18:30.2797672+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Name\"
FROM \"UserRoles\" AS u
INNER JOIN \"Roles\" AS r ON u.\"RoleId\" = r.\"Id\"
WHERE u.\"UserId\" = @__userId_0"
[2021-05-15T13:18:30.3387691+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"ConcurrencyStamp\", r.\"Name\", r.\"NormalizedName\"
FROM \"Roles\" AS r
WHERE r.\"NormalizedName\" = @__normalizedName_0
LIMIT 1"
[2021-05-15T13:18:30.3544477+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"ClaimType\", r.\"ClaimValue\"
FROM \"RoleClaims\" AS r
WHERE r.\"RoleId\" = @__role_Id_0"
[2021-05-15T13:18:30.3626104+00:00][DBUG][6][IdentityServer4.Hosting.IdentityServerAuthenticationService] Augmenting SignInContext
[2021-05-15T13:18:30.3641339+00:00][DBUG][6][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding idp claim with value: "local"
[2021-05-15T13:18:30.3645718+00:00][DBUG][6][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding auth_time claim with value: "1621084710"
[2021-05-15T13:18:30.3918573+00:00][INFO][6][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2021-05-15T13:18:30.4127797+00:00][INFO][6][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM8NKFI539UI:00000005", TimeStamp: 05/15/2021 13:18:30, ProcessId: 31, LocalIpAddress: "::ffff:172.20.0.7:80", RemoteIpAddress: "::ffff:172.20.0.1" }
[2021-05-15T13:18:30.4199474+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/".
[2021-05-15T13:18:30.4214812+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)" in 1179.0292ms
[2021-05-15T13:18:30.4223977+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-15T13:18:30.4280424+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1229.8857ms 302 
[2021-05-15T13:18:30.4294202+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://localhost:4000/  
[2021-05-15T13:18:30.4356873+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-15T13:18:30.4361441+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "MyProject.STS.Identity.Controllers.HomeController" ("MyProject.STS.Identity").
[2021-05-15T13:18:30.4376875+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2021-05-15T13:18:30.4584862+00:00][INFO][5][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2021-05-15T13:18:30.4643823+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 26.871ms.
[2021-05-15T13:18:30.4654183+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)" in 28.7512ms
[2021-05-15T13:18:30.4677172+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-15T13:18:30.4691441+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 39.437ms 200 text/html; charset=utf-8
[2021-05-15T13:18:45.7126437+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/.well-known/openid-configuration  
[2021-05-15T13:18:45.7136826+00:00][DBUG][6][IdentityServer4.Hosting.EndpointRouter] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
[2021-05-15T13:18:45.7158026+00:00][DBUG][6][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
[2021-05-15T13:18:45.7159744+00:00][INFO][6][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2021-05-15T13:18:45.7169678+00:00][DBUG][6][IdentityServer4.Endpoints.DiscoveryEndpoint] Start discovery request
[2021-05-15T13:18:45.7356025+00:00][INFO][6][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-15T13:18:45.7884278+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-15T13:18:45.9701684+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM [2021-05-15T13:25:56.2703095+00:00][WARN][1][Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository] Storing keys in a directory '"/root/.aspnet/DataProtection-Keys"' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
[2021-05-15T13:25:56.3538534+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] User profile is available. Using '"/root/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
[2021-05-15T13:25:56.5285584+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.0.0"
[2021-05-15T13:25:56.5601756+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2021-05-15T13:25:56.5602831+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2021-05-15T13:25:56.5603843+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2021-05-15T13:25:56.5606624+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2021-05-15T13:25:56.5607624+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2021-05-15T13:25:56.5609491+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2021-05-15T13:25:56.8655689+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2021-05-15T13:25:56.8659632+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2021-05-15T13:25:56.8660386+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2021-05-15T13:25:56.8660955+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2021-05-15T13:25:57.7454920+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/  
[2021-05-15T13:25:57.7853413+00:00][DBUG][6][IdentityServer4.Startup] Login Url: "/Account/Login"
[2021-05-15T13:25:57.7854800+00:00][DBUG][6][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2021-05-15T13:25:57.7855066+00:00][DBUG][6][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2021-05-15T13:25:57.7855334+00:00][DBUG][6][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2021-05-15T13:25:57.7855659+00:00][DBUG][6][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2021-05-15T13:25:57.7856090+00:00][DBUG][6][IdentityServer4.Startup] Error Url: "/home/error"
[2021-05-15T13:25:57.7856404+00:00][DBUG][6][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2021-05-15T13:25:57.8662577+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-15T13:25:57.8960361+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "MyProject.STS.Identity.Controllers.HomeController" ("MyProject.STS.Identity").
[2021-05-15T13:25:57.9358922+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2021-05-15T13:25:58.4021615+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 464.8007ms.
[2021-05-15T13:25:58.4044603+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)" in 506.8423ms
[2021-05-15T13:25:58.4059161+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.HomeController.Index (MyProject.STS.Identity)"'
[2021-05-15T13:25:58.4142706+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 673.1658ms 200 text/html; charset=utf-8
[2021-05-15T13:25:58.4441702+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/dist/css/web.css?v=xyATVK1qJOMwc5iqad_yMVmZ1bPSh2NrIU-LFUH1QnQ  
[2021-05-15T13:25:58.4651487+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/dist/css/bundle.min.css?v=oT_78HNbw1icHDGc5AceMykUYmOGOJKGRMVmkJ7XyTk  
[2021-05-15T13:25:58.4946057+00:00][INFO][5][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"/app/wwwroot/dist/css/web.css"'
[2021-05-15T13:25:58.4983275+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/dist/js/bundle.min.js?v=sdrg65r3tKxiGM6AqyQdPavHwyJbTSiP89tDmHuV7DE  
[2021-05-15T13:25:58.5151538+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 70.5271ms 200 text/css
[2021-05-15T13:25:58.5323120+00:00][INFO][5][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"/app/wwwroot/dist/js/bundle.min.js"'
[2021-05-15T13:25:58.5332482+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 34.5194ms 200 application/javascript
[2021-05-15T13:25:58.5394340+00:00][INFO][6][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"/app/wwwroot/dist/css/bundle.min.css"'
[2021-05-15T13:25:58.5402514+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 75.0339ms 200 text/css
[2021-05-15T13:25:58.5458933+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/images/skoruba-icon.png  
[2021-05-15T13:25:58.5522989+00:00][INFO][5][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/images/skoruba-icon.png"'. Physical path: '"/app/wwwroot/images/skoruba-icon.png"'
[2021-05-15T13:25:58.5542452+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 8.4506ms 200 image/png
[2021-05-15T13:25:58.5995167+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/dist/fonts/open-iconic.woff  
[2021-05-15T13:25:58.6055456+00:00][INFO][6][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"/app/wwwroot/dist/fonts/open-iconic.woff"'
[2021-05-15T13:25:58.6070210+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 6.5364ms 200 application/font-woff
[2021-05-15T13:25:58.6132582+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/favicon.ico  
[2021-05-15T13:25:58.6199742+00:00][INFO][5][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2021-05-15T13:25:58.6208898+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 7.2539ms 200 image/x-icon
[2021-05-15T13:26:06.9621497+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/.well-known/openid-configuration  
[2021-05-15T13:26:06.9637163+00:00][DBUG][4][IdentityServer4.Hosting.EndpointRouter] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
[2021-05-15T13:26:06.9664141+00:00][DBUG][4][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
[2021-05-15T13:26:06.9669775+00:00][INFO][4][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2021-05-15T13:26:06.9698677+00:00][DBUG][4][IdentityServer4.Endpoints.DiscoveryEndpoint] Start discovery request
[2021-05-15T13:26:06.9897728+00:00][INFO][4][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-15T13:26:07.6647384+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-15T13:26:07.8181469+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-15T13:26:08.0722050+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email", "address", "MyClientId_api"] as all scopes in database
[2021-05-15T13:26:08.1285711+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1166.5503ms 200 application/json; charset=UTF-8
[2021-05-15T13:26:08.3087206+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/.well-known/openid-configuration/jwks  
[2021-05-15T13:26:08.3168714+00:00][DBUG][4][IdentityServer4.Hosting.EndpointRouter] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
[2021-05-15T13:26:08.3210114+00:00][DBUG][4][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
[2021-05-15T13:26:08.3215617+00:00][INFO][4][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
[2021-05-15T13:26:08.3242750+00:00][DBUG][4][IdentityServer4.Endpoints.DiscoveryKeyEndpoint] Start key discovery request
[2021-05-15T13:26:08.3759957+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 67.4105ms 200 application/jwk-set+json; charset=UTF-8
[2021-05-15T13:26:08.4490610+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/connect/authorize?client_id=MyClientId&redirect_uri=http%3A%2F%2Flocalhost%3A9000%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20roles&response_mode=form_post&nonce=637566819684004044.M2UwZjFmZjctMmUxYy00YjRlLTgyMWUtMWUxMDVhMzZiMTliZGZlMGZkYWUtMDJjYS00YWE5LWEyOTktOTY1ODIwZjBkYTY4&state=CfDJ8JW876rkMx9Ai8ul1HizK7tYepoqN3ltQ1mpuuD8xRGnTdhjEN0m5fuddkWM-u5D_iRE_ApmoEhwV98qY7OR7Cj3s1wIOW8btJqX5grSGRio2AADtqh5-jrpL5DnpaeDKFiXYX77hfnr3DOeGnRWW7RIdk-EhCfv7UofX372L7BSz2T4hWvMchdfsqACaZ-b2MpIOdm2gAnAsnhfaF46YlmCokf0Ac7SPZymCVZf7tvmmdp7vwgif2fymL3dpryR-j9a0WZgk2mnZD52w6-6jixzx7hH2zfMmOk9Jf-KTrmn&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
[2021-05-15T13:26:08.4512794+00:00][DBUG][6][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize" matched to endpoint type "Authorize"
[2021-05-15T13:26:08.4547372+00:00][DBUG][6][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeEndpoint"
[2021-05-15T13:26:08.4557116+00:00][INFO][6][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2021-05-15T13:26:08.4586157+00:00][DBUG][6][IdentityServer4.Endpoints.AuthorizeEndpoint] Start authorize request
[2021-05-15T13:26:08.4681641+00:00][DBUG][6][IdentityServer4.Endpoints.AuthorizeEndpoint] No user present in authorize request
[2021-05-15T13:26:08.4705176+00:00][DBUG][6][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-15T13:26:08.4799470+00:00][INFO][6][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-15T13:26:08.5256472+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-15T13:26:08.7203510+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:08.7394904+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:08.7992342+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:08.8178093+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:08.8715892+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:08.9723556+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:09.0281917+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:09.0656565+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:09.0787641+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:09.1878989+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-15T13:26:09.1944709+00:00][DBUG][13][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-15T13:26:09.2047869+00:00][DBUG][13][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2021-05-15T13:26:09.2054474+00:00][DBUG][13][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2021-05-15T13:26:09.2515139+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-15T13:26:09.2541668+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-15T13:26:09.3343690+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-15T13:26:09.3799176+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-15T13:26:09.4126779+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-15T13:26:09.4151104+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-15T13:26:09.4408989+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-15T13:26:09.4618995+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-15T13:26:09.4856963+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-15T13:26:09.4938140+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId", ClientName: "MyClientId", RedirectUri: "http://localhost:9000/signin-oidc", AllowedRedirectUris: ["http://localhost:9000/signin-oidc"], SubjectId: "anonymous", ResponseType: "code id_token", ResponseMode: "form_post", GrantType: "hybrid", RequestedScopes: "openid profile email roles", State: "CfDJ8JW876rkMx9Ai8ul1HizK7tYepoqN3ltQ1mpuuD8xRGnTdhjEN0m5fuddkWM-u5D_iRE_ApmoEhwV98qY7OR7Cj3s1wIOW8btJqX5grSGRio2AADtqh5-jrpL5DnpaeDKFiXYX77hfnr3DOeGnRWW7RIdk-EhCfv7UofX372L7BSz2T4hWvMchdfsqACaZ-b2MpIOdm2gAnAsnhfaF46YlmCokf0Ac7SPZymCVZf7tvmmdp7vwgif2fymL3dpryR-j9a0WZgk2mnZD52w6-6jixzx7hH2zfMmOk9Jf-KTrmn", UiLocales: null, Nonce: "637566819684004044.M2UwZjFmZjctMmUxYy00YjRlLTgyMWUtMWUxMDVhMzZiMTliZGZlMGZkYWUtMDJjYS00YWE5LWEyOTktOTY1ODIwZjBkYTY4", AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "", Raw: [("client_id": "MyClientId"), ("redirect_uri": "http://localhost:9000/signin-oidc"), ("response_type": "code id_token"), ("scope": "openid profile email roles"), ("response_mode": "form_post"), ("nonce": "637566819684004044.M2UwZjFmZjctMmUxYy00YjRlLTgyMWUtMWUxMDVhMzZiMTliZGZlMGZkYWUtMDJjYS00YWE5LWEyOTktOTY1ODIwZjBkYTY4"), ("state": "CfDJ8JW876rkMx9Ai8ul1HizK7tYepoqN3ltQ1mpuuD8xRGnTdhjEN0m5fuddkWM-u5D_iRE_ApmoEhwV98qY7OR7Cj3s1wIOW8btJqX5grSGRio2AADtqh5-jrpL5DnpaeDKFiXYX77hfnr3DOeGnRWW7RIdk-EhCfv7UofX372L7BSz2T4hWvMchdfsqACaZ-b2MpIOdm2gAnAsnhfaF46YlmCokf0Ac7SPZymCVZf7tvmmdp7vwgif2fymL3dpryR-j9a0WZgk2mnZD52w6-6jixzx7hH2zfMmOk9Jf-KTrmn"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.5.0.0")] }
[2021-05-15T13:26:09.5008927+00:00][INFO][5][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2021-05-15T13:26:09.5051946+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1056.0589ms 302 
[2021-05-15T13:26:09.5112466+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DMyClientId%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A9000%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520roles%26response_mode%3Dform_post%26nonce%3D637566819684004044.M2UwZjFmZjctMmUxYy00YjRlLTgyMWUtMWUxMDVhMzZiMTliZGZlMGZkYWUtMDJjYS00YWE5LWEyOTktOTY1ODIwZjBkYTY4%26state%3DCfDJ8JW876rkMx9Ai8ul1HizK7tYepoqN3ltQ1mpuuD8xRGnTdhjEN0m5fuddkWM-u5D_iRE_ApmoEhwV98qY7OR7Cj3s1wIOW8btJqX5grSGRio2AADtqh5-jrpL5DnpaeDKFiXYX77hfnr3DOeGnRWW7RIdk-EhCfv7UofX372L7BSz2T4hWvMchdfsqACaZ-b2MpIOdm2gAnAsnhfaF46YlmCokf0Ac7SPZymCVZf7tvmmdp7vwgif2fymL3dpryR-j9a0WZgk2mnZD52w6-6jixzx7hH2zfMmOk9Jf-KTrmn%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
[2021-05-15T13:26:09.5221666+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-15T13:26:09.5388422+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("MyProject.STS.Identity").
[2021-05-15T13:26:09.5589129+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-15T13:26:09.5601868+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-15T13:26:09.5675697+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-15T13:26:09.5733902+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:09.5959434+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:09.5993029+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:09.6016267+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:09.6041066+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:09.6299770+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:09.6542933+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:09.6993159+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:09.7047216+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:09.7053990+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-15T13:26:09.7059215+00:00][DBUG][13][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-15T13:26:09.7063441+00:00][DBUG][13][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2021-05-15T13:26:09.7064859+00:00][DBUG][13][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2021-05-15T13:26:09.7752298+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("67"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-15T13:26:09.7763503+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-15T13:26:09.8283973+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-15T13:26:09.8288710+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-15T13:26:09.8761110+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-15T13:26:09.8773492+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-15T13:26:09.8812075+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-15T13:26:09.8824788+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-15T13:26:09.8830302+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-15T13:26:09.8920566+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-15T13:26:09.9204656+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:09.9454044+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:09.9481671+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:09.9535564+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:09.9575973+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:09.9612412+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:09.9646593+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:09.9673299+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:09.9936748+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:09.9949110+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-15T13:26:09.9952321+00:00][DBUG][4][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-15T13:26:10.0012938+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2021-05-15T13:26:10.0423527+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 41.9391ms.
[2021-05-15T13:26:10.0453364+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)" in 506.1046ms
[2021-05-15T13:26:10.0465849+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-15T13:26:10.0488760+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 537.5798ms 200 text/html; charset=utf-8
[2021-05-15T13:26:10.1706836+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/dist/fonts/fontawesome-webfont.woff2?v=4.7.0  
[2021-05-15T13:26:10.1799418+00:00][INFO][5][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/fontawesome-webfont.woff2"'. Physical path: '"/app/wwwroot/dist/fonts/fontawesome-webfont.woff2"'
[2021-05-15T13:26:10.1802038+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 9.5297ms 200 font/woff2
[2021-05-15T13:26:19.6179418+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://host.docker.internal:4000/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DMyClientId%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A9000%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520email%2520roles%26response_mode%3Dform_post%26nonce%3D637566819684004044.M2UwZjFmZjctMmUxYy00YjRlLTgyMWUtMWUxMDVhMzZiMTliZGZlMGZkYWUtMDJjYS00YWE5LWEyOTktOTY1ODIwZjBkYTY4%26state%3DCfDJ8JW876rkMx9Ai8ul1HizK7tYepoqN3ltQ1mpuuD8xRGnTdhjEN0m5fuddkWM-u5D_iRE_ApmoEhwV98qY7OR7Cj3s1wIOW8btJqX5grSGRio2AADtqh5-jrpL5DnpaeDKFiXYX77hfnr3DOeGnRWW7RIdk-EhCfv7UofX372L7BSz2T4hWvMchdfsqACaZ-b2MpIOdm2gAnAsnhfaF46YlmCokf0Ac7SPZymCVZf7tvmmdp7vwgif2fymL3dpryR-j9a0WZgk2mnZD52w6-6jixzx7hH2zfMmOk9Jf-KTrmn%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 application/x-www-form-urlencoded 1007
[2021-05-15T13:26:19.6248851+00:00][DBUG][4][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2021-05-15T13:26:19.6302006+00:00][INFO][4][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2021-05-15T13:26:19.6486081+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-15T13:26:19.6638088+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyProject.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("MyProject.STS.Identity").
[2021-05-15T13:26:19.7109607+00:00][DBUG][4][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-15T13:26:19.7126331+00:00][INFO][4][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-15T13:26:19.7173646+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-15T13:26:19.7232794+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:19.9574333+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:19.9608979+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:19.9656940+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:19.9698067+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:19.9723437+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:19.9768765+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:19.9810552+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:19.9870175+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:19.9892570+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-15T13:26:19.9895165+00:00][DBUG][13][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-15T13:26:19.9900489+00:00][DBUG][13][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2021-05-15T13:26:19.9901758+00:00][DBUG][13][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2021-05-15T13:26:19.9942169+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-15T13:26:19.9971306+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-15T13:26:20.0259167+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-15T13:26:20.0261777+00:00][DBUG][6][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-15T13:26:20.0301097+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-15T13:26:20.0334655+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-15T13:26:20.0400172+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-15T13:26:20.0414476+00:00][DBUG][6][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-15T13:26:20.0418625+00:00][DBUG][6][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-15T13:26:20.0464718+00:00][INFO][6][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-15T13:26:20.0600146+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2021-05-15T13:26:20.1475589+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("45"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2021-05-15T13:26:20.2672306+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"ClaimType\", u.\"ClaimValue\", u.\"UserId\"
FROM \"UserClaims\" AS u
WHERE u.\"UserId\" = @__user_Id_0"
[2021-05-15T13:26:20.3230117+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Name\"
FROM \"UserRoles\" AS u
INNER JOIN \"Roles\" AS r ON u.\"RoleId\" = r.\"Id\"
WHERE u.\"UserId\" = @__userId_0"
[2021-05-15T13:26:20.3580759+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"ConcurrencyStamp\", r.\"Name\", r.\"NormalizedName\"
FROM \"Roles\" AS r
WHERE r.\"NormalizedName\" = @__normalizedName_0
LIMIT 1"
[2021-05-15T13:26:20.3721367+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"ClaimType\", r.\"ClaimValue\"
FROM \"RoleClaims\" AS r
WHERE r.\"RoleId\" = @__role_Id_0"
[2021-05-15T13:26:20.3785890+00:00][DBUG][5][IdentityServer4.Hosting.IdentityServerAuthenticationService] Augmenting SignInContext
[2021-05-15T13:26:20.3796787+00:00][DBUG][5][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding idp claim with value: "local"
[2021-05-15T13:26:20.3799753+00:00][DBUG][5][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding auth_time claim with value: "1621085180"
[2021-05-15T13:26:20.3874818+00:00][INFO][5][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2021-05-15T13:26:20.4050878+00:00][INFO][5][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM8NKJSNECI1:00000008", TimeStamp: 05/15/2021 13:26:20, ProcessId: 29, LocalIpAddress: "::ffff:172.20.0.7:80", RemoteIpAddress: "::ffff:172.20.0.1" }
[2021-05-15T13:26:20.4107175+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-15T13:26:20.4345232+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:20.4380302+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:20.4412289+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:20.4454302+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:20.4513469+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:20.4771202+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:20.4849828+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:20.4889870+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:20.4934518+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:20.4945333+00:00][DBUG][6][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-15T13:26:20.4946887+00:00][DBUG][6][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-15T13:26:20.4970941+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=MyClientId&redirect_uri=http%3A%2F%2Flocalhost%3A9000%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20roles&response_mode=form_post&nonce=637566819684004044.M2UwZjFmZjctMmUxYy00YjRlLTgyMWUtMWUxMDVhMzZiMTliZGZlMGZkYWUtMDJjYS00YWE5LWEyOTktOTY1ODIwZjBkYTY4&state=CfDJ8JW876rkMx9Ai8ul1HizK7tYepoqN3ltQ1mpuuD8xRGnTdhjEN0m5fuddkWM-u5D_iRE_ApmoEhwV98qY7OR7Cj3s1wIOW8btJqX5grSGRio2AADtqh5-jrpL5DnpaeDKFiXYX77hfnr3DOeGnRWW7RIdk-EhCfv7UofX372L7BSz2T4hWvMchdfsqACaZ-b2MpIOdm2gAnAsnhfaF46YlmCokf0Ac7SPZymCVZf7tvmmdp7vwgif2fymL3dpryR-j9a0WZgk2mnZD52w6-6jixzx7hH2zfMmOk9Jf-KTrmn&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0".
[2021-05-15T13:26:20.4988587+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)" in 833.3162ms
[2021-05-15T13:26:20.4994062+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"MyProject.STS.Identity.Controllers.AccountController<MyProject.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (MyProject.STS.Identity)"'
[2021-05-15T13:26:20.5026630+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 885.1395ms 302 
[2021-05-15T13:26:20.5087203+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/connect/authorize/callback?client_id=MyClientId&redirect_uri=http%3A%2F%2Flocalhost%3A9000%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20email%20roles&response_mode=form_post&nonce=637566819684004044.M2UwZjFmZjctMmUxYy00YjRlLTgyMWUtMWUxMDVhMzZiMTliZGZlMGZkYWUtMDJjYS00YWE5LWEyOTktOTY1ODIwZjBkYTY4&state=CfDJ8JW876rkMx9Ai8ul1HizK7tYepoqN3ltQ1mpuuD8xRGnTdhjEN0m5fuddkWM-u5D_iRE_ApmoEhwV98qY7OR7Cj3s1wIOW8btJqX5grSGRio2AADtqh5-jrpL5DnpaeDKFiXYX77hfnr3DOeGnRWW7RIdk-EhCfv7UofX372L7BSz2T4hWvMchdfsqACaZ-b2MpIOdm2gAnAsnhfaF46YlmCokf0Ac7SPZymCVZf7tvmmdp7vwgif2fymL3dpryR-j9a0WZgk2mnZD52w6-6jixzx7hH2zfMmOk9Jf-KTrmn&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
[2021-05-15T13:26:20.5131980+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize/callback" matched to endpoint type "Authorize"
[2021-05-15T13:26:20.5144518+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint"
[2021-05-15T13:26:20.5146624+00:00][INFO][5][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2021-05-15T13:26:20.5194163+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] Start authorize callback request
[2021-05-15T13:26:20.5229350+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] User in authorize request: "51384c14-f2c7-4abd-8193-75db22d900f9"
[2021-05-15T13:26:20.5230334+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-05-15T13:26:20.5235829+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-15T13:26:20.5281473+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-15T13:26:20.5374504+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:20.5418479+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:20.5445805+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:20.5500992+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:20.5765542+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:20.6036007+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:20.6076234+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:20.6333494+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:20.6363485+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:20.6366495+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-15T13:26:20.6370282+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-15T13:26:20.6371370+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2021-05-15T13:26:20.6371651+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] No PKCE used.
[2021-05-15T13:26:20.6408430+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-15T13:26:20.6417627+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-15T13:26:20.6472462+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-15T13:26:20.6524432+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-15T13:26:20.6985187+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-15T13:26:20.7257716+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-15T13:26:20.7373759+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-15T13:26:20.7382558+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-15T13:26:20.7395693+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-05-15T13:26:20.7420662+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "MyClientId", ClientName: "MyClientId", RedirectUri: "http://localhost:9000/signin-oidc", AllowedRedirectUris: ["http://localhost:9000/signin-oidc"], SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", ResponseType: "code id_token", ResponseMode: "form_post", GrantType: "hybrid", RequestedScopes: "openid profile email roles", State: "CfDJ8JW876rkMx9Ai8ul1HizK7tYepoqN3ltQ1mpuuD8xRGnTdhjEN0m5fuddkWM-u5D_iRE_ApmoEhwV98qY7OR7Cj3s1wIOW8btJqX5grSGRio2AADtqh5-jrpL5DnpaeDKFiXYX77hfnr3DOeGnRWW7RIdk-EhCfv7UofX372L7BSz2T4hWvMchdfsqACaZ-b2MpIOdm2gAnAsnhfaF46YlmCokf0Ac7SPZymCVZf7tvmmdp7vwgif2fymL3dpryR-j9a0WZgk2mnZD52w6-6jixzx7hH2zfMmOk9Jf-KTrmn", UiLocales: null, Nonce: "637566819684004044.M2UwZjFmZjctMmUxYy00YjRlLTgyMWUtMWUxMDVhMzZiMTliZGZlMGZkYWUtMDJjYS00YWE5LWEyOTktOTY1ODIwZjBkYTY4", AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "r0pY-7tIUcdNhy3F3eZbRQ", Raw: [("client_id": "MyClientId"), ("redirect_uri": "http://localhost:9000/signin-oidc"), ("response_type": "code id_token"), ("scope": "openid profile email roles"), ("response_mode": "form_post"), ("nonce": "637566819684004044.M2UwZjFmZjctMmUxYy00YjRlLTgyMWUtMWUxMDVhMzZiMTliZGZlMGZkYWUtMDJjYS00YWE5LWEyOTktOTY1ODIwZjBkYTY4"), ("state": "CfDJ8JW876rkMx9Ai8ul1HizK7tYepoqN3ltQ1mpuuD8xRGnTdhjEN0m5fuddkWM-u5D_iRE_ApmoEhwV98qY7OR7Cj3s1wIOW8btJqX5grSGRio2AADtqh5-jrpL5DnpaeDKFiXYX77hfnr3DOeGnRWW7RIdk-EhCfv7UofX372L7BSz2T4hWvMchdfsqACaZ-b2MpIOdm2gAnAsnhfaF46YlmCokf0Ac7SPZymCVZf7tvmmdp7vwgif2fymL3dpryR-j9a0WZgk2mnZD52w6-6jixzx7hH2zfMmOk9Jf-KTrmn"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.5.0.0")] }
[2021-05-15T13:26:20.7462345+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-15T13:26:20.7677029+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"Id\" = @__p_0
LIMIT 1"
[2021-05-15T13:26:20.7836627+00:00][INFO][13][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-15T13:26:20.8073172+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("17"ms) [Parameters=["@__key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__key_0
LIMIT 1"
[2021-05-15T13:26:20.8204013+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "FiMgizI/TAlytBBlnGfzVllupK/GcVNGf6O9Lhtb9hM=" found in database: True
[2021-05-15T13:26:20.8351580+00:00][DBUG][13][IdentityServer4.Services.DefaultConsentService] Consent found in consent store is same as current request, consent is not required
[2021-05-15T13:26:20.8385348+00:00][DBUG][13][IdentityServer4.ResponseHandling.AuthorizeResponseGenerator] Creating Hybrid Flow response.
[2021-05-15T13:26:20.8653496+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__token_Key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__token_Key_0
LIMIT 2"
[2021-05-15T13:26:20.8668655+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "EVbqcoS+0YwfDhNLSVeuuiscokQ34qxMu5u1ZOv59SE=" not found in database
[2021-05-15T13:26:20.9630289+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"PersistedGrants\" (\"Key\", \"ClientId\", \"CreationTime\", \"Data\", \"Expiration\", \"SubjectId\", \"Type\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);"
[2021-05-15T13:26:20.9945946+00:00][DBUG][5][IdentityServer4.ResponseHandling.AuthorizeResponseGenerator] Creating Implicit Flow response.
[2021-05-15T13:26:21.0024922+00:00][DBUG][5][IdentityServer4.Services.DefaultClaimsService] Getting claims for identity token for subject: "51384c14-f2c7-4abd-8193-75db22d900f9" and client: "MyClientId"
[2021-05-15T13:26:21.0045981+00:00][DBUG][5][IdentityServer4.Services.DefaultClaimsService] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
[2021-05-15T13:26:21.0771908+00:00][INFO][5][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "MyClientId", ClientName: "MyClientId", RedirectUri: "http://localhost:9000/signin-oidc", Endpoint: "Authorize", SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", Scopes: "openid profile email roles", GrantType: "hybrid", Tokens: [Token { TokenType: "id_token", TokenValue: "****tiyQ" }, Token { TokenType: "code", TokenValue: "****pRfI" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM8NKJSNECI1:00000009", TimeStamp: 05/15/2021 13:26:21, ProcessId: 29, LocalIpAddress: "::ffff:172.20.0.7:80", RemoteIpAddress: "::ffff:172.20.0.1" }
[2021-05-15T13:26:21.0791654+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] Authorize endpoint response
AuthorizeResponseLog { SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", ClientId: "MyClientId", RedirectUri: "http://localhost:9000/signin-oidc", State: "CfDJ8JW876rkMx9Ai8ul1HizK7tYepoqN3ltQ1mpuuD8xRGnTdhjEN0m5fuddkWM-u5D_iRE_ApmoEhwV98qY7OR7Cj3s1wIOW8btJqX5grSGRio2AADtqh5-jrpL5DnpaeDKFiXYX77hfnr3DOeGnRWW7RIdk-EhCfv7UofX372L7BSz2T4hWvMchdfsqACaZ-b2MpIOdm2gAnAsnhfaF46YlmCokf0Ac7SPZymCVZf7tvmmdp7vwgif2fymL3dpryR-j9a0WZgk2mnZD52w6-6jixzx7hH2zfMmOk9Jf-KTrmn", Scope: "openid profile email roles", Error: null, ErrorDescription: null }
[2021-05-15T13:26:21.0871780+00:00][DBUG][5][IdentityServer4.Hosting.IdentityServerAuthenticationService] Augmenting SignInContext
[2021-05-15T13:26:21.0882706+00:00][INFO][5][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2021-05-15T13:26:21.0927881+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 584.0418ms 200 text/html; charset=UTF-8
[2021-05-15T13:26:21.2633552+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://host.docker.internal:4000/connect/token application/x-www-form-urlencoded 185
[2021-05-15T13:26:21.2641971+00:00][DBUG][13][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/token" matched to endpoint type "Token"
[2021-05-15T13:26:21.2681827+00:00][DBUG][13][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
[2021-05-15T13:26:21.2684898+00:00][INFO][13][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
[2021-05-15T13:26:21.2728766+00:00][DBUG][13][IdentityServer4.Endpoints.TokenEndpoint] Start token request.
[2021-05-15T13:26:21.2752170+00:00][DBUG][13][IdentityServer4.Validation.ClientSecretValidator] Start client validation
[2021-05-15T13:26:21.2797461+00:00][DBUG][13][IdentityServer4.Validation.BasicAuthenticationSecretParser] Start parsing Basic Authentication secret
[2021-05-15T13:26:21.2815031+00:00][DBUG][13][IdentityServer4.Validation.PostBodySecretParser] Start parsing for secret in post body
[2021-05-15T13:26:21.2826088+00:00][DBUG][13][IdentityServer4.Validation.SecretParser] Parser found secret: "PostBodySecretParser"
[2021-05-15T13:26:21.2827267+00:00][DBUG][13][IdentityServer4.Validation.SecretParser] Secret id found: "MyClientId"
[2021-05-15T13:26:21.2842961+00:00][INFO][13][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-15T13:26:21.2874330+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-15T13:26:21.3120497+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:21.3556029+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:21.3576890+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:21.3603340+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:21.4269916+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:21.4509481+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:21.4557091+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:21.4591728+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:21.4632986+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:21.4651422+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-15T13:26:21.4653189+00:00][DBUG][4][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-15T13:26:21.4722825+00:00][DBUG][4][IdentityServer4.Validation.SecretValidator] Secret validator success: "HashedSharedSecretValidator"
[2021-05-15T13:26:21.4724261+00:00][DBUG][4][IdentityServer4.Validation.ClientSecretValidator] Client validation success
[2021-05-15T13:26:21.4737280+00:00][INFO][4][IdentityServer4.Events.DefaultEventService] ClientAuthenticationSuccessEvent { ClientId: "MyClientId", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HM8NKJSNECI2:00000003", TimeStamp: 05/15/2021 13:26:21, ProcessId: 29, LocalIpAddress: "::ffff:172.20.0.7:80", RemoteIpAddress: "::ffff:172.20.0.1" }
[2021-05-15T13:26:21.4765764+00:00][DBUG][4][IdentityServer4.Validation.TokenRequestValidator] Start token request validation
[2021-05-15T13:26:21.4803683+00:00][DBUG][4][IdentityServer4.Validation.TokenRequestValidator] Start validation of authorization code token request
[2021-05-15T13:26:21.4814001+00:00][INFO][4][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-15T13:26:21.4849453+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__key_0
LIMIT 1"
[2021-05-15T13:26:21.4865740+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "EVbqcoS+0YwfDhNLSVeuuiscokQ34qxMu5u1ZOv59SE=" found in database: True
[2021-05-15T13:26:21.5308583+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__key_0
LIMIT 1"
[2021-05-15T13:26:21.5319047+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] removing "EVbqcoS+0YwfDhNLSVeuuiscokQ34qxMu5u1ZOv59SE=" persisted grant from database
[2021-05-15T13:26:21.5398459+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@p0='?'"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM \"PersistedGrants\"
WHERE \"Key\" = @p0;"
[2021-05-15T13:26:21.5474075+00:00][INFO][4][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-15T13:26:21.6335110+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"Id\" = @__p_0
LIMIT 1"
[2021-05-15T13:26:21.6341982+00:00][DBUG][5][IdentityServer4.Validation.TokenRequestValidator] Validation of authorization code token request success
[2021-05-15T13:26:21.6369906+00:00][INFO][5][IdentityServer4.Validation.TokenRequestValidator] Token request validation success, TokenRequestValidationLog { ClientId: "MyClientId", ClientName: "MyClientId", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "zFQRWS50iWOm38gpOMgoLKwizBKt8hsaq7x7ZmupRfI", RefreshToken: null, UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("client_id": "MyClientId"), ("client_secret": "***REDACTED***"), ("code": "zFQRWS50iWOm38gpOMgoLKwizBKt8hsaq7x7ZmupRfI"), ("grant_type": "authorization_code"), ("redirect_uri": "http://localhost:9000/signin-oidc")] }
[2021-05-15T13:26:21.6646953+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-15T13:26:21.7089988+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:21.7750624+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:21.8398033+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("63"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:21.9064510+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("43"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:21.9726914+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:21.9771371+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:21.9821440+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:21.9862458+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:21.9896832+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:21.9916614+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-15T13:26:21.9921019+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-15T13:26:22.0218058+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-15T13:26:22.0227723+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-15T13:26:22.0288010+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-15T13:26:22.0298618+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-15T13:26:22.0377704+00:00][DBUG][5][IdentityServer4.Services.DefaultClaimsService] Getting claims for access token for client: "MyClientId"
[2021-05-15T13:26:22.0382709+00:00][DBUG][5][IdentityServer4.Services.DefaultClaimsService] Getting claims for access token for subject: "51384c14-f2c7-4abd-8193-75db22d900f9"
[2021-05-15T13:26:22.0445946+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"ClaimType\", u.\"ClaimValue\", u.\"UserId\"
FROM \"UserClaims\" AS u
WHERE u.\"UserId\" = @__user_Id_0"
[2021-05-15T13:26:22.0487703+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Name\"
FROM \"UserRoles\" AS u
INNER JOIN \"Roles\" AS r ON u.\"RoleId\" = r.\"Id\"
WHERE u.\"UserId\" = @__userId_0"
[2021-05-15T13:26:22.0756827+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"ConcurrencyStamp\", r.\"Name\", r.\"NormalizedName\"
FROM \"Roles\" AS r
WHERE r.\"NormalizedName\" = @__normalizedName_0
LIMIT 1"
[2021-05-15T13:26:22.0782723+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"ClaimType\", r.\"ClaimValue\"
FROM \"RoleClaims\" AS r
WHERE r.\"RoleId\" = @__role_Id_0"
[2021-05-15T13:26:22.1296577+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-15T13:26:22.1744880+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.1769229+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.1799743+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.2266061+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.2503108+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.2550925+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.2608185+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.2644109+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.3105788+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.3111730+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-15T13:26:22.3115018+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-15T13:26:22.3157635+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-15T13:26:22.3178633+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-15T13:26:22.3207611+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND COALESCE(a5.\"Name\" = ANY (@__names_0), FALSE))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-05-15T13:26:22.3217548+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-05-15T13:26:22.3225599+00:00][DBUG][13][IdentityServer4.Services.DefaultClaimsService] Getting claims for identity token for subject: "51384c14-f2c7-4abd-8193-75db22d900f9" and client: "MyClientId"
[2021-05-15T13:26:22.3226855+00:00][DBUG][13][IdentityServer4.Services.DefaultClaimsService] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
[2021-05-15T13:26:22.3257693+00:00][INFO][13][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "MyClientId", ClientName: "MyClientId", RedirectUri: null, Endpoint: "Token", SubjectId: "51384c14-f2c7-4abd-8193-75db22d900f9", Scopes: "openid profile email roles", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****ZD7A" }, Token { TokenType: "access_token", TokenValue: "****v7Bg" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM8NKJSNECI2:00000003", TimeStamp: 05/15/2021 13:26:22, ProcessId: 29, LocalIpAddress: "::ffff:172.20.0.7:80", RemoteIpAddress: "::ffff:172.20.0.1" }
[2021-05-15T13:26:22.3267393+00:00][DBUG][13][IdentityServer4.Endpoints.TokenEndpoint] Token request success.
[2021-05-15T13:26:22.3345845+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1071.2627ms 200 application/json; charset=UTF-8
[2021-05-15T13:26:22.3538037+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://host.docker.internal:4000/connect/userinfo  
[2021-05-15T13:26:22.3543384+00:00][DBUG][6][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/userinfo" matched to endpoint type "Userinfo"
[2021-05-15T13:26:22.3556277+00:00][DBUG][6][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Userinfo", successfully created handler: "IdentityServer4.Endpoints.UserInfoEndpoint"
[2021-05-15T13:26:22.3557111+00:00][INFO][6][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo"
[2021-05-15T13:26:22.3580108+00:00][DBUG][6][IdentityServer4.Endpoints.UserInfoEndpoint] Start userinfo request
[2021-05-15T13:26:22.3604697+00:00][DBUG][6][IdentityServer4.Validation.BearerTokenUsageValidator] Bearer token found in header
[2021-05-15T13:26:22.4016144+00:00][INFO][6][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-15T13:26:22.4040099+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-15T13:26:22.4308193+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.4546273+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.5037484+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.5295596+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.5353881+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.5611540+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.5861416+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.5925968+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.5974407+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.5982831+00:00][DBUG][13][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-15T13:26:22.5984159+00:00][DBUG][13][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-15T13:26:22.6050858+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-05-15T13:26:22.6307224+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.6336754+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.6399420+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.6425919+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.6478384+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.6532082+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.6581880+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.6614586+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.6635339+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-05-15T13:26:22.6638036+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "MyClientId" found in database: True
[2021-05-15T13:26:22.6639065+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "MyClientId" succeeded.
[2021-05-15T13:26:22.6655154+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.0" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=MyProject.Admin.EntityFramework.PostgreSQL "
[2021-05-15T13:26:22.7096577+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"Id\" = @__p_0
LIMIT 1"
[2021-05-15T13:26:22.7118912+00:00][DBUG][4][IdentityServer4.Validation.TokenValidator] Calling into custom token validator: "IdentityServer4.Validation.DefaultCustomTokenValidator"
[2021-05-15T13:26:22.7130614+00:00][DBUG][4][IdentityServer4.Validation.TokenValidator] Token validation success
TokenValidationLog { ClientId: null, ClientName: null, ValidateLifetime: True, AccessTokenType: "Jwt", ExpectedScope: "openid", TokenHandle: null, JwtId: null, Claims: [("nbf": 1621085182), ("exp": 1621088782), ("iss": "http://host.docker.internal:4000"), ("client_id": "MyClientId"), ("sub": "51384c14-f2c7-4abd-8193-75db22d900f9"), ("auth_time": 1621085180), ("idp": "local"), ("scope": ["roles", "openid", "profile", "email"]), ("amr": "pwd")] }
[2021-05-15T13:26:22.7178047+00:00][DBUG][4][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Creating userinfo response
[2021-05-15T13:26:22.7206966+00:00][DBUG][4][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Scopes in access token: "roles openid profile email"
[2021-05-15T13:26:22.7220956+00:00][DBUG][4][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Scopes in access token: "roles openid profile email"
[2021-05-15T13:26:22.7255061+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE COALESCE(i.\"Name\" = ANY (@__scopes_0), FALSE)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-05-15T13:26:22.7268435+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-05-15T13:26:22.7331899+00:00][DBUG][4][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Requested claim types: "role sub updated_at locale zoneinfo birthdate gender website picture preferred_username nickname middle_name given_name family_name name profile email email_verified"
[2021-05-15T13:26:22.7334332+00:00][DBUG][4][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Scopes in access token: "roles openid profile email"
[2021-05-15T13:26:22.7388188+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Tex